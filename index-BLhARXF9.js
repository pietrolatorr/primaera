(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var rm={exports:{}},Nl={};var Av;function jA(){if(Av)return Nl;Av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var Sv;function BA(){return Sv||(Sv=1,rm.exports=jA()),rm.exports}var C=BA(),sm={exports:{}},Se={};var wv;function qA(){if(wv)return Se;wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function k(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,G={};function te(L,W,oe){this.props=L,this.context=W,this.refs=G,this.updater=oe||H}te.prototype.isReactComponent={},te.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},te.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function ie(){}ie.prototype=te.prototype;function re(L,W,oe){this.props=L,this.context=W,this.refs=G,this.updater=oe||H}var ve=re.prototype=new ie;ve.constructor=re,X(ve,te.prototype),ve.isPureReactComponent=!0;var Re=Array.isArray;function Ae(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(L,W,oe){var ce=oe.ref;return{$$typeof:r,type:L,key:W,ref:ce!==void 0?ce:null,props:oe}}function M(L,W){return I(L.type,W,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function V(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(oe){return W[oe]})}var R=/\/+/g;function ne(L,W){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):W.toString(36)}function me(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Ae,Ae):(L.status="pending",L.then(function(W){L.status==="pending"&&(L.status="fulfilled",L.value=W)},function(W){L.status==="pending"&&(L.status="rejected",L.reason=W)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function F(L,W,oe,ce,Te){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var Be=!1;if(L===null)Be=!0;else switch(xe){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(L.$$typeof){case r:case e:Be=!0;break;case E:return Be=L._init,F(Be(L._payload),W,oe,ce,Te)}}if(Be)return Te=Te(L),Be=ce===""?"."+ne(L,0):ce,Re(Te)?(oe="",Be!=null&&(oe=Be.replace(R,"$&/")+"/"),F(Te,W,oe,"",function(gs){return gs})):Te!=null&&(D(Te)&&(Te=M(Te,oe+(Te.key==null||L&&L.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Be)),W.push(Te)),1;Be=0;var Mt=ce===""?".":ce+":";if(Re(L))for(var lt=0;lt<L.length;lt++)ce=L[lt],xe=Mt+ne(ce,lt),Be+=F(ce,W,oe,xe,Te);else if(lt=k(L),typeof lt=="function")for(L=lt.call(L),lt=0;!(ce=L.next()).done;)ce=ce.value,xe=Mt+ne(ce,lt++),Be+=F(ce,W,oe,xe,Te);else if(xe==="object"){if(typeof L.then=="function")return F(me(L),W,oe,ce,Te);throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Be}function se(L,W,oe){if(L==null)return L;var ce=[],Te=0;return F(L,ce,"","",function(xe){return W.call(oe,xe,Te++)}),ce}function fe(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(oe){(L._status===0||L._status===-1)&&(L._status=1,L._result=oe)},function(oe){(L._status===0||L._status===-1)&&(L._status=2,L._result=oe)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var Me=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ke={map:se,forEach:function(L,W,oe){se(L,function(){W.apply(this,arguments)},oe)},count:function(L){var W=0;return se(L,function(){W++}),W},toArray:function(L){return se(L,function(W){return W})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Se.Activity=b,Se.Children=Ke,Se.Component=te,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=re,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(L){return N.H.useMemoCache(L)}},Se.cache=function(L){return function(){return L.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(L,W,oe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ce=X({},L.props),Te=L.key;if(W!=null)for(xe in W.key!==void 0&&(Te=""+W.key),W)!w.call(W,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&W.ref===void 0||(ce[xe]=W[xe]);var xe=arguments.length-2;if(xe===1)ce.children=oe;else if(1<xe){for(var Be=Array(xe),Mt=0;Mt<xe;Mt++)Be[Mt]=arguments[Mt+2];ce.children=Be}return I(L.type,Te,ce)},Se.createContext=function(L){return L={$$typeof:f,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},Se.createElement=function(L,W,oe){var ce,Te={},xe=null;if(W!=null)for(ce in W.key!==void 0&&(xe=""+W.key),W)w.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=W[ce]);var Be=arguments.length-2;if(Be===1)Te.children=oe;else if(1<Be){for(var Mt=Array(Be),lt=0;lt<Be;lt++)Mt[lt]=arguments[lt+2];Te.children=Mt}if(L&&L.defaultProps)for(ce in Be=L.defaultProps,Be)Te[ce]===void 0&&(Te[ce]=Be[ce]);return I(L,xe,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(L){return{$$typeof:m,render:L}},Se.isValidElement=D,Se.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:fe}},Se.memo=function(L,W){return{$$typeof:y,type:L,compare:W===void 0?null:W}},Se.startTransition=function(L){var W=N.T,oe={};N.T=oe;try{var ce=L(),Te=N.S;Te!==null&&Te(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ae,Me)}catch(xe){Me(xe)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),N.T=W}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(L){return N.H.use(L)},Se.useActionState=function(L,W,oe){return N.H.useActionState(L,W,oe)},Se.useCallback=function(L,W){return N.H.useCallback(L,W)},Se.useContext=function(L){return N.H.useContext(L)},Se.useDebugValue=function(){},Se.useDeferredValue=function(L,W){return N.H.useDeferredValue(L,W)},Se.useEffect=function(L,W){return N.H.useEffect(L,W)},Se.useEffectEvent=function(L){return N.H.useEffectEvent(L)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(L,W,oe){return N.H.useImperativeHandle(L,W,oe)},Se.useInsertionEffect=function(L,W){return N.H.useInsertionEffect(L,W)},Se.useLayoutEffect=function(L,W){return N.H.useLayoutEffect(L,W)},Se.useMemo=function(L,W){return N.H.useMemo(L,W)},Se.useOptimistic=function(L,W){return N.H.useOptimistic(L,W)},Se.useReducer=function(L,W,oe){return N.H.useReducer(L,W,oe)},Se.useRef=function(L){return N.H.useRef(L)},Se.useState=function(L){return N.H.useState(L)},Se.useSyncExternalStore=function(L,W,oe){return N.H.useSyncExternalStore(L,W,oe)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.0",Se}var Rv;function ep(){return Rv||(Rv=1,sm.exports=qA()),sm.exports}var B=ep(),am={exports:{}},Dl={},om={exports:{}},lm={};var Cv;function HA(){return Cv||(Cv=1,(function(r){function e(F,se){var fe=F.length;F.push(se);e:for(;0<fe;){var Me=fe-1>>>1,Ke=F[Me];if(0<o(Ke,se))F[Me]=se,F[fe]=Ke,fe=Me;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var se=F[0],fe=F.pop();if(fe!==se){F[0]=fe;e:for(var Me=0,Ke=F.length,L=Ke>>>1;Me<L;){var W=2*(Me+1)-1,oe=F[W],ce=W+1,Te=F[ce];if(0>o(oe,fe))ce<Ke&&0>o(Te,oe)?(F[Me]=Te,F[ce]=fe,Me=ce):(F[Me]=oe,F[W]=fe,Me=W);else if(ce<Ke&&0>o(Te,fe))F[Me]=Te,F[ce]=fe,Me=ce;else break e}}return se}function o(F,se){var fe=F.sortIndex-se.sortIndex;return fe!==0?fe:F.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,S=3,k=!1,H=!1,X=!1,G=!1,te=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ve(F){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=F)s(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function Re(F){if(X=!1,ve(F),!H)if(n(p)!==null)H=!0,Ae||(Ae=!0,V());else{var se=n(y);se!==null&&me(Re,se.startTime-F)}}var Ae=!1,N=-1,w=5,I=-1;function M(){return G?!0:!(r.unstable_now()-I<w)}function D(){if(G=!1,Ae){var F=r.unstable_now();I=F;var se=!0;try{e:{H=!1,X&&(X=!1,ie(N),N=-1),k=!0;var fe=S;try{t:{for(ve(F),b=n(p);b!==null&&!(b.expirationTime>F&&M());){var Me=b.callback;if(typeof Me=="function"){b.callback=null,S=b.priorityLevel;var Ke=Me(b.expirationTime<=F);if(F=r.unstable_now(),typeof Ke=="function"){b.callback=Ke,ve(F),se=!0;break t}b===n(p)&&s(p),ve(F)}else s(p);b=n(p)}if(b!==null)se=!0;else{var L=n(y);L!==null&&me(Re,L.startTime-F),se=!1}}break e}finally{b=null,S=fe,k=!1}se=void 0}}finally{se?V():Ae=!1}}}var V;if(typeof re=="function")V=function(){re(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=D,V=function(){ne.postMessage(null)}}else V=function(){te(D,0)};function me(F,se){N=te(function(){F(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(F){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var fe=S;S=se;try{return F()}finally{S=fe}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=S;S=F;try{return se()}finally{S=fe}},r.unstable_scheduleCallback=function(F,se,fe){var Me=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Me+fe:Me):fe=Me,F){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=fe+Ke,F={id:E++,callback:se,priorityLevel:F,startTime:fe,expirationTime:Ke,sortIndex:-1},fe>Me?(F.sortIndex=fe,e(y,F),n(p)===null&&F===n(y)&&(X?(ie(N),N=-1):X=!0,me(Re,fe-Me))):(F.sortIndex=Ke,e(p,F),H||k||(H=!0,Ae||(Ae=!0,V()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var se=S;return function(){var fe=S;S=se;try{return F.apply(this,arguments)}finally{S=fe}}}})(lm)),lm}var Iv;function FA(){return Iv||(Iv=1,om.exports=HA()),om.exports}var um={exports:{}},Jt={};var xv;function GA(){if(xv)return Jt;xv=1;var r=ep();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Jt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Jt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Jt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Jt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Jt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,y){return p(y)},Jt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.2.0",Jt}var Nv;function QA(){if(Nv)return um.exports;Nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=GA(),um.exports}var Dv;function YA(){if(Dv)return Dl;Dv=1;var r=FA(),e=ep(),n=QA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case te:return"Profiler";case G:return"StrictMode";case Re:return"Suspense";case Ae:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:ne(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return ne(t(i))}catch{}}return null}var me=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Me=[],Ke=-1;function L(t){return{current:t}}function W(t){0>Ke||(t.current=Me[Ke],Me[Ke]=null,Ke--)}function oe(t,i){Ke++,Me[Ke]=t.current,t.current=i}var ce=L(null),Te=L(null),xe=L(null),Be=L(null);function Mt(t,i){switch(oe(xe,i),oe(Te,t),oe(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Q_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Q_(i),t=Y_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ce),oe(ce,t)}function lt(){W(ce),W(Te),W(xe)}function gs(t){t.memoizedState!==null&&oe(Be,t);var i=ce.current,a=Y_(i,t.type);i!==a&&(oe(Te,t),oe(ce,a))}function sa(t){Te.current===t&&(W(ce),W(Te)),Be.current===t&&(W(Be),Rl._currentValue=fe)}var aa,oa;function ii(t){if(aa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);aa=i&&i[1]||"",oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+t+oa}var Ro=!1;function ys(t,i){if(!t||Ro)return"";Ro=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var q=Y}Reflect.construct(t,[],J)}else{try{J.call()}catch(Y){q=Y}t.call(J.prototype)}}else{try{throw Error()}catch(Y){q=Y}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var x=_.split(`
`),j=T.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===j.length)for(l=x.length-1,h=j.length-1;1<=l&&0<=h&&x[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==j[h]){var K=`
`+x[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Ro=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ii(a):""}function Co(t,i){switch(t.tag){case 26:case 27:case 5:return ii(t.type);case 16:return ii("Lazy");case 13:return t.child!==i&&i!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return ys(t.type,!1);case 11:return ys(t.type.render,!1);case 1:return ys(t.type,!0);case 31:return ii("Activity");default:return""}}function Io(t){try{var i="",a=null;do i+=Co(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,gr=r.unstable_cancelCallback,af=r.unstable_shouldYield,_u=r.unstable_requestPaint,rn=r.unstable_now,_s=r.unstable_getCurrentPriorityLevel,xo=r.unstable_ImmediatePriority,No=r.unstable_UserBlockingPriority,yr=r.unstable_NormalPriority,of=r.unstable_LowPriority,vu=r.unstable_IdlePriority,Eu=r.log,Tu=r.unstable_setDisableYieldValue,qn=null,Ht=null;function In(t){if(typeof Eu=="function"&&Tu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(qn,t)}catch{}}var gt=Math.clz32?Math.clz32:Au,bu=Math.log,la=Math.LN2;function Au(t){return t>>>=0,t===0?32:31-(bu(t)/la|0)|0}var ri=256,vs=262144,bt=4194304;function si(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=si(l):(_&=T,_!==0?h=si(_):a||(a=T&~t,a!==0&&(h=si(a))))):(T=l&~d,T!==0?h=si(T):_!==0?h=si(_):a||(a=l&~t,a!==0&&(h=si(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function oi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Es(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-gt(a),J=1<<K;T[K]=0,x[K]=-1;var q=j[K];if(q!==null)for(j[K]=null,K=0;K<q.length;K++){var Y=q[K];Y!==null&&(Y.lane&=-536870913)}a&=~J}l!==0&&Ts(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ts(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Do(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Oo(t,i){var a=i&-i;return a=(a&42)!==0?1:bs(a),(a&(t.suspendedLanes|i))!==0?0:a}function bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:gv(t.type))}function Fn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Gn=Math.random().toString(36).slice(2),At="__reactFiber$"+Gn,Ut="__reactProps$"+Gn,li="__reactContainer$"+Gn,ua="__reactEvents$"+Gn,cf="__reactListeners$"+Gn,Ru="__reactHandles$"+Gn,Cu="__reactResources$"+Gn,ui="__reactMarker$"+Gn;function ca(t){delete t[At],delete t[Ut],delete t[ua],delete t[cf],delete t[Ru]}function ci(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[li]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=ev(t);t!==null;){if(a=t[At])return a;t=ev(t)}return i}t=a,a=t.parentNode}return null}function xn(t){if(t=t[At]||t[li]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function hi(t){var i=t[Cu];return i||(i=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[ui]=!0}var Mo=new Set,Vo={};function fi(t,i){di(t,i),di(t+"Capture",i)}function di(t,i){for(Vo[t]=i,t=0;t<i.length;t++)Mo.add(i[t])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Uo={};function Iu(t){return Tt.call(Uo,t)?!0:Tt.call(ko,t)?!1:Lo.test(t)?Uo[t]=!0:(ko[t]=!0,!1)}function ha(t,i,a){if(Iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _r(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Po(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=_r(t)?"checked":"value";t._valueTracker=Po(t,i,""+t[i])}}function As(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=_r(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ss=/[\n"\\]/g;function un(t){return t.replace(Ss,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fa(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?zo(t,_,Pt(i)):a!=null?zo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function xu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function zo(t,i,a){i==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Nu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function Er(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Du.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&jo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&jo(t,d,i[d])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return Tr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var qo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var br=null,pi=null;function ws(t){var i=xn(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(s(90));fa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&As(l)}break e;case"textarea":Nu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&vr(t,!!a.multiple,i,!1)}}}var pa=!1;function Ar(t,i,a){if(pa)return t(i,a);pa=!0;try{var l=t(i);return l}finally{if(pa=!1,(br!==null||pi!==null)&&(wc(),br&&(i=br,t=pi,pi=br=null,ws(i),t)))for(i=0;i<t.length;i++)ws(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rs=!1;if(Dn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Rs=!1}var gi=null,Ho=null,Cs=null;function Fo(){if(Cs)return Cs;var t,i=Ho,a=i.length,l,h="value"in gi?gi.value:gi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Cs=h.slice(t,1<l?1-l:void 0)}function Is(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Kn(){return!1}function Ft(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Kn,this.isPropagationStopped=Kn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Ft(ji),Sr=b({},ji,{view:0,detail:0}),Go=Ft(Sr),wr,ga,_i,ya=b({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(wr=t.screenX-_i.screenX,ga=t.screenY-_i.screenY):ga=wr=0,_i=t),wr)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),Qo=Ft(ya),xs=b({},ya,{dataTransfer:0}),Mu=Ft(xs),Vu=b({},Sr,{relatedTarget:0}),Ns=Ft(Vu),Yo=b({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=Ft(Yo),_a=b({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ku=Ft(_a),Uu=b({},ji,{data:0}),vi=Ft(Uu),Pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ju[t])?!!i[t]:!1}function Rr(){return Bu}var sn=b({},Sr,{key:function(t){if(t.key){var i=Pu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=Ft(sn),Hu=b({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Ft(Hu),c=b({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),g=Ft(c),v=b({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ft(v),P=b({},ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ft(P),ae=b({},ji,{newState:0,oldState:0}),Ce=Ft(ae),yt=[9,13,27,32],Ge=Dn&&"CompositionEvent"in window,ut=null;Dn&&"documentMode"in document&&(ut=document.documentMode);var On=Dn&&"TextEvent"in window&&!ut,Ei=Dn&&(!Ge||ut&&8<ut&&11>=ut),Xn=" ",$n=!1;function Ds(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function c1(t,i){switch(t){case"compositionend":return va(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return t=i.data,t===Xn&&$n?null:t;default:return null}}function h1(t,i){if(Ea)return t==="compositionend"||!Ge&&Ds(t,i)?(t=Fo(),Cs=Ho=gi=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!f1[t.type]:i==="textarea"}function rg(t,i,a,l){br?pi?pi.push(l):pi=[l]:br=l,i=Oc(i,"onChange"),0<i.length&&(a=new yi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ko=null,Xo=null;function d1(t){j_(t,0)}function Fu(t){var i=_n(t);if(As(i))return t}function sg(t,i){if(t==="change")return i}var ag=!1;if(Dn){var hf;if(Dn){var ff="oninput"in document;if(!ff){var og=document.createElement("div");og.setAttribute("oninput","return;"),ff=typeof og.oninput=="function"}hf=ff}else hf=!1;ag=hf&&(!document.documentMode||9<document.documentMode)}function lg(){Ko&&(Ko.detachEvent("onpropertychange",ug),Xo=Ko=null)}function ug(t){if(t.propertyName==="value"&&Fu(Xo)){var i=[];rg(i,Xo,t,Nn(t)),Ar(d1,i)}}function m1(t,i,a){t==="focusin"?(lg(),Ko=i,Xo=a,Ko.attachEvent("onpropertychange",ug)):t==="focusout"&&lg()}function p1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(Xo)}function g1(t,i){if(t==="click")return Fu(i)}function y1(t,i){if(t==="input"||t==="change")return Fu(i)}function _1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:_1;function $o(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!En(t[h],i[h]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hg(t,i){var a=cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cg(a)}}function fg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?fg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=mi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=mi(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var v1=Dn&&"documentMode"in document&&11>=document.documentMode,Ta=null,mf=null,Zo=null,pf=!1;function mg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Ta==null||Ta!==mi(l)||(l=Ta,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&$o(Zo,l)||(Zo=l,l=Oc(mf,"onSelect"),0<l.length&&(i=new yi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ta)))}function Os(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ba={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},gf={},pg={};Dn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Ms(t){if(gf[t])return gf[t];if(!ba[t])return t;var i=ba[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in pg)return gf[t]=i[a];return t}var gg=Ms("animationend"),yg=Ms("animationiteration"),_g=Ms("animationstart"),E1=Ms("transitionrun"),T1=Ms("transitionstart"),b1=Ms("transitioncancel"),vg=Ms("transitionend"),Eg=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function Zn(t,i){Eg.set(t,i),fi(i,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Aa=0,_f=0;function Qu(){for(var t=Aa,i=_f=Aa=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Tg(a,h,d)}}function Yu(t,i,a,l){Mn[Aa++]=t,Mn[Aa++]=i,Mn[Aa++]=a,Mn[Aa++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,a,l){return Yu(t,i,a,l),Ku(t)}function Vs(t,i){return Yu(t,null,null,i),Ku(t)}function Tg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ku(t){if(50<vl)throw vl=0,Id=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Sa={};function A1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new A1(t,i,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function bg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Ef(t)&&(_=1);else if(typeof t=="string")_=IA(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Tn(31,a,i,h),t.elementType=I,t.lanes=d,t;case X:return Ls(a.children,h,d,i);case G:_=8,h|=24;break;case te:return t=Tn(12,a,i,h|2),t.elementType=te,t.lanes=d,t;case Re:return t=Tn(13,a,i,h),t.elementType=Re,t.lanes=d,t;case Ae:return t=Tn(19,a,i,h),t.elementType=Ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ie:_=9;break e;case ve:_=11;break e;case N:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Tn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ls(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function Tf(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function Ag(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function bf(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Sg=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=Sg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Io(i)},Sg.set(t,i),i)}return{value:t,source:i,stack:Io(i)}}var wa=[],Ra=0,$u=null,Jo=0,Ln=[],kn=0,Cr=null,Ti=1,bi="";function Hi(t,i){wa[Ra++]=Jo,wa[Ra++]=$u,$u=t,Jo=i}function wg(t,i,a){Ln[kn++]=Ti,Ln[kn++]=bi,Ln[kn++]=Cr,Cr=t;var l=Ti;t=bi;var h=32-gt(l)-1;l&=~(1<<h),a+=1;var d=32-gt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ti=1<<32-gt(i)+h|a<<h|l,bi=d+t}else Ti=1<<d|a<<h|l,bi=t}function Af(t){t.return!==null&&(Hi(t,1),wg(t,1,0))}function Sf(t){for(;t===$u;)$u=wa[--Ra],wa[Ra]=null,Jo=wa[--Ra],wa[Ra]=null;for(;t===Cr;)Cr=Ln[--kn],Ln[kn]=null,bi=Ln[--kn],Ln[kn]=null,Ti=Ln[--kn],Ln[kn]=null}function Rg(t,i){Ln[kn++]=Ti,Ln[kn++]=bi,Ln[kn++]=Cr,Ti=i.id,bi=i.overflow,Cr=t}var Gt=null,st=null,ze=!1,Ir=null,Un=!1,wf=Error(s(519));function xr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(Vn(i,t)),wf}function Cg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[Ut]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Oe(Tl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),xu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Er(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||F_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||xr(t,!0)}function Ig(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Gt=Gt.return}}function Ca(t){if(t!==Gt)return!1;if(!ze)return Ig(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&st&&xr(t),Ig(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=W_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=W_(t)}else i===27?(i=st,Hr(t.type)?(t=Kd,Kd=null,st=t):st=i):st=Gt?zn(t.stateNode.nextSibling):null;return!0}function ks(){st=Gt=null,ze=!1}function Rf(){var t=Ir;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Ir=null),t}function Wo(t){Ir===null?Ir=[t]:Ir.push(t)}var Cf=L(null),Us=null,Fi=null;function Nr(t,i,a){oe(Cf,i._currentValue),i._currentValue=a}function Gi(t){t._currentValue=Cf.current,W(Cf)}function If(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function xf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var x=0;x<i.length;x++)if(T.context===i[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),If(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),If(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ia(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;En(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Be.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&xf(i,t,a,l),i.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ps(t){Us=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return xg(Us,t)}function Ju(t,i){return Us===null&&Ps(t),xg(t,i)}function xg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(s(308));Fi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fi=Fi.next=i;return a}var S1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},w1=r.unstable_scheduleCallback,R1=r.unstable_NormalPriority,Rt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new S1,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&w1(R1,function(){t.controller.abort()})}var tl=null,Df=0,xa=0,Na=null;function C1(t,i){if(tl===null){var a=tl=[];Df=0,xa=Vd(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(Ng,Ng),i}function Ng(){if(--Df===0&&tl!==null){Na!==null&&(Na.status="fulfilled");var t=tl;tl=null,xa=0,Na=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function I1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Dg=F.S;F.S=function(t,i){m_=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&C1(t,i),Dg!==null&&Dg(t,i)};var zs=L(null);function Of(){var t=zs.current;return t!==null?t:it.pooledCache}function Wu(t,i){i===null?oe(zs,zs.current):oe(zs,i.pool)}function Og(){var t=Of();return t===null?null:{parent:Rt._currentValue,pool:t}}var Da=Error(s(460)),Mf=Error(s(474)),ec=Error(s(542)),tc={then:function(){}};function Mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kg(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kg(t),t}throw Bs=i,Da}}function js(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bs=a,Da):a}}var Bs=null;function Lg(){if(Bs===null)throw Error(s(459));var t=Bs;return Bs=null,t}function kg(t){if(t===Da||t===ec)throw Error(s(483))}var Oa=null,nl=0;function nc(t){var i=nl;return nl+=1,Oa===null&&(Oa=[]),Vg(Oa,t,i)}function il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ug(t){function i(U,O){if(t){var z=U.deletions;z===null?(U.deletions=[O],U.flags|=16):z.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=qi(U,O),U.index=0,U.sibling=null,U}function d(U,O,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<O?(U.flags|=67108866,O):z):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,O,z,$){return O===null||O.tag!==6?(O=Tf(z,U.mode,$),O.return=U,O):(O=h(O,z),O.return=U,O)}function x(U,O,z,$){var pe=z.type;return pe===X?K(U,O,z.props.children,$,z.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&js(pe)===O.type)?(O=h(O,z.props),il(O,z),O.return=U,O):(O=Xu(z.type,z.key,z.props,null,U.mode,$),il(O,z),O.return=U,O)}function j(U,O,z,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=bf(z,U.mode,$),O.return=U,O):(O=h(O,z.children||[]),O.return=U,O)}function K(U,O,z,$,pe){return O===null||O.tag!==7?(O=Ls(z,U.mode,$,pe),O.return=U,O):(O=h(O,z),O.return=U,O)}function J(U,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Tf(""+O,U.mode,z),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return z=Xu(O.type,O.key,O.props,null,U.mode,z),il(z,O),z.return=U,z;case H:return O=bf(O,U.mode,z),O.return=U,O;case w:return O=js(O),J(U,O,z)}if(me(O)||V(O))return O=Ls(O,U.mode,z,null),O.return=U,O;if(typeof O.then=="function")return J(U,nc(O),z);if(O.$$typeof===re)return J(U,Ju(U,O),z);ic(U,O)}return null}function q(U,O,z,$){var pe=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:T(U,O,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===pe?x(U,O,z,$):null;case H:return z.key===pe?j(U,O,z,$):null;case w:return z=js(z),q(U,O,z,$)}if(me(z)||V(z))return pe!==null?null:K(U,O,z,$,null);if(typeof z.then=="function")return q(U,O,nc(z),$);if(z.$$typeof===re)return q(U,O,Ju(U,z),$);ic(U,z)}return null}function Y(U,O,z,$,pe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(z)||null,T(O,U,""+$,pe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return U=U.get($.key===null?z:$.key)||null,x(O,U,$,pe);case H:return U=U.get($.key===null?z:$.key)||null,j(O,U,$,pe);case w:return $=js($),Y(U,O,z,$,pe)}if(me($)||V($))return U=U.get(z)||null,K(O,U,$,pe,null);if(typeof $.then=="function")return Y(U,O,z,nc($),pe);if($.$$typeof===re)return Y(U,O,z,Ju(O,$),pe);ic(O,$)}return null}function he(U,O,z,$){for(var pe=null,He=null,de=O,Ne=O=0,Le=null;de!==null&&Ne<z.length;Ne++){de.index>Ne?(Le=de,de=null):Le=de.sibling;var Fe=q(U,de,z[Ne],$);if(Fe===null){de===null&&(de=Le);break}t&&de&&Fe.alternate===null&&i(U,de),O=d(Fe,O,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe,de=Le}if(Ne===z.length)return a(U,de),ze&&Hi(U,Ne),pe;if(de===null){for(;Ne<z.length;Ne++)de=J(U,z[Ne],$),de!==null&&(O=d(de,O,Ne),He===null?pe=de:He.sibling=de,He=de);return ze&&Hi(U,Ne),pe}for(de=l(de);Ne<z.length;Ne++)Le=Y(de,U,Ne,z[Ne],$),Le!==null&&(t&&Le.alternate!==null&&de.delete(Le.key===null?Ne:Le.key),O=d(Le,O,Ne),He===null?pe=Le:He.sibling=Le,He=Le);return t&&de.forEach(function(Kr){return i(U,Kr)}),ze&&Hi(U,Ne),pe}function ye(U,O,z,$){if(z==null)throw Error(s(151));for(var pe=null,He=null,de=O,Ne=O=0,Le=null,Fe=z.next();de!==null&&!Fe.done;Ne++,Fe=z.next()){de.index>Ne?(Le=de,de=null):Le=de.sibling;var Kr=q(U,de,Fe.value,$);if(Kr===null){de===null&&(de=Le);break}t&&de&&Kr.alternate===null&&i(U,de),O=d(Kr,O,Ne),He===null?pe=Kr:He.sibling=Kr,He=Kr,de=Le}if(Fe.done)return a(U,de),ze&&Hi(U,Ne),pe;if(de===null){for(;!Fe.done;Ne++,Fe=z.next())Fe=J(U,Fe.value,$),Fe!==null&&(O=d(Fe,O,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe);return ze&&Hi(U,Ne),pe}for(de=l(de);!Fe.done;Ne++,Fe=z.next())Fe=Y(de,U,Ne,Fe.value,$),Fe!==null&&(t&&Fe.alternate!==null&&de.delete(Fe.key===null?Ne:Fe.key),O=d(Fe,O,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe);return t&&de.forEach(function(zA){return i(U,zA)}),ze&&Hi(U,Ne),pe}function nt(U,O,z,$){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:e:{for(var pe=z.key;O!==null;){if(O.key===pe){if(pe=z.type,pe===X){if(O.tag===7){a(U,O.sibling),$=h(O,z.props.children),$.return=U,U=$;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&js(pe)===O.type){a(U,O.sibling),$=h(O,z.props),il($,z),$.return=U,U=$;break e}a(U,O);break}else i(U,O);O=O.sibling}z.type===X?($=Ls(z.props.children,U.mode,$,z.key),$.return=U,U=$):($=Xu(z.type,z.key,z.props,null,U.mode,$),il($,z),$.return=U,U=$)}return _(U);case H:e:{for(pe=z.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(U,O.sibling),$=h(O,z.children||[]),$.return=U,U=$;break e}else{a(U,O);break}else i(U,O);O=O.sibling}$=bf(z,U.mode,$),$.return=U,U=$}return _(U);case w:return z=js(z),nt(U,O,z,$)}if(me(z))return he(U,O,z,$);if(V(z)){if(pe=V(z),typeof pe!="function")throw Error(s(150));return z=pe.call(z),ye(U,O,z,$)}if(typeof z.then=="function")return nt(U,O,nc(z),$);if(z.$$typeof===re)return nt(U,O,Ju(U,z),$);ic(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(U,O.sibling),$=h(O,z),$.return=U,U=$):(a(U,O),$=Tf(z,U.mode,$),$.return=U,U=$),_(U)):a(U,O)}return function(U,O,z,$){try{nl=0;var pe=nt(U,O,z,$);return Oa=null,pe}catch(de){if(de===Da||de===ec)throw de;var He=Tn(29,de,null,U.mode);return He.lanes=$,He.return=U,He}finally{}}}var qs=Ug(!0),Pg=Ug(!1),Dr=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ku(t),Tg(t,null,a),i}return Yu(t,l,i,a),Ku(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Do(t,a)}}function kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Uf=!1;function sl(){if(Uf){var t=Na;if(t!==null)throw t}}function al(t,i,a,l){Uf=!1;var h=t.updateQueue;Dr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,j=x.next;x.next=null,_===null?d=j:_.next=j,_=x;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=j:T.next=j,K.lastBaseUpdate=x))}if(d!==null){var J=h.baseState;_=0,K=j=x=null,T=d;do{var q=T.lane&-536870913,Y=q!==T.lane;if(Y?(Ve&q)===q:(l&q)===q){q!==0&&q===xa&&(Uf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,ye=T;q=i;var nt=a;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){J=he.call(nt,J,q);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,q=typeof he=="function"?he.call(nt,J,q):he,q==null)break e;J=b({},J,q);break e;case 2:Dr=!0}}q=T.callback,q!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(j=K=Y,x=J):K=K.next=Y,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);K===null&&(x=J),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Pr|=_,t.lanes=_,t.memoizedState=J}}function zg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)zg(a[t],i)}var Ma=L(null),rc=L(0);function Bg(t,i){t=er,oe(rc,t),oe(Ma,i),er=t|i.baseLanes}function Pf(){oe(rc,er),oe(Ma,Ma.current)}function zf(){er=rc.current,W(Ma),W(rc)}var bn=L(null),Pn=null;function Vr(t){var i=t.alternate;oe(_t,_t.current&1),oe(bn,t),Pn===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(Pn=t)}function jf(t){oe(_t,_t.current),oe(bn,t),Pn===null&&(Pn=t)}function qg(t){t.tag===22?(oe(_t,_t.current),oe(bn,t),Pn===null&&(Pn=t)):Lr()}function Lr(){oe(_t,_t.current),oe(bn,bn.current)}function An(t){W(bn),Pn===t&&(Pn=null),W(_t)}var _t=L(0);function sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||Yd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Ie=null,et=null,Ct=null,ac=!1,Va=!1,Hs=!1,oc=0,ol=0,La=null,x1=0;function dt(){throw Error(s(321))}function Bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function qf(t,i,a,l,h,d){return Qi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?wy:id,Hs=!1,d=a(l,h),Hs=!1,Va&&(d=Fg(i,a,l,h)),Hg(t),d}function Hg(t){F.H=cl;var i=et!==null&&et.next!==null;if(Qi=0,Ct=et=Ie=null,ac=!1,ol=0,La=null,i)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&Zu(t)&&(It=!0))}function Fg(t,i,a,l){Ie=t;var h=0;do{if(Va&&(La=null),ol=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,Ct=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Ry,d=i(a,l)}while(Va);return d}function N1(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Hf(){var t=oc!==0;return oc=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ac=!1}Qi=0,Ct=et=Ie=null,Va=!1,ol=oc=0,La=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function vt(){if(et===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Ct===null?Ie.memoizedState:Ct.next;if(i!==null)Ct=i,et=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,La===null&&(La=[]),t=Vg(La,t,i),i=Ie,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?wy:id),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===re)return Qt(t)}throw Error(s(438,String(t)))}function Qf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Yi(t,i){return typeof i=="function"?i(t):i}function cc(t){var i=vt();return Yf(i,et,t)}function Yf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,x=null,j=i,K=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Ve&J)===J:(Qi&J)===J){var q=j.revertLane;if(q===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===xa&&(K=!0);else if((Qi&q)===q){j=j.next,q===xa&&(K=!0);continue}else J={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=J,_=d):x=x.next=J,Ie.lanes|=q,Pr|=q;J=j.action,Hs&&a(d,J),d=j.hasEagerState?j.eagerState:a(d,J)}else q={lane:J,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=q,_=d):x=x.next=q,Ie.lanes|=J,Pr|=J;j=j.next}while(j!==null&&j!==i);if(x===null?_=d:x.next=T,!En(d,t.memoizedState)&&(It=!0,K&&(a=Na,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kf(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);En(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Gg(t,i,a){var l=Ie,h=vt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!En((et||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,Zf(Kg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},Yg.bind(null,l,h,a,i),null),it===null)throw Error(s(349));d||(Qi&127)!==0||Qg(l,i,a)}return a}function Qg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=lc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Yg(t,i,a,l){i.value=a,i.getSnapshot=l,Xg(i)&&$g(t)}function Kg(t,i,a){return a(function(){Xg(i)&&$g(t)})}function Xg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function $g(t){var i=Vs(t,2);i!==null&&pn(i,t,2)}function Xf(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),Hs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function Zg(t,i,a,l){return t.baseState=a,Yf(t,et,typeof l=="function"?l:Yi)}function D1(t,i,a,l,h){if(dc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Jg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Jg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=F.T,_={};F.T=_;try{var T=a(h,l),x=F.S;x!==null&&x(_,T),Wg(t,i,T)}catch(j){$f(t,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),F.T=d}}else try{d=a(h,l),Wg(t,i,d)}catch(j){$f(t,i,j)}}function Wg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ey(t,i,l)},function(l){return $f(t,i,l)}):ey(t,i,a)}function ey(t,i,a){i.status="fulfilled",i.value=a,ty(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Jg(t,a)))}function $f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ty(i),i=i.next;while(i!==l)}t.action=null}function ty(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ny(t,i){return i}function iy(t,i){if(ze){var a=it.formState;if(a!==null){e:{var l=Ie;if(ze){if(st){t:{for(var h=st,d=Un;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){st=zn(h.nextSibling),l=h.data==="F!";break e}}xr(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:i},a.queue=l,a=by.bind(null,Ie,l),l.dispatch=a,l=Xf(!1),d=nd.bind(null,Ie,!1,l.queue),l=an(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=D1.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ry(t){var i=vt();return sy(i,et,t)}function sy(t,i,a){if(i=Yf(t,i,ny)[0],t=cc(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(_){throw _===Da?ec:_}else l=i;i=vt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,ka(9,{destroy:void 0},O1.bind(null,h,a),null)),[l,d,t]}function O1(t,i){t.action=i}function ay(t){var i=vt(),a=et;if(a!==null)return sy(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=lc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function oy(){return vt().memoizedState}function hc(t,i,a,l){var h=an();Ie.flags|=t,h.memoizedState=ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function fc(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&Bf(l,et.memoizedState.deps)?h.memoizedState=ka(i,d,a,l):(Ie.flags|=t,h.memoizedState=ka(1|i,d,a,l))}function ly(t,i){hc(8390656,8,t,i)}function Zf(t,i){fc(2048,8,t,i)}function M1(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=lc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function uy(t){var i=vt().memoizedState;return M1({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function cy(t,i){return fc(4,2,t,i)}function hy(t,i){return fc(4,4,t,i)}function fy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function dy(t,i,a){a=a!=null?a.concat([t]):null,fc(4,4,fy.bind(null,i,t),a)}function Jf(){}function my(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function py(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),Hs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function Wf(t,i,a){return a===void 0||(Qi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=g_(),Ie.lanes|=t,Pr|=t,a)}function gy(t,i,a,l){return En(a,i)?a:Ma.current!==null?(t=Wf(t,a,l),En(t,i)||(It=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(Ve&261930)===0?(It=!0,t.memoizedState=a):(t=g_(),Ie.lanes|=t,Pr|=t,i)}function yy(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=F.T,T={};F.T=T,nd(t,!1,i,a);try{var x=h(),j=F.S;if(j!==null&&j(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var K=I1(x,l);ul(t,i,K,Rn(t))}else ul(t,i,l,Rn(t))}catch(J){ul(t,i,{then:function(){},status:"rejected",reason:J},Rn())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),F.T=_}}function V1(){}function ed(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=_y(t).queue;yy(t,h,i,fe,a===null?V1:function(){return vy(t),a(l)})}function _y(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function vy(t){var i=_y(t);i.next===null&&(i=t.alternate.memoizedState),ul(t,i.next.queue,{},Rn())}function td(){return Qt(Rl)}function Ey(){return vt().memoizedState}function Ty(){return vt().memoizedState}function L1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();t=Or(a);var l=Mr(i,t,a);l!==null&&(pn(l,i,a),rl(l,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function k1(t,i,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dc(t)?Ay(i,a):(a=vf(t,i,a,l),a!==null&&(pn(a,t,l),Sy(a,i,l)))}function by(t,i,a){var l=Rn();ul(t,i,a,l)}function ul(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(t))Ay(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,_))return Yu(t,i,h,0),it===null&&Qu(),!1}catch{}finally{}if(a=vf(t,i,h,l),a!==null)return pn(a,t,l),Sy(a,i,l),!0}return!1}function nd(t,i,a,l){if(l={lane:2,revertLane:Vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(i)throw Error(s(479))}else i=vf(t,a,l,2),i!==null&&pn(i,t,2)}function dc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Ay(t,i){Va=ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Sy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Do(t,a)}}var cl={readContext:Qt,use:uc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};cl.useEffectEvent=dt;var wy={readContext:Qt,use:uc,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:ly,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hc(4194308,4,fy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hc(4194308,4,t,i)},useInsertionEffect:function(t,i){hc(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var l=t();if(Hs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=an();if(a!==void 0){var h=a(i);if(Hs){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=k1.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,a=by.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,i){var a=an();return Wf(a,t,i)},useTransition:function(){var t=Xf(!1);return t=yy.bind(null,Ie,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=an();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(Ve&127)!==0||Qg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ly(Kg.bind(null,l,d,t),[t]),l.flags|=2048,ka(9,{destroy:void 0},Yg.bind(null,l,d,a,i),null),a},useId:function(){var t=an(),i=it.identifierPrefix;if(ze){var a=bi,l=Ti;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=oc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=x1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:iy,useActionState:iy,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return an().memoizedState=L1.bind(null,Ie)},useEffectEvent:function(t){var i=an(),a={impl:t};return i.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Qt,use:uc,useCallback:my,useContext:Qt,useEffect:Zf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:cc,useRef:oy,useState:function(){return cc(Yi)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=vt();return gy(a,et.memoizedState,t,i)},useTransition:function(){var t=cc(Yi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:td,useFormState:ry,useActionState:ry,useOptimistic:function(t,i){var a=vt();return Zg(a,et,t,i)},useMemoCache:Qf,useCacheRefresh:Ty};id.useEffectEvent=uy;var Ry={readContext:Qt,use:uc,useCallback:my,useContext:Qt,useEffect:Zf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:Kf,useRef:oy,useState:function(){return Kf(Yi)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=vt();return et===null?Wf(a,t,i):gy(a,et.memoizedState,t,i)},useTransition:function(){var t=Kf(Yi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:td,useFormState:ay,useActionState:ay,useOptimistic:function(t,i){var a=vt();return et!==null?Zg(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Ty};Ry.useEffectEvent=uy;function rd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Rn(),h=Or(l);h.payload=i,a!=null&&(h.callback=a),i=Mr(t,h,l),i!==null&&(pn(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Rn(),h=Or(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Mr(t,h,l),i!==null&&(pn(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Rn(),l=Or(a);l.tag=2,i!=null&&(l.callback=i),i=Mr(t,l,a),i!==null&&(pn(i,t,a),rl(i,t,a))}};function Cy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!$o(a,l)||!$o(h,d):!0}function Iy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&sd.enqueueReplaceState(i,i.state,null)}function Fs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function xy(t){Gu(t)}function Ny(t){console.error(t)}function Dy(t){Gu(t)}function mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Oy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,i,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,i)},a}function My(t){return t=Or(t),t.tag=3,t}function Vy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Oy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Oy(i,a,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function U1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ia(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Rc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dd(t,l,h)),!1;case 22:return a.flags|=65536,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dd(t,l,h)),!1}throw Error(s(435,a.tag))}return Dd(t,l,h),Rc(),!1}if(ze)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wf&&(t=Error(s(422),{cause:l}),Wo(Vn(t,a)))):(l!==wf&&(i=Error(s(423),{cause:l}),Wo(Vn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Vn(l,a),h=ad(t.stateNode,l,h),kf(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),_l===null?_l=[d]:_l.push(d),mt!==4&&(mt=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,l,t),kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=My(h),Vy(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(s(461)),It=!1;function Yt(t,i,a,l){i.child=t===null?Pg(i,null,a,l):qs(i,t.child,a,l)}function Ly(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ps(i),l=qf(t,i,a,_,d,h),T=Hf(),t!==null&&!It?(Ff(t,i,h),Ki(t,i,h)):(ze&&T&&Af(i),i.flags|=1,Yt(t,i,l,h),i.child)}function ky(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Uy(t,i,d,l,h)):(t=Xu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!pd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(_,l)&&t.ref===i.ref)return Ki(t,i,h)}return i.flags|=1,t=qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Uy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if($o(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Ki(t,i,h)}return ld(t,i,a,l,h)}function Py(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return zy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(i,d!==null?d.cachePool:null),d!==null?Bg(i,d):Pf(),qg(i);else return l=i.lanes=536870912,zy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Wu(i,d.cachePool),Bg(i,d),Lr(),i.memoizedState=null):(t!==null&&Wu(i,null),Pf(),Lr());return Yt(t,i,h,a),i.child}function hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zy(t,i,a,l,h){var d=Of();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Wu(i,null),Pf(),qg(i),t!==null&&Ia(t,i,l,!0),i.childLanes=h,null}function pc(t,i){return i=yc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function jy(t,i,a){return qs(i,t.child,null,a),t=pc(i,i.pendingProps),t.flags|=2,An(i),i.memoizedState=null,t}function P1(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=pc(i,l),i.lanes=536870912,hl(null,t);if(jf(i),(t=st)?(t=J_(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Ag(t),a.return=i,i.child=a,Gt=i,st=null)):t=null,t===null)throw xr(i);return i.lanes=536870912,null}return pc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(jf(i),h)if(i.flags&256)i.flags&=-257,i=jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||Ia(t,i,a,!1),h=(a&t.childLanes)!==0,It||h){if(l=it,l!==null&&(_=Oo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Vs(t,_),pn(l,t,_),od;Rc(),i=jy(t,i,a)}else t=d.treeContext,st=zn(_.nextSibling),Gt=i,ze=!0,Ir=null,Un=!1,t!==null&&Rg(i,t),i=pc(i,l),i.flags|=4096;return i}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function gc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ld(t,i,a,l,h){return Ps(i),a=qf(t,i,a,l,void 0,h),l=Hf(),t!==null&&!It?(Ff(t,i,h),Ki(t,i,h)):(ze&&l&&Af(i),i.flags|=1,Yt(t,i,a,h),i.child)}function By(t,i,a,l,h,d){return Ps(i),i.updateQueue=null,a=Fg(i,l,a,h),Hg(t),l=Hf(),t!==null&&!It?(Ff(t,i,d),Ki(t,i,d)):(ze&&l&&Af(i),i.flags|=1,Yt(t,i,a,d),i.child)}function qy(t,i,a,l,h){if(Ps(i),i.stateNode===null){var d=Sa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qt(_):Sa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(rd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&sd.enqueueReplaceState(d,d.state,null),al(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,x=Fs(a,T);d.props=x;var j=d.context,K=a.contextType;_=Sa,typeof K=="object"&&K!==null&&(_=Qt(K));var J=a.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==_)&&Iy(i,d,l,_),Dr=!1;var q=i.memoizedState;d.state=q,al(i,l,d,h),sl(),j=i.memoizedState,T||q!==j||Dr?(typeof J=="function"&&(rd(i,a,J,l),j=i.memoizedState),(x=Dr||Cy(i,a,x,l,q,j,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Lf(t,i),_=i.memoizedProps,K=Fs(a,_),d.props=K,J=i.pendingProps,q=d.context,j=a.contextType,x=Sa,typeof j=="object"&&j!==null&&(x=Qt(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||q!==x)&&Iy(i,d,l,x),Dr=!1,q=i.memoizedState,d.state=q,al(i,l,d,h),sl();var Y=i.memoizedState;_!==J||q!==Y||Dr||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof T=="function"&&(rd(i,a,T,l),Y=i.memoizedState),(K=Dr||Cy(i,a,K,l,q,Y,x)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=x,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,gc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=qs(i,t.child,null,h),i.child=qs(i,null,a,h)):Yt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ki(t,i,h),t}function Hy(t,i,a,l){return ks(),i.flags|=256,Yt(t,i,a,l),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Og()}}function hd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=wn),t}function Fy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Vr(i):Lr(),(t=st)?(t=J_(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Ag(t),a.return=i,i.child=a,Gt=i,st=null)):t=null,t===null)throw xr(i);return Yd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Lr(),h=i.mode,T=yc({mode:"hidden",children:T},h),l=Ls(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,hl(null,l)):(Vr(i),fd(i,T))}var x=t.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=dd(t,i,a)):i.memoizedState!==null?(Lr(),i.child=t.child,i.flags|=128,i=null):(Lr(),T=l.fallback,h=i.mode,l=yc({mode:"visible",children:l.children},h),T=Ls(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,qs(i,t.child,null,a),l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,i=hl(null,l));else if(Vr(i),Yd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,Wo({value:l,source:null,stack:null}),i=dd(t,i,a)}else if(It||Ia(t,i,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=it,_!==null&&(l=Oo(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Vs(t,l),pn(_,t,l),od;Qd(T)||Rc(),i=dd(t,i,a)}else Qd(T)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,st=zn(T.nextSibling),Gt=i,ze=!0,Ir=null,Un=!1,t!==null&&Rg(i,t),i=fd(i,l.children),i.flags|=4096);return i}return h?(Lr(),T=l.fallback,h=i.mode,x=t.child,j=x.sibling,l=qi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,j!==null?T=qi(j,T):(T=Ls(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,hl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=cd(a):(h=T.cachePool,h!==null?(x=Rt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Og(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=hd(t,_,a),i.memoizedState=ud,hl(t.child,l)):(Vr(i),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function fd(t,i){return i=yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function dd(t,i,a){return qs(i,t.child,null,a),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Gy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),If(t.return,i,a)}function md(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Qy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=_t.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,oe(_t,_),Yt(t,i,l,a),l=ze?Jo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gy(t,a,i);else if(t.tag===19)Gy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),md(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(i,!0,a,null,d,l);break;case"together":md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Pr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ia(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function z1(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Nr(i,Rt,t.memoizedState.cache),ks();break;case 27:case 5:gs(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Nr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Fy(t,i,a):(Vr(i),t=Ki(t,i,a),t!==null?t.sibling:null);Vr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ia(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Qy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(_t,_t.current),l)break;return null;case 22:return i.lanes=0,Py(t,i,a,i.pendingProps);case 24:Nr(i,Rt,t.memoizedState.cache)}return Ki(t,i,a)}function Yy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!pd(t,a)&&(i.flags&128)===0)return It=!1,z1(t,i,a);It=(t.flags&131072)!==0}else It=!1,ze&&(i.flags&1048576)!==0&&wg(i,Jo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=js(i.elementType),i.type=t,typeof t=="function")Ef(t)?(l=Fs(t,l),i.tag=1,i=qy(null,i,t,l,a)):(i.tag=0,i=ld(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ve){i.tag=11,i=Ly(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=ky(null,i,t,l,a);break e}}throw i=ne(t)||t,Error(s(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Fs(l,i.pendingProps),qy(t,i,l,h,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Lf(t,i),al(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Nr(i,Rt,l),l!==d.cache&&xf(i,[Rt],a,!0),sl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Hy(t,i,l,a);break e}else if(l!==h){h=Vn(Error(s(424)),i),Wo(h),i=Hy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=zn(t.firstChild),Gt=i,ze=!0,Ir=null,Un=!0,a=Pg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ks(),l===h){i=Ki(t,i,a);break e}Yt(t,i,l,a)}i=i.child}return i;case 26:return gc(t,i),t===null?(a=rv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Mc(xe.current).createElement(a),l[At]=i,l[Ut]=t,Kt(l,a,t),St(l),i.stateNode=l):i.memoizedState=rv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return gs(i),t===null&&ze&&(l=i.stateNode=tv(i.type,i.pendingProps,xe.current),Gt=i,Un=!0,h=st,Hr(i.type)?(Kd=h,st=zn(l.firstChild)):st=h),Yt(t,i,i.pendingProps.children,a),gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=st)&&(l=pA(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,Gt=i,st=zn(l.firstChild),Un=!1,h=!0):h=!1),h||xr(i)),gs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Hd(h,d)?l=null:_!==null&&Hd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,N1,null,null,a),Rl._currentValue=h),gc(t,i),Yt(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=st)&&(a=gA(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Gt=i,st=null,t=!0):t=!1),t||xr(i)),null;case 13:return Fy(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=qs(i,null,l,a):Yt(t,i,l,a),i.child;case 11:return Ly(t,i,i.type,i.pendingProps,a);case 7:return Yt(t,i,i.pendingProps,a),i.child;case 8:return Yt(t,i,i.pendingProps.children,a),i.child;case 12:return Yt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Nr(i,i.type,l.value),Yt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ps(i),h=Qt(h),l=l(h),i.flags|=1,Yt(t,i,l,a),i.child;case 14:return ky(t,i,i.type,i.pendingProps,a);case 15:return Uy(t,i,i.type,i.pendingProps,a);case 19:return Qy(t,i,a);case 31:return P1(t,i,a);case 22:return Py(t,i,a,i.pendingProps);case 24:return Ps(i),l=Qt(Rt),t===null?(h=Of(),h===null&&(h=it,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),Nr(i,Rt,h)):((t.lanes&a)!==0&&(Lf(t,i),al(i,null,null,a),sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Nr(i,Rt,l)):(l=d.cache,Nr(i,Rt,l),l!==h.cache&&xf(i,[Rt],a,!0))),Yt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xi(t){t.flags|=4}function gd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(E_())t.flags|=8192;else throw Bs=tc,Mf}else t.flags&=-16777217}function Ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uv(i))if(E_())t.flags|=8192;else throw Bs=tc,Mf}function _c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Su():536870912,t.lanes|=i,ja|=i)}function fl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function j1(t,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(Rt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ca(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rf())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Xi(i),d!==null?(at(i),Ky(i,d)):(at(i),gd(i,h,null,l,a))):d?d!==t.memoizedState?(Xi(i),at(i),Ky(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xi(i),at(i),gd(i,h,t,l,a)),null;case 27:if(sa(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=ce.current,Ca(i)?Cg(i):(t=tv(h,l,a),i.stateNode=t,Xi(i))}return at(i),null;case 5:if(sa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(d=ce.current,Ca(i))Cg(i);else{var _=Mc(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[At]=i,d[Ut]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xi(i)}}return at(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Ca(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||F_(t.nodeValue,a)),t||xr(i,!0)}else t=Mc(t).createTextNode(l),t[At]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ca(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(s(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),_c(i,i.updateQueue),at(i),null);case 4:return lt(),t===null&&Pd(i.stateNode.containerInfo),at(i),null;case 10:return Gi(i.type),at(i),null;case 19:if(W(_t),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)fl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=sc(t),d!==null){for(i.flags|=128,fl(l,!1),t=d.updateQueue,i.updateQueue=t,_c(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)bg(a,t),a=a.sibling;return oe(_t,_t.current&1|2),ze&&Hi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&rn()>Ac&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304)}else{if(!h)if(t=sc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,_c(i,t),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return at(i),null}else 2*rn()-l.renderingStartTime>Ac&&a!==536870912&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=_t.current,oe(_t,h?a&1|2:a&1),ze&&Hi(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return An(i),zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&_c(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(Rt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function B1(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gi(Rt),lt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return sa(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(s(340));ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(An(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(_t),null;case 4:return lt(),null;case 10:return Gi(i.type),null;case 22:case 23:return An(i),zf(),t!==null&&W(zs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gi(Rt),null;case 25:return null;default:return null}}function Xy(t,i){switch(Sf(i),i.tag){case 3:Gi(Rt),lt();break;case 26:case 27:case 5:sa(i);break;case 4:lt();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:W(_t);break;case 10:Gi(i.type);break;case 22:case 23:An(i),zf(),t!==null&&W(zs);break;case 24:Gi(Rt)}}function dl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function kr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var x=a,j=T;try{j()}catch(K){Ze(h,x,K)}}}l=l.next}while(l!==d)}}catch(K){Ze(i,i.return,K)}}function $y(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{jg(i,a)}catch(l){Ze(t,t.return,l)}}}function Zy(t,i,a){a.props=Fs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function Ai(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function Jy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function yd(t,i,a){try{var l=t.stateNode;uA(l,t.type,a,i),l[Ut]=i}catch(h){Ze(t,t.return,h)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hr(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,a),t=t.sibling;t!==null;)vd(t,i,a),t=t.sibling}function vc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,i,a),t=t.sibling;t!==null;)vc(t,i,a),t=t.sibling}function e_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[At]=t,i[Ut]=a}catch(d){Ze(t,t.return,d)}}var $i=!1,xt=!1,Ed=!1,t_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function q1(t,i){if(t=t.containerInfo,Bd=jc,t=dg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,x=-1,j=0,K=0,J=t,q=null;t:for(;;){for(var Y;J!==a||h!==0&&J.nodeType!==3||(T=_+h),J!==d||l!==0&&J.nodeType!==3||(x=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(Y=J.firstChild)!==null;)q=J,J=Y;for(;;){if(J===t)break t;if(q===a&&++j===h&&(T=_),q===d&&++K===l&&(x=_),(Y=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=Y}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},jc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Fs(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ze(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function n_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),l&4&&dl(5,a);break;case 1:if(Ji(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var h=Fs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}l&64&&$y(a),l&512&&ml(a,a.return);break;case 3:if(Ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{jg(t,i)}catch(_){Ze(a,a.return,_)}}break;case 27:i===null&&l&4&&e_(a);case 26:case 5:Ji(t,a),i===null&&l&4&&Jy(a),l&512&&ml(a,a.return);break;case 12:Ji(t,a);break;case 31:Ji(t,a),l&4&&s_(t,a);break;case 13:Ji(t,a),l&4&&a_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Z1.bind(null,a),yA(t,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){i=i!==null&&i.memoizedState!==null||xt,h=$i;var d=xt;$i=l,(xt=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),$i=h,xt=d}break;case 30:break;default:Ji(t,a)}}function i_(t){var i=t.alternate;i!==null&&(t.alternate=null,i_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ca(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,hn=!1;function Zi(t,i,a){for(a=a.child;a!==null;)r_(t,i,a),a=a.sibling}function r_(t,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:xt||Ai(a,i),Zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||Ai(a,i);var l=ct,h=hn;Hr(a.type)&&(ct=a.stateNode,hn=!1),Zi(t,i,a),Al(a.stateNode),ct=l,hn=h;break;case 5:xt||Ai(a,i);case 6:if(l=ct,h=hn,ct=null,Zi(t,i,a),ct=l,hn=h,ct!==null)if(hn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:ct!==null&&(hn?(t=ct,$_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ka(t)):$_(ct,a.stateNode));break;case 4:l=ct,h=hn,ct=a.stateNode.containerInfo,hn=!0,Zi(t,i,a),ct=l,hn=h;break;case 0:case 11:case 14:case 15:kr(2,a,i),xt||kr(4,a,i),Zi(t,i,a);break;case 1:xt||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zy(a,i,l)),Zi(t,i,a);break;case 21:Zi(t,i,a);break;case 22:xt=(l=xt)||a.memoizedState!==null,Zi(t,i,a),xt=l;break;default:Zi(t,i,a)}}function s_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ka(t)}catch(a){Ze(i,i.return,a)}}}function a_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ka(t)}catch(a){Ze(i,i.return,a)}}function H1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new t_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new t_),i;default:throw Error(s(435,t.tag))}}function Ec(t,i){var a=H1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=J1.bind(null,t,l);l.then(h,h)}})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Hr(T.type)){ct=T.stateNode,hn=!1;break e}break;case 5:ct=T.stateNode,hn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(ct===null)throw Error(s(160));r_(d,_,h),ct=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)o_(i,t),i=i.sibling}var Jn=null;function o_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(kr(3,t,t.return),dl(3,t),kr(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(xt||a===null||Ai(a,a.return)),l&64&&$i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(fn(i,t),dn(t),l&512&&(xt||a===null||Ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ui]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[At]=t,St(d),l=d;break e;case"link":var _=ov("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=ov("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,St(d),l=d}t.stateNode=l}else lv(h,t.type,t.stateNode);else t.stateNode=av(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?lv(h,t.type,t.stateNode):av(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(xt||a===null||Ai(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(xt||a===null||Ai(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(he){Ze(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ze(t,t.return,he)}}break;case 3:if(kc=null,h=Jn,Jn=Vc(i.containerInfo),fn(i,t),Jn=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(i.containerInfo)}catch(he){Ze(t,t.return,he)}Ed&&(Ed=!1,l_(t));break;case 4:l=Jn,Jn=Vc(t.stateNode.containerInfo),fn(i,t),dn(t),Jn=l;break;case 12:fn(i,t),dn(t);break;case 31:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=$i,K=xt;if($i=j||h,xt=K||x,fn(i,t),xt=K,$i=j,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||$i||xt||Gs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=x.stateNode;var J=x.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){Ze(x,x.return,he)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(he){Ze(x,x.return,he)}}}else if(i.tag===18){if(a===null){x=i;try{var Y=x.stateNode;h?Z_(Y,!0):Z_(x.stateNode,!1)}catch(he){Ze(x,x.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ec(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(t);vc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var T=_d(t);vc(t,T,_);break;case 3:case 4:var x=a.stateNode.containerInfo,j=_d(t);vd(t,j,x);break;default:throw Error(s(161))}}catch(K){Ze(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function l_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;l_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)n_(t,i.alternate,i),i=i.sibling}function Gs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),Gs(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Zy(i,i.return,a),Gs(i);break;case 27:Al(i.stateNode);case 26:case 5:Ai(i,i.return),Gs(i);break;case 22:i.memoizedState===null&&Gs(i);break;case 30:Gs(i);break;default:Gs(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),dl(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ze(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)zg(x[h],T)}catch(j){Ze(l,l.return,j)}}a&&_&64&&$y(d),ml(d,d.return);break;case 27:e_(d);case 26:case 5:Wi(h,d,a),a&&l===null&&_&4&&Jy(d),ml(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&s_(h,d);break;case 13:Wi(h,d,a),a&&_&4&&a_(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),ml(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function Td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function Wn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u_(t,i,a,l),i=i.sibling}function u_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,l),h&2048&&dl(9,i);break;case 1:Wn(t,i,a,l);break;case 3:Wn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){Wn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Ze(i,i.return,x)}}else Wn(t,i,a,l);break;case 31:Wn(t,i,a,l);break;case 13:Wn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(t,i,a,l):pl(t,i):d._visibility&2?Wn(t,i,a,l):(d._visibility|=2,Ua(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Td(_,i);break;case 24:Wn(t,i,a,l),h&2048&&bd(i.alternate,i);break;default:Wn(t,i,a,l)}}function Ua(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,x=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(d,_,T,x,h),dl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ua(d,_,T,x,h):pl(d,_):(K._visibility|=2,Ua(d,_,T,x,h)),h&&j&2048&&Td(_.alternate,_);break;case 24:Ua(d,_,T,x,h),h&&j&2048&&bd(_.alternate,_);break;default:Ua(d,_,T,x,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&Td(l.alternate,l);break;case 24:pl(a,l),h&2048&&bd(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var gl=8192;function Pa(t,i,a){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)c_(t,i,a),t=t.sibling}function c_(t,i,a){switch(t.tag){case 26:Pa(t,i,a),t.flags&gl&&t.memoizedState!==null&&xA(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,i,a);break;case 3:case 4:var l=Jn;Jn=Vc(t.stateNode.containerInfo),Pa(t,i,a),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=gl,gl=16777216,Pa(t,i,a),gl=l):Pa(t,i,a));break;default:Pa(t,i,a)}}function h_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,d_(l,t)}h_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f_(t),t=t.sibling}function f_(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&kr(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tc(t)):yl(t);break;default:yl(t)}}function Tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,d_(l,t)}h_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:kr(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(i));break;default:Tc(i)}t=t.sibling}}function d_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(i_(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var F1={getCacheForType:function(t){var i=Qt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Qt(Rt).controller.signal}},G1=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,De=null,Ve=0,$e=0,Sn=null,Ur=!1,za=!1,Ad=!1,er=0,mt=0,Pr=0,Qs=0,Sd=0,wn=0,ja=0,_l=null,mn=null,wd=!1,bc=0,m_=0,Ac=1/0,Sc=null,zr=null,Lt=0,jr=null,Ba=null,tr=0,Rd=0,Cd=null,p_=null,vl=0,Id=null;function Rn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:F.T!==null?Vd():wu()}function g_(){if(wn===0)if((Ve&536870912)===0||ze){var t=vs;vs<<=1,(vs&3932160)===0&&(vs=262144),wn=t}else wn=536870912;return t=bn.current,t!==null&&(t.flags|=32),wn}function pn(t,i,a){(t===it&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Br(t,Ve,wn,!1)),Es(t,a),((Qe&2)===0||t!==it)&&(t===it&&((Qe&2)===0&&(Qs|=a),mt===4&&Br(t,Ve,wn,!1)),Si(t))}function y_(t,i,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),h=l?K1(t,i):Nd(t,i,!0),d=l;do{if(h===0){za&&!l&&Br(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Q1(a)){h=Nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=_l;var x=T.current.memoizedState.isDehydrated;if(x&&(qa(T,_).flags|=256),_=Nd(T,_,!1),_!==2){if(Ad&&!x){T.errorRecoveryDisabledLanes|=d,Qs|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){qa(t,0),Br(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Br(l,i,wn,!Ur);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bc+300-rn(),10<h)){if(Br(l,i,wn,!Ur),ai(l,0,!0)!==0)break e;tr=i,l.timeoutHandle=K_(__.bind(null,l,a,mn,Sc,wd,i,wn,Qs,ja,Ur,d,"Throttled",-0,0),h);break e}__(l,a,mn,Sc,wd,i,wn,Qs,ja,Ur,d,null,-0,0)}}break}while(!0);Si(t)}function __(t,i,a,l,h,d,_,T,x,j,K,J,q,Y){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},c_(i,d,J);var he=(d&62914560)===d?bc-rn():(d&4194048)===d?m_-rn():0;if(he=NA(J,he),he!==null){tr=d,t.cancelPendingCommit=he(R_.bind(null,t,i,d,a,l,h,_,T,x,K,J,null,q,Y)),Br(t,d,_,!j);return}}R_(t,i,d,a,l,h,_,T,x)}function Q1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Br(t,i,a,l){i&=~Sd,i&=~Qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-gt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ts(t,a,i)}function wc(){return(Qe&6)===0?(El(0),!1):!0}function xd(){if(De!==null){if($e===0)var t=De.return;else t=De,Fi=Us=null,Gf(t),Oa=null,nl=0,t=De;for(;t!==null;)Xy(t.alternate,t),t=t.return;De=null}}function qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,fA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),tr=0,xd(),it=t,De=a=qi(t.current,null),Ve=i,$e=0,Sn=null,Ur=!1,za=Hn(t,i),Ad=!1,ja=wn=Sd=Qs=Pr=mt=0,mn=_l=null,wd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-gt(l),d=1<<h;i|=t[h],l&=~d}return er=i,Qu(),a}function v_(t,i){Ie=null,F.H=cl,i===Da||i===ec?(i=Lg(),$e=3):i===Mf?(i=Lg(),$e=4):$e=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,De===null&&(mt=1,mc(t,Vn(i,t.current)))}function E_(){var t=bn.current;return t===null?!0:(Ve&4194048)===Ve?Pn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Pn:!1}function T_(){var t=F.H;return F.H=cl,t===null?cl:t}function b_(){var t=F.A;return F.A=F1,t}function Rc(){mt=4,Ur||(Ve&4194048)!==Ve&&bn.current!==null||(za=!0),(Pr&134217727)===0&&(Qs&134217727)===0||it===null||Br(it,Ve,wn,!1)}function Nd(t,i,a){var l=Qe;Qe|=2;var h=T_(),d=b_();(it!==t||Ve!==i)&&(Sc=null,qa(t,i)),i=!1;var _=mt;e:do try{if($e!==0&&De!==null){var T=De,x=Sn;switch($e){case 8:xd(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var j=$e;if($e=0,Sn=null,Ha(t,T,x,j),a&&za){_=0;break e}break;default:j=$e,$e=0,Sn=null,Ha(t,T,x,j)}}Y1(),_=mt;break}catch(K){v_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Fi=Us=null,Qe=l,F.H=h,F.A=d,De===null&&(it=null,Ve=0,Qu()),_}function Y1(){for(;De!==null;)A_(De)}function K1(t,i){var a=Qe;Qe|=2;var l=T_(),h=b_();it!==t||Ve!==i?(Sc=null,Ac=rn()+500,qa(t,i)):za=Hn(t,i);e:do try{if($e!==0&&De!==null){i=De;var d=Sn;t:switch($e){case 1:$e=0,Sn=null,Ha(t,i,d,1);break;case 2:case 9:if(Mg(d)){$e=0,Sn=null,S_(i);break}i=function(){$e!==2&&$e!==9||it!==t||($e=7),Si(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Mg(d)?($e=0,Sn=null,S_(i)):($e=0,Sn=null,Ha(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var T=De;if(_?uv(_):T.stateNode.complete){$e=0,Sn=null;var x=T.sibling;if(x!==null)De=x;else{var j=T.return;j!==null?(De=j,Cc(j)):De=null}break t}}$e=0,Sn=null,Ha(t,i,d,5);break;case 6:$e=0,Sn=null,Ha(t,i,d,6);break;case 8:xd(),mt=6;break e;default:throw Error(s(462))}}X1();break}catch(K){v_(t,K)}while(!0);return Fi=Us=null,F.H=l,F.A=h,Qe=a,De!==null?0:(it=null,Ve=0,Qu(),mt)}function X1(){for(;De!==null&&!af();)A_(De)}function A_(t){var i=Yy(t.alternate,t,er);t.memoizedProps=t.pendingProps,i===null?Cc(t):De=i}function S_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=By(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=By(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Gf(i);default:Xy(a,i),i=De=bg(i,er),i=Yy(a,i,er)}t.memoizedProps=t.pendingProps,i===null?Cc(t):De=i}function Ha(t,i,a,l){Fi=Us=null,Gf(i),Oa=null,nl=0;var h=i.return;try{if(U1(t,h,i,a,Ve)){mt=1,mc(t,Vn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;mt=1,mc(t,Vn(a,t.current)),De=null;return}i.flags&32768?(ze||l===1?t=!0:za||(Ve&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),w_(i,t)):Cc(i)}function Cc(t){var i=t;do{if((i.flags&32768)!==0){w_(i,Ur);return}t=i.return;var a=j1(i.alternate,i,er);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);mt===0&&(mt=5)}function w_(t,i){do{var a=B1(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);mt=6,De=null}function R_(t,i,a,l,h,d,_,T,x){t.cancelPendingCommit=null;do Ic();while(Lt!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=_f,uf(t,a,d,_,T,x),t===it&&(De=it=null,Ve=0),Ba=i,jr=t,tr=a,Rd=d,Cd=h,p_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,W1(yr,function(){return D_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=se.p,se.p=2,_=Qe,Qe|=4;try{q1(t,i,a)}finally{Qe=_,se.p=h,F.T=l}}Lt=1,C_(),I_(),x_()}}function C_(){if(Lt===1){Lt=0;var t=jr,i=Ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=se.p;se.p=2;var h=Qe;Qe|=4;try{o_(i,t);var d=qd,_=dg(t.containerInfo),T=d.focusedElem,x=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&fg(T.ownerDocument.documentElement,T)){if(x!==null&&df(T)){var j=x.start,K=x.end;if(K===void 0&&(K=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(K,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var Y=q.getSelection(),he=T.textContent.length,ye=Math.min(x.start,he),nt=x.end===void 0?ye:Math.min(x.end,he);!Y.extend&&ye>nt&&(_=nt,nt=ye,ye=_);var U=hg(T,ye),O=hg(T,nt);if(U&&O&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var z=J.createRange();z.setStart(U.node,U.offset),Y.removeAllRanges(),ye>nt?(Y.addRange(z),Y.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),Y.addRange(z))}}}}for(J=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&J.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var $=J[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}jc=!!Bd,qd=Bd=null}finally{Qe=h,se.p=l,F.T=a}}t.current=i,Lt=2}}function I_(){if(Lt===2){Lt=0;var t=jr,i=Ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=se.p;se.p=2;var h=Qe;Qe|=4;try{n_(t,i.alternate,i)}finally{Qe=h,se.p=l,F.T=a}}Lt=3}}function x_(){if(Lt===4||Lt===3){Lt=0,_u();var t=jr,i=Ba,a=tr,l=p_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,Ba=jr=null,N_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zr=null),Pi(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=se.p,se.p=2,F.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{F.T=i,se.p=h}}(tr&3)!==0&&Ic(),Si(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Id?vl++:(vl=0,Id=t):vl=0,El(0)}}function N_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function Ic(){return C_(),I_(),x_(),D_()}function D_(){if(Lt!==5)return!1;var t=jr,i=Rd;Rd=0;var a=Pi(tr),l=F.T,h=se.p;try{se.p=32>a?32:a,F.T=null,a=Cd,Cd=null;var d=jr,_=tr;if(Lt=0,Ba=jr=null,tr=0,(Qe&6)!==0)throw Error(s(331));var T=Qe;if(Qe|=4,f_(d.current),u_(d,d.current,_,a),Qe=T,El(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{se.p=h,F.T=l,N_(t,i)}}function O_(t,i,a){i=Vn(a,i),i=ad(t.stateNode,i,2),t=Mr(t,i,2),t!==null&&(Es(t,2),Si(t))}function Ze(t,i,a){if(t.tag===3)O_(t,t,a);else for(;i!==null;){if(i.tag===3){O_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=Vn(a,t),a=My(2),l=Mr(i,a,2),l!==null&&(Vy(a,l,i,t),Es(l,2),Si(l));break}}i=i.return}}function Dd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new G1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ad=!0,h.add(a),t=$1.bind(null,t,i,a),i.then(t,t))}function $1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Ve&a)===a&&(mt===4||mt===3&&(Ve&62914560)===Ve&&300>rn()-bc?(Qe&2)===0&&qa(t,0):Sd|=a,ja===Ve&&(ja=0)),Si(t)}function M_(t,i){i===0&&(i=Su()),t=Vs(t,i),t!==null&&(Es(t,i),Si(t))}function Z1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),M_(t,a)}function J1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),M_(t,a)}function W1(t,i){return Vt(t,i)}var xc=null,Fa=null,Od=!1,Nc=!1,Md=!1,qr=0;function Si(t){t!==Fa&&t.next===null&&(Fa===null?xc=Fa=t:Fa=Fa.next=t),Nc=!0,Od||(Od=!0,tA())}function El(t,i){if(!Md&&Nc){Md=!0;do for(var a=!1,l=xc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,U_(l,d))}else d=Ve,d=ai(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,U_(l,d));l=l.next}while(a);Md=!1}}function eA(){V_()}function V_(){Nc=Od=!1;var t=0;qr!==0&&hA()&&(t=qr);for(var i=rn(),a=null,l=xc;l!==null;){var h=l.next,d=L_(l,i);d===0?(l.next=null,a===null?xc=h:a.next=h,h===null&&(Fa=a)):(a=l,(t!==0||(d&3)!==0)&&(Nc=!0)),l=h}Lt!==0&&Lt!==5||El(t),qr!==0&&(qr=0)}function L_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),T=1<<_,x=h[_];x===-1?((T&a)===0||(T&l)!==0)&&(h[_]=lf(T,i)):x<=i&&(t.expiredLanes|=T),d&=~T}if(i=it,a=Ve,a=ai(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&gr(l),Pi(a)){case 2:case 8:a=No;break;case 32:a=yr;break;case 268435456:a=vu;break;default:a=yr}return l=k_.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&gr(l),t.callbackPriority=2,t.callbackNode=null,2}function k_(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ic()&&t.callbackNode!==a)return null;var l=Ve;return l=ai(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(y_(t,l,i),L_(t,rn()),t.callbackNode!=null&&t.callbackNode===a?k_.bind(null,t):null)}function U_(t,i){if(Ic())return null;y_(t,i,!0)}function tA(){dA(function(){(Qe&6)!==0?Vt(xo,eA):V_()})}function Vd(){if(qr===0){var t=xa;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),qr=t}return qr}function P_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function z_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function nA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=P_((h[Ut]||null).action),_=l.submitter;_&&(i=(i=_[Ut]||null)?P_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new yi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qr!==0){var x=_?z_(h,_):new FormData(h);ed(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=_?z_(h,_):new FormData(h),ed(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Ld=0;Ld<yf.length;Ld++){var kd=yf[Ld],iA=kd.toLowerCase(),rA=kd[0].toUpperCase()+kd.slice(1);Zn(iA,"on"+rA)}Zn(gg,"onAnimationEnd"),Zn(yg,"onAnimationIteration"),Zn(_g,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(E1,"onTransitionRun"),Zn(T1,"onTransitionStart"),Zn(b1,"onTransitionCancel"),Zn(vg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function j_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],x=T.instance,j=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(K){Gu(K)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(T=l[_],x=T.instance,j=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(K){Gu(K)}h.currentTarget=null,d=x}}}}function Oe(t,i){var a=i[ua];a===void 0&&(a=i[ua]=new Set);var l=t+"__bubble";a.has(l)||(B_(i,t,2,!1),a.add(l))}function Ud(t,i,a){var l=0;i&&(l|=4),B_(a,t,l,i)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Dc]){t[Dc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(sA.has(a)||Ud(a,!1,t),Ud(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Dc]||(i[Dc]=!0,Ud("selectionchange",!1,i))}}function B_(t,i,a,l){switch(gv(i)){case 2:var h=MA;break;case 8:h=VA;break;default:h=Wd}a=h.bind(null,i,a,t),h=void 0,!Rs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ci(T),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Ar(function(){var j=d,K=Nn(a),J=[];e:{var q=Eg.get(t);if(q!==void 0){var Y=yi,he=t;switch(t){case"keypress":if(Is(a)===0)break e;case"keydown":case"keyup":Y=qu;break;case"focusin":he="focus",Y=Ns;break;case"focusout":he="blur",Y=Ns;break;case"beforeblur":case"afterblur":Y=Ns;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=g;break;case gg:case yg:case _g:Y=Lu;break;case vg:Y=A;break;case"scroll":case"scrollend":Y=Go;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Bi;break;case"toggle":case"beforetoggle":Y=Ce}var ye=(i&4)!==0,nt=!ye&&(t==="scroll"||t==="scrollend"),U=ye?q!==null?q+"Capture":null:q;ye=[];for(var O=j,z;O!==null;){var $=O;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||U===null||($=Yn(O,U),$!=null&&ye.push(bl(O,$,z))),nt)break;O=O.return}0<ye.length&&(q=new Y(q,he,null,a,K),J.push({event:q,listeners:ye}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",q&&a!==qo&&(he=a.relatedTarget||a.fromElement)&&(ci(he)||he[li]))break e;if((Y||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(he=a.relatedTarget||a.toElement,Y=j,he=he?ci(he):null,he!==null&&(nt=u(he),ye=he.tag,he!==nt||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(Y=null,he=j),Y!==he)){if(ye=Qo,$="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Bi,$="onPointerLeave",U="onPointerEnter",O="pointer"),nt=Y==null?q:_n(Y),z=he==null?q:_n(he),q=new ye($,O+"leave",Y,a,K),q.target=nt,q.relatedTarget=z,$=null,ci(K)===j&&(ye=new ye(U,O+"enter",he,a,K),ye.target=z,ye.relatedTarget=nt,$=ye),nt=$,Y&&he)t:{for(ye=aA,U=Y,O=he,z=0,$=U;$;$=ye($))z++;$=0;for(var pe=O;pe;pe=ye(pe))$++;for(;0<z-$;)U=ye(U),z--;for(;0<$-z;)O=ye(O),$--;for(;z--;){if(U===O||O!==null&&U===O.alternate){ye=U;break t}U=ye(U),O=ye(O)}ye=null}else ye=null;Y!==null&&q_(J,q,Y,ye,!1),he!==null&&nt!==null&&q_(J,nt,he,ye,!0)}}e:{if(q=j?_n(j):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var He=sg;else if(ig(q))if(ag)He=y1;else{He=p1;var de=m1}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&da(j.elementType)&&(He=sg):He=g1;if(He&&(He=He(t,j))){rg(J,He,a,K);break e}de&&de(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&zo(q,"number",q.value)}switch(de=j?_n(j):window,t){case"focusin":(ig(de)||de.contentEditable==="true")&&(Ta=de,mf=j,Zo=null);break;case"focusout":Zo=mf=Ta=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,mg(J,a,K);break;case"selectionchange":if(v1)break;case"keydown":case"keyup":mg(J,a,K)}var Ne;if(Ge)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ea?Ds(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Ei&&a.locale!=="ko"&&(Ea||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ea&&(Ne=Fo()):(gi=K,Ho="value"in gi?gi.value:gi.textContent,Ea=!0)),de=Oc(j,Le),0<de.length&&(Le=new vi(Le,t,null,a,K),J.push({event:Le,listeners:de}),Ne?Le.data=Ne:(Ne=va(a),Ne!==null&&(Le.data=Ne)))),(Ne=On?c1(t,a):h1(t,a))&&(Le=Oc(j,"onBeforeInput"),0<Le.length&&(de=new vi("onBeforeInput","beforeinput",null,a,K),J.push({event:de,listeners:Le}),de.data=Ne)),nA(J,t,j,a,K)}j_(J,i)})}function bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Oc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&l.unshift(bl(t,h,d)),h=Yn(t,i),h!=null&&l.push(bl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function aA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,x=T.alternate,j=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||j===null||(x=j,h?(j=Yn(a,d),j!=null&&_.unshift(bl(a,j,x))):h||(j=Yn(a,d),j!=null&&_.push(bl(a,j,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var oA=/\r\n?/g,lA=/\u0000|\uFFFD/g;function H_(t){return(typeof t=="string"?t:""+t).replace(oA,`
`).replace(lA,"")}function F_(t,i){return i=H_(i),H_(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Bo(t,l,d);break;case"data":if(i!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ha(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,ha(t,a,l))}}function jd(t,i,a,l,h,d){switch(a){case"style":Bo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ha(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,d,_,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=_=h=null,x=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":x=K;break;case"defaultChecked":j=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:tt(t,i,l,K,a,null)}}xu(t,d,T,x,j,_,h,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:tt(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?vr(t,!!l,i,!1):a!=null&&vr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:tt(t,i,_,T,a,null)}Er(t,l,h,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(t,i,x,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Oe(Tl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,j,l,a,null)}return;default:if(da(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&jd(t,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&tt(t,i,T,l,a,null))}function uA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,x=null,j=null,K=null;for(Y in a){var J=a[Y];if(a.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":x=J;default:l.hasOwnProperty(Y)||tt(t,i,Y,null,l,J)}}for(var q in l){var Y=l[q];if(J=a[q],l.hasOwnProperty(q)&&(Y!=null||J!=null))switch(q){case"type":d=Y;break;case"name":h=Y;break;case"checked":j=Y;break;case"defaultChecked":K=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==J&&tt(t,i,q,Y,l,J)}}fa(t,_,T,x,j,K,d,h);return;case"select":Y=_=T=q=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":Y=x;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==x&&tt(t,i,h,d,l,x)}i=T,a=_,l=Y,q!=null?vr(t,!!a,q,!1):!!l!=!!a&&(i!=null?vr(t,!!a,i,!0):vr(t,!!a,a?[]:"",!1));return;case"textarea":Y=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(t,i,_,h,l,d)}Nu(t,q,Y);return;case"option":for(var he in a)if(q=a[he],a.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:tt(t,i,he,null,l,q)}for(x in l)if(q=l[x],Y=a[x],l.hasOwnProperty(x)&&q!==Y&&(q!=null||Y!=null))switch(x){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:tt(t,i,x,q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&tt(t,i,ye,null,l,q);for(j in l)if(q=l[j],Y=a[j],l.hasOwnProperty(j)&&q!==Y&&(q!=null||Y!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:tt(t,i,j,q,l,Y)}return;default:if(da(i)){for(var nt in a)q=a[nt],a.hasOwnProperty(nt)&&q!==void 0&&!l.hasOwnProperty(nt)&&jd(t,i,nt,void 0,l,q);for(K in l)q=l[K],Y=a[K],!l.hasOwnProperty(K)||q===Y||q===void 0&&Y===void 0||jd(t,i,K,q,l,Y);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&tt(t,i,U,null,l,q);for(J in l)q=l[J],Y=a[J],!l.hasOwnProperty(J)||q===Y||q==null&&Y==null||tt(t,i,J,q,l,Y)}function G_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&G_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],j=x.startTime;if(j>T)break;var K=x.transferSize,J=x.initiatorType;K&&G_(J)&&(x=x.responseEnd,_+=K*(x<T?1:(T-j)/(x-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,qd=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function Q_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function hA(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,dA=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(t){return X_.resolve(null).then(t).catch(mA)}:K_;function mA(t){setTimeout(function(){throw t})}function Hr(t){return t==="head"}function $_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ka(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Al(t.ownerDocument.body);a=h}while(a);Ka(i)}function Z_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function gA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function J_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Kd=null;function W_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function ev(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function tv(t,i,a){switch(i=Mc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ca(t)}var jn=new Map,nv=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nr=se.d;se.d={f:_A,r:vA,D:EA,C:TA,L:bA,m:AA,X:wA,S:SA,M:RA};function _A(){var t=nr.f(),i=wc();return t||i}function vA(t){var i=xn(t);i!==null&&i.tag===5&&i.type==="form"?vy(i):nr.r(t)}var Ga=typeof document>"u"?null:document;function iv(t,i,a){var l=Ga;if(l&&typeof i=="string"&&i){var h=un(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),nv.has(h)||(nv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),St(i),l.head.appendChild(i)))}}function EA(t){nr.D(t),iv("dns-prefetch",t,null)}function TA(t,i){nr.C(t,i),iv("preconnect",t,i)}function bA(t,i,a){nr.L(t,i,a);var l=Ga;if(l&&t&&i){var h='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=Ya(t)}jn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),Kt(i,"link",t),St(i),l.head.appendChild(i)))}}function AA(t,i){nr.m(t,i);var a=Ga;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!jn.has(d)&&(t=b({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),Kt(l,"link",t),St(l),a.head.appendChild(l)}}}function SA(t,i,a){nr.S(t,i,a);var l=Ga;if(l&&t){var h=hi(l).hoistableStyles,d=Qa(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Sl(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&Xd(t,a);var x=_=l.createElement("link");St(x),Kt(x,"link",t),x._p=new Promise(function(j,K){x.onload=j,x.onerror=K}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Lc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function wA(t,i){nr.X(t,i);var a=Ga;if(a&&t){var l=hi(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=b({src:t,async:!0},i),(i=jn.get(h))&&$d(t,i),d=a.createElement("script"),St(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function RA(t,i){nr.M(t,i);var a=Ga;if(a&&t){var l=hi(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&$d(t,i),d=a.createElement("script"),St(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rv(t,i,a,l){var h=(h=xe.current)?Vc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=hi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=hi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Sl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||CA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=hi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+un(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function sv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function CA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),St(i),t.head.appendChild(i))}function Ya(t){return'[src="'+un(t)+'"]'}function wl(t){return"script[async]"+t}function av(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Kt(l,"style",h),Lc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=sv(a),(h=jn.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),Kt(d,"link",l),i.state.loading|=4,Lc(d,a.precedence,t),i.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(wl(d)))?(i.instance=h,St(h),h):(l=a,(h=jn.get(d))&&(l=b({},a),$d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Lc(l,a.precedence,t));return i.instance}function Lc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function ov(t,i,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ui]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function lv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function IA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function xA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Qa(l.href),d=i.querySelector(Sl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=sv(l),(h=jn.get(h))&&Xd(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Zd=0;function NA(t,i){return t.stylesheets&&t.count===0&&zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Zd===0&&(Zd=62500*cA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Zd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function zc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,i.forEach(DA,t),Pc=null,Uc.call(t))}function DA(t,i){if(!(i.state.loading&4)){var a=Pc.get(t);if(a)var l=a.get(null);else{a=new Map,Pc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:re,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function OA(t,i,a,l,h,d,_,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function cv(t,i,a,l,h,d,_,T,x,j,K,J){return t=new OA(t,i,a,_,x,j,K,J,T),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),t}function hv(t){return t?(t=Sa,t):Sa}function fv(t,i,a,l,h,d){h=hv(h),l.context===null?l.context=h:l.pendingContext=h,l=Or(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mr(t,l,i),a!==null&&(pn(a,t,i),rl(a,t,i))}function dv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Jd(t,i){dv(t,i),(t=t.alternate)&&dv(t,i)}function mv(t){if(t.tag===13||t.tag===31){var i=Vs(t,67108864);i!==null&&pn(i,t,67108864),Jd(t,67108864)}}function pv(t){if(t.tag===13||t.tag===31){var i=Rn();i=bs(i);var a=Vs(t,i);a!==null&&pn(a,t,i),Jd(t,i)}}var jc=!0;function MA(t,i,a,l){var h=F.T;F.T=null;var d=se.p;try{se.p=2,Wd(t,i,a,l)}finally{se.p=d,F.T=h}}function VA(t,i,a,l){var h=F.T;F.T=null;var d=se.p;try{se.p=8,Wd(t,i,a,l)}finally{se.p=d,F.T=h}}function Wd(t,i,a,l){if(jc){var h=em(l);if(h===null)zd(t,i,l,Bc,a),yv(t,l);else if(kA(h,t,i,a,l))l.stopPropagation();else if(yv(t,l),i&4&&-1<LA.indexOf(t)){for(;h!==null;){var d=xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=si(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var x=1<<31-gt(_);T.entanglements[1]|=x,_&=~x}Si(d),(Qe&6)===0&&(Ac=rn()+500,El(0))}}break;case 31:case 13:T=Vs(d,2),T!==null&&pn(T,d,2),wc(),Jd(d,2)}if(d=em(l),d===null&&zd(t,i,l,Bc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zd(t,i,l,null,a)}}function em(t){return t=Nn(t),tm(t)}var Bc=null;function tm(t){if(Bc=null,t=ci(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bc=t,null}function gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case xo:return 2;case No:return 8;case yr:case of:return 32;case vu:return 268435456;default:return 32}default:return 32}}var nm=!1,Fr=null,Gr=null,Qr=null,Cl=new Map,Il=new Map,Yr=[],LA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yv(t,i){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function xl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=xn(i),i!==null&&mv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function kA(t,i,a,l,h){switch(i){case"focusin":return Fr=xl(Fr,t,i,a,l,h),!0;case"dragenter":return Gr=xl(Gr,t,i,a,l,h),!0;case"mouseover":return Qr=xl(Qr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,xl(Cl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,xl(Il.get(d)||null,t,i,a,l,h)),!0}return!1}function _v(t){var i=ci(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){pv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){pv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);qo=l,a.target.dispatchEvent(l),qo=null}else return i=xn(a),i!==null&&mv(i),t.blockedOn=a,!1;i.shift()}return!0}function vv(t,i,a){qc(t)&&a.delete(i)}function UA(){nm=!1,Fr!==null&&qc(Fr)&&(Fr=null),Gr!==null&&qc(Gr)&&(Gr=null),Qr!==null&&qc(Qr)&&(Qr=null),Cl.forEach(vv),Il.forEach(vv)}function Hc(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UA)))}var Fc=null;function Ev(t){Fc!==t&&(Fc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=xn(a);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ka(t){function i(x){return Hc(x,t)}Fr!==null&&Hc(Fr,t),Gr!==null&&Hc(Gr,t),Qr!==null&&Hc(Qr,t),Cl.forEach(i),Il.forEach(i);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)_v(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ut]||null;if(typeof d=="function")_||Ev(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ut]||null)T=_.formAction;else if(tm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Ev(a)}}}function Tv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}Gc.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();fv(a,l,t,i,null,null)},Gc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;fv(t.current,2,null,t,null,null),wc(),i[li]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=wu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&_v(t)}};var bv=e.version;if(bv!=="19.2.0")throw Error(s(527,bv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var PA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{qn=Qc.inject(PA),Ht=Qc}catch{}}return Dl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=xy,d=Ny,_=Dy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=cv(t,1,!1,null,null,a,l,null,h,d,_,Tv),t[li]=i.current,Pd(t),new im(i)},Dl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=xy,_=Ny,T=Dy,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=cv(t,1,!0,i,a??null,l,h,x,d,_,T,Tv),i.context=hv(null),a=i.current,l=Rn(),l=bs(l),h=Or(l),h.callback=null,Mr(a,h,l),a=l,i.current.lanes=a,Es(i,a),Si(i),t[li]=i.current,Pd(t),new Gc(i)},Dl.version="19.2.0",Dl}var Ov;function KA(){if(Ov)return am.exports;Ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=YA(),am.exports}var XA=KA();var Mv="popstate";function $A(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return wm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Fl(o)}return JA(e,n,null,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ti(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZA(){return Math.random().toString(36).substring(2,10)}function Vv(r,e){return{usr:r.state,key:r.key,idx:e}}function wm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?po(e):e,state:n,key:e&&e.key||s||ZA()}}function Fl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function po(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function JA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let G=E(),te=G==null?null:G-y;y=G,p&&p({action:m,location:X.location,delta:te})}function S(G,te){m="PUSH";let ie=wm(X.location,G,te);y=E()+1;let re=Vv(ie,y),ve=X.createHref(ie);try{f.pushState(re,"",ve)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;o.location.assign(ve)}u&&p&&p({action:m,location:X.location,delta:1})}function k(G,te){m="REPLACE";let ie=wm(X.location,G,te);y=E();let re=Vv(ie,y),ve=X.createHref(ie);f.replaceState(re,"",ve),u&&p&&p({action:m,location:X.location,delta:0})}function H(G){return WA(G)}let X={get action(){return m},get location(){return r(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Mv,b),p=G,()=>{o.removeEventListener(Mv,b),p=null}},createHref(G){return e(o,G)},createURL:H,encodeLocation(G){let te=H(G);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:S,replace:k,go(G){return f.go(G)}};return X}function WA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Fl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function pE(r,e,n="/"){return eS(r,e,n,!1)}function eS(r,e,n,s){let o=typeof e=="string"?po(e):e,u=lr(o.pathname||"/",n);if(u==null)return null;let f=gE(r);tS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=fS(u);m=cS(f[p],y,s)}return m}function gE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ht(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=ar([s,E.relativePath]),S=n.concat(E);f.children&&f.children.length>0&&(ht(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),gE(f.children,e,S,b,p)),!(f.path==null&&!f.index)&&e.push({path:b,score:lS(b,f.index),routesMeta:S})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of yE(f.path))u(f,m,!0,p)}),e}function yE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=yE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function tS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:uS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var nS=/^:[\w-]+$/,iS=3,rS=2,sS=1,aS=10,oS=-2,Lv=r=>r==="*";function lS(r,e){let n=r.split("/"),s=n.length;return n.some(Lv)&&(s+=oS),e&&(s+=rS),n.filter(o=>!Lv(o)).reduce((o,u)=>o+(nS.test(u)?iS:u===""?sS:aS),s)}function uS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function cS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:ar([u,b.pathname]),pathnameBase:yS(ar([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=ar([u,b.pathnameBase]))}return f}function mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=hS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},S)=>{if(E==="*"){let H=m[S]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const k=m[S];return b&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function hS(r,e=!1,n=!0){ti(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function fS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ti(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function lr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var dS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mS=r=>dS.test(r);function pS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?po(r):r,u;if(n)if(mS(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),ti(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=kv(n.substring(1),"/"):u=kv(n,e)}else u=e;return{pathname:u,search:_S(s),hash:vS(o)}}function kv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _E(r){let e=gS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function vE(r,e,n,s=!1){let o;typeof r=="string"?o=po(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=pS(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var ar=r=>r.join("/").replace(/\/\/+/g,"/"),yS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_S=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,vS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ES(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var EE=["POST","PUT","PATCH","DELETE"];new Set(EE);var TS=["GET",...EE];new Set(TS);var go=B.createContext(null);go.displayName="DataRouter";var Vh=B.createContext(null);Vh.displayName="DataRouterState";B.createContext(!1);var TE=B.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var bS=B.createContext(new Map);bS.displayName="Fetchers";var AS=B.createContext(null);AS.displayName="Await";var Ui=B.createContext(null);Ui.displayName="Navigation";var eu=B.createContext(null);eu.displayName="Location";var mr=B.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var tp=B.createContext(null);tp.displayName="RouteError";function SS(r,{relative:e}={}){ht(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Ui),{hash:o,pathname:u,search:f}=nu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ar([n,u])),s.createHref({pathname:m,search:f,hash:o})}function tu(){return B.useContext(eu)!=null}function na(){return ht(tu(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(eu).location}var bE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AE(r){B.useContext(Ui).static||B.useLayoutEffect(r)}function wS(){let{isDataRoute:r}=B.useContext(mr);return r?PS():RS()}function RS(){ht(tu(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(go),{basename:e,navigator:n}=B.useContext(Ui),{matches:s}=B.useContext(mr),{pathname:o}=na(),u=JSON.stringify(_E(s)),f=B.useRef(!1);return AE(()=>{f.current=!0}),B.useCallback((p,y={})=>{if(ti(f.current,bE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=vE(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ar([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}B.createContext(null);function nu(r,{relative:e}={}){let{matches:n}=B.useContext(mr),{pathname:s}=na(),o=JSON.stringify(_E(n));return B.useMemo(()=>vE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function CS(r,e){return SE(r,e)}function SE(r,e,n,s,o){ht(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(Ui),{matches:f}=B.useContext(mr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ie=b&&b.path||"";wE(y,!b||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let S=na(),k;if(e){let ie=typeof e=="string"?po(e):e;ht(E==="/"||ie.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),k=ie}else k=S;let H=k.pathname||"/",X=H;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");X="/"+H.replace(/^\//,"").split("/").slice(ie.length).join("/")}let G=pE(r,{pathname:X});ti(b||G!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),ti(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=OS(G&&G.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:ar([E,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:ar([E,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&te?B.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},te):te}function IS(){let r=US(),e=ES(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var xS=B.createElement(IS,null),NS=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?B.createElement(mr.Provider,{value:this.props.routeContext},B.createElement(tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DS({routeContext:r,match:e,children:n}){let s=B.useContext(go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(mr.Provider,{value:r},n)}function OS(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);ht(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=E),b.route.id){let{loaderData:S,errors:k}=n,H=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!k||k[b.route.id]===void 0);if(b.route.lazy||H){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:b})}:void 0;return u.reduceRight((E,b,S)=>{let k,H=!1,X=null,G=null;n&&(k=f&&b.route.id?f[b.route.id]:void 0,X=b.route.errorElement||xS,m&&(p<0&&S===0?(wE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,G=null):p===S&&(H=!0,G=b.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,S+1)),ie=()=>{let re;return k?re=X:H?re=G:b.route.Component?re=B.createElement(b.route.Component,null):b.route.element?re=b.route.element:re=E,B.createElement(DS,{match:b,routeContext:{outlet:E,matches:te,isDataRoute:n!=null},children:re})};return n&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?B.createElement(NS,{location:n.location,revalidation:n.revalidation,component:X,error:k,children:ie(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:y}):ie()},null)}function np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MS(r){let e=B.useContext(go);return ht(e,np(r)),e}function VS(r){let e=B.useContext(Vh);return ht(e,np(r)),e}function LS(r){let e=B.useContext(mr);return ht(e,np(r)),e}function ip(r){let e=LS(r),n=e.matches[e.matches.length-1];return ht(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function kS(){return ip("useRouteId")}function US(){let r=B.useContext(tp),e=VS("useRouteError"),n=ip("useRouteError");return r!==void 0?r:e.errors?.[n]}function PS(){let{router:r}=MS("useNavigate"),e=ip("useNavigate"),n=B.useRef(!1);return AE(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{ti(n.current,bE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Uv={};function wE(r,e,n){!e&&!Uv[r]&&(Uv[r]=!0,ti(!1,n))}B.memo(zS);function zS({routes:r,future:e,state:n,unstable_onError:s}){return SE(r,void 0,n,s,e)}function th(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ht(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=po(n));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:S="default"}=n,k=B.useMemo(()=>{let H=lr(p,f);return H==null?null:{location:{pathname:H,search:y,hash:E,state:b,key:S},navigationType:s}},[f,p,y,E,b,S,s]);return ti(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:B.createElement(Ui.Provider,{value:m},B.createElement(eu.Provider,{children:e,value:k}))}function BS({children:r,location:e}){return CS(Rm(r),e)}function Rm(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,Rm(s.props.children,u));return}ht(s.type===th,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Rm(s.props.children,u)),n.push(f)}),n}var nh="get",ih="application/x-www-form-urlencoded";function Lh(r){return r!=null&&typeof r.tagName=="string"}function qS(r){return Lh(r)&&r.tagName.toLowerCase()==="button"}function HS(r){return Lh(r)&&r.tagName.toLowerCase()==="form"}function FS(r){return Lh(r)&&r.tagName.toLowerCase()==="input"}function GS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function QS(r,e){return r.button===0&&(!e||e==="_self")&&!GS(r)}var Yc=null;function YS(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var KS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(r){return r!=null&&!KS.has(r)?(ti(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):r}function XS(r,e){let n,s,o,u,f;if(HS(r)){let m=r.getAttribute("action");s=m?lr(m,e):null,n=r.getAttribute("method")||nh,o=hm(r.getAttribute("enctype"))||ih,u=new FormData(r)}else if(qS(r)||FS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?lr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||nh,o=hm(r.getAttribute("formenctype"))||hm(m.getAttribute("enctype"))||ih,u=new FormData(m,r),!YS()){let{name:y,type:E,value:b}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,b)}}else{if(Lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=ih,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $S(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&lr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function ZS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function WS(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await ZS(u,n);return f.links?f.links():[]}return[]}));return iw(s.flat(1).filter(JS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function ew(r,e,{includeHydrateFallback:n}={}){return tw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function tw(r){return[...new Set(r)]}function nw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function iw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(nw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function RE(){let r=B.useContext(go);return rp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function rw(){let r=B.useContext(Vh);return rp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sp=B.createContext(void 0);sp.displayName="FrameworkContext";function CE(){let r=B.useContext(sp);return rp(r,"You must render this element inside a <HydratedRouter> element"),r}function sw(r,e){let n=B.useContext(sp),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,S=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=te=>{te.forEach(ie=>{f(ie.isIntersecting)})},G=new IntersectionObserver(X,{threshold:.5});return S.current&&G.observe(S.current),()=>{G.disconnect()}}},[r]),B.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let k=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Ol(m,k),onBlur:Ol(p,H),onMouseEnter:Ol(y,k),onMouseLeave:Ol(E,H),onTouchStart:Ol(b,k)}]:[!1,S,{}]}function Ol(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function aw({page:r,...e}){let{router:n}=RE(),s=B.useMemo(()=>pE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(lw,{page:r,matches:s,...e}):null}function ow(r){let{manifest:e,routeModules:n}=CE(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return WS(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function lw({page:r,matches:e,...n}){let s=na(),{manifest:o,routeModules:u}=CE(),{basename:f}=RE(),{loaderData:m,matches:p}=rw(),y=B.useMemo(()=>Pv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=B.useMemo(()=>Pv(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,X=!1;if(e.forEach(te=>{let ie=o.routes[te.route.id];!ie||!ie.hasLoader||(!y.some(re=>re.route.id===te.route.id)&&te.route.id in m&&u[te.route.id]?.shouldRevalidate||ie.hasClientLoader?X=!0:H.add(te.route.id))}),H.size===0)return[];let G=$S(r,f,"data");return X&&H.size>0&&G.searchParams.set("_routes",e.filter(te=>H.has(te.route.id)).map(te=>te.route.id).join(",")),[G.pathname+G.search]},[f,m,s,o,y,e,r,u]),S=B.useMemo(()=>ew(E,o),[E,o]),k=ow(E);return B.createElement(B.Fragment,null,b.map(H=>B.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),S.map(H=>B.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),k.map(({key:H,link:X})=>B.createElement("link",{key:H,nonce:n.nonce,...X})))}function uw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IE&&(window.__reactRouterVersion="7.9.6")}catch{}function cw({basename:r,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=$A({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(jS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var xE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NE=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...S},k){let{basename:H}=B.useContext(Ui),X=typeof y=="string"&&xE.test(y),G,te=!1;if(typeof y=="string"&&X&&(G=y,IE))try{let I=new URL(window.location.href),M=y.startsWith("//")?new URL(I.protocol+y):new URL(y),D=lr(M.pathname,H);M.origin===I.origin&&D!=null?y=D+M.search+M.hash:te=!0}catch{ti(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=SS(y,{relative:o}),[re,ve,Re]=sw(s,S),Ae=mw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function N(I){e&&e(I),I.defaultPrevented||Ae(I)}let w=B.createElement("a",{...S,...Re,href:G||ie,onClick:te||u?e:N,ref:uw(k,ve),target:p,"data-discover":!X&&n==="render"?"true":void 0});return re&&!X?B.createElement(B.Fragment,null,w,B.createElement(aw,{page:ie})):w});NE.displayName="Link";var hw=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let b=nu(f,{relative:y.relative}),S=na(),k=B.useContext(Vh),{navigator:H,basename:X}=B.useContext(Ui),G=k!=null&&vw(b)&&m===!0,te=H.encodeLocation?H.encodeLocation(b).pathname:b.pathname,ie=S.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,te=te.toLowerCase()),re&&X&&(re=lr(re,X)||re);const ve=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Re=ie===te||!o&&ie.startsWith(te)&&ie.charAt(ve)==="/",Ae=re!=null&&(re===te||!o&&re.startsWith(te)&&re.charAt(te.length)==="/"),N={isActive:Re,isPending:Ae,isTransitioning:G},w=Re?e:void 0,I;typeof s=="function"?I=s(N):I=[s,Re?"active":null,Ae?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return B.createElement(NE,{...y,"aria-current":w,className:I,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(N):p)});hw.displayName="NavLink";var fw=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=nh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...S},k)=>{let H=yw(),X=_w(m,{relative:y}),G=f.toLowerCase()==="get"?"get":"post",te=typeof m=="string"&&xE.test(m),ie=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let ve=re.nativeEvent.submitter,Re=ve?.getAttribute("formmethod")||f;H(ve||re.currentTarget,{fetcherKey:e,method:Re,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return B.createElement("form",{ref:k,method:G,action:X,onSubmit:s?p:ie,...S,"data-discover":!te&&r==="render"?"true":void 0})});fw.displayName="Form";function dw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(r){let e=B.useContext(go);return ht(e,dw(r)),e}function mw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=wS(),p=na(),y=nu(r,{relative:u});return B.useCallback(E=>{if(QS(E,e)){E.preventDefault();let b=n!==void 0?n:Fl(p)===Fl(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var pw=0,gw=()=>`__${String(++pw)}__`;function yw(){let{router:r}=DE("useSubmit"),{basename:e}=B.useContext(Ui),n=kS();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=XS(s,e);if(o.navigate===!1){let E=o.fetcherKey||gw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function _w(r,{relative:e}={}){let{basename:n}=B.useContext(Ui),s=B.useContext(mr);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...nu(r||".",{relative:e})},f=na();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),Fl(u)}function vw(r,{relative:e}={}){let n=B.useContext(TE);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DE("useViewTransitionState"),o=nu(r,{relative:e});if(!n.isTransitioning)return!1;let u=lr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=lr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(o.pathname,f)!=null||mh(o.pathname,u)!=null}const Ew=()=>{};var zv={};const OE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Tw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ME={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,k=y&63;p||(k=64,f||(S=64)),s.push(n[E],n[b],n[S],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(OE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Tw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new bw;const S=u<<2|m>>4;if(s.push(S),y!==64){const k=m<<4&240|y>>2;if(s.push(k),b!==64){const H=y<<6&192|b;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class bw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Aw=function(r){const e=OE(r);return ME.encodeByteArray(e,!0)},ph=function(r){return Aw(r).replace(/\./g,"")},VE=function(r){try{return ME.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ww=()=>Sw().__FIREBASE_DEFAULTS__,Rw=()=>{if(typeof process>"u"||typeof zv>"u")return;const r=zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Cw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&VE(r[1]);return e&&JSON.parse(e)},kh=()=>{try{return Ew()||ww()||Rw()||Cw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LE=r=>kh()?.emulatorHosts?.[r],Iw=r=>{const e=LE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},kE=()=>kh()?.config,UE=r=>kh()?.[`_${r}`];class xw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function yo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PE(r){return(await fetch(r,{credentials:"include"})).ok}function Nw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ph(JSON.stringify(n)),ph(JSON.stringify(f)),""].join(".")}const Pl={};function Dw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?r.emulator.push(e):r.prod.push(e);return r}function Ow(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let jv=!1;function zE(r,e){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||Pl[r]===e||Pl[r]||jv)return;Pl[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=Dw().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,k){S.setAttribute("width","24"),S.setAttribute("id",k),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{jv=!0,f()},S}function E(S,k){S.setAttribute("id",k),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=Ow(s),k=n("text"),H=document.getElementById(k)||document.createElement("span"),X=n("learnmore"),G=document.getElementById(X)||document.createElement("a"),te=n("preprendIcon"),ie=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;m(re),E(G,X);const ve=y();p(ie,te),re.append(ie,H,G,ve),document.body.appendChild(re)}u?(H.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function Vw(){const r=kh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Uw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pw(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function zw(){return!Vw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jw(){try{return typeof indexedDB=="object"}catch{return!1}}function Bw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const qw="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qw,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Hw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new pr(o,m,s)}}function Hw(r,e){return r.replace(Fw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Fw=/\{\$([^}]+)}/g;function Gw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function as(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Bv(u)&&Bv(f)){if(!as(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Bv(r){return r!==null&&typeof r=="object"}function ru(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Qw(r,e){const n=new Yw(r,e);return n.subscribe.bind(n)}class Yw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Kw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function fm(){}function Bt(r){return r&&r._delegate?r._delegate:r}class Js{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ys="[DEFAULT]";class Xw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new xw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zw(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$w(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $w(r){return r===Ys?void 0:r}function Zw(r){return r.instantiationMode==="EAGER"}class Jw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const Ww={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},eR=ke.INFO,tR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},nR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=tR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ap{constructor(e){this.name=e,this._logLevel=eR,this._logHandler=nR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ww[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const iR=(r,e)=>e.some(n=>r instanceof n);let qv,Hv;function rR(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sR(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,Cm=new WeakMap,BE=new WeakMap,dm=new WeakMap,op=new WeakMap;function aR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ts(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&jE.set(n,r)}).catch(()=>{}),op.set(e,r),e}function oR(r){if(Cm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Cm.set(r,e)}let Im={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||BE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function lR(r){Im=r(Im)}function uR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(mm(this),e,...n);return BE.set(s,e.sort?e.sort():[e]),ts(s)}:sR().includes(r)?function(...e){return r.apply(mm(this),e),ts(jE.get(this))}:function(...e){return ts(r.apply(mm(this),e))}}function cR(r){return typeof r=="function"?uR(r):(r instanceof IDBTransaction&&oR(r),iR(r,rR())?new Proxy(r,Im):r)}function ts(r){if(r instanceof IDBRequest)return aR(r);if(dm.has(r))return dm.get(r);const e=cR(r);return e!==r&&(dm.set(r,e),op.set(e,r)),e}const mm=r=>op.get(r);function hR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ts(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ts(f.result),p.oldVersion,p.newVersion,ts(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const fR=["get","getKey","getAll","getAllKeys","count"],dR=["put","add","delete","clear"],pm=new Map;function Fv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=dR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return pm.set(e,u),u}lR(r=>({...r,get:(e,n,s)=>Fv(e,n)||r.get(e,n,s),has:(e,n)=>!!Fv(e,n)||r.has(e,n)}));class mR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function pR(r){return r.getComponent()?.type==="VERSION"}const xm="@firebase/app",Gv="0.14.6";const ur=new ap("@firebase/app"),gR="@firebase/app-compat",yR="@firebase/analytics-compat",_R="@firebase/analytics",vR="@firebase/app-check-compat",ER="@firebase/app-check",TR="@firebase/auth",bR="@firebase/auth-compat",AR="@firebase/database",SR="@firebase/data-connect",wR="@firebase/database-compat",RR="@firebase/functions",CR="@firebase/functions-compat",IR="@firebase/installations",xR="@firebase/installations-compat",NR="@firebase/messaging",DR="@firebase/messaging-compat",OR="@firebase/performance",MR="@firebase/performance-compat",VR="@firebase/remote-config",LR="@firebase/remote-config-compat",kR="@firebase/storage",UR="@firebase/storage-compat",PR="@firebase/firestore",zR="@firebase/ai",jR="@firebase/firestore-compat",BR="firebase",qR="12.6.0";const Nm="[DEFAULT]",HR={[xm]:"fire-core",[gR]:"fire-core-compat",[_R]:"fire-analytics",[yR]:"fire-analytics-compat",[ER]:"fire-app-check",[vR]:"fire-app-check-compat",[TR]:"fire-auth",[bR]:"fire-auth-compat",[AR]:"fire-rtdb",[SR]:"fire-data-connect",[wR]:"fire-rtdb-compat",[RR]:"fire-fn",[CR]:"fire-fn-compat",[IR]:"fire-iid",[xR]:"fire-iid-compat",[NR]:"fire-fcm",[DR]:"fire-fcm-compat",[OR]:"fire-perf",[MR]:"fire-perf-compat",[VR]:"fire-rc",[LR]:"fire-rc-compat",[kR]:"fire-gcs",[UR]:"fire-gcs-compat",[PR]:"fire-fst",[jR]:"fire-fst-compat",[zR]:"fire-vertex","fire-js":"fire-js",[BR]:"fire-js-all"};const gh=new Map,FR=new Map,Dm=new Map;function Qv(r,e){try{r.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ro(r){const e=r.name;if(Dm.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,r);for(const n of gh.values())Qv(n,r);for(const n of FR.values())Qv(n,r);return!0}function lp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ci(r){return r==null?!1:r.settings!==void 0}const GR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new iu("app","Firebase",GR);class QR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const _o=qR;function qE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Nm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(n||(n=kE()),!n)throw ns.create("no-options");const u=gh.get(o);if(u){if(as(n,u.options)&&as(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const f=new Jw(o);for(const p of Dm.values())f.addComponent(p);const m=new QR(n,s,f);return gh.set(o,m),m}function HE(r=Nm){const e=gh.get(r);if(!e&&r===Nm&&kE())return qE();if(!e)throw ns.create("no-app",{appName:r});return e}function is(r,e,n){let s=HR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(f.join(" "));return}ro(new Js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const YR="firebase-heartbeat-database",KR=1,Gl="firebase-heartbeat-store";let gm=null;function FE(){return gm||(gm=hR(YR,KR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),gm}async function XR(r){try{const n=(await FE()).transaction(Gl),s=await n.objectStore(Gl).get(GE(r));return await n.done,s}catch(e){if(e instanceof pr)ur.warn(e.message);else{const n=ns.create("idb-get",{originalErrorMessage:e?.message});ur.warn(n.message)}}}async function Yv(r,e){try{const s=(await FE()).transaction(Gl,"readwrite");await s.objectStore(Gl).put(e,GE(r)),await s.done}catch(n){if(n instanceof pr)ur.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n?.message});ur.warn(s.message)}}}function GE(r){return`${r.name}!${r.options.appId}`}const $R=1024,ZR=30;class JR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>ZR){const o=t2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ur.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kv(),{heartbeatsToSend:n,unsentEntries:s}=WR(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ur.warn(e),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function WR(r,e=$R){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Xv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Xv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class e2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jw()?Bw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Xv(r){return ph(JSON.stringify({version:2,heartbeats:r})).length}function t2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function n2(r){ro(new Js("platform-logger",e=>new mR(e),"PRIVATE")),ro(new Js("heartbeat",e=>new JR(e),"PRIVATE")),is(xm,Gv,r),is(xm,Gv,"esm2020"),is("fire-js","")}n2("");var i2="firebase",r2="12.6.0";is(i2,r2,"app");var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rs,QE;(function(){var r;function e(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(M,D,V){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return w.prototype[D].apply(M,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,I){I||(I=0);const M=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)M[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)M[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],D=N.g[2];let V=N.g[3],R;R=w+(V^I&(D^V))+M[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(D^w&(I^D))+M[1]+3905402710&4294967295,V=w+(R<<12&4294967295|R>>>20),R=D+(I^V&(w^I))+M[2]+606105819&4294967295,D=V+(R<<17&4294967295|R>>>15),R=I+(w^D&(V^w))+M[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(V^I&(D^V))+M[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(D^w&(I^D))+M[5]+1200080426&4294967295,V=w+(R<<12&4294967295|R>>>20),R=D+(I^V&(w^I))+M[6]+2821735955&4294967295,D=V+(R<<17&4294967295|R>>>15),R=I+(w^D&(V^w))+M[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(V^I&(D^V))+M[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(D^w&(I^D))+M[9]+2336552879&4294967295,V=w+(R<<12&4294967295|R>>>20),R=D+(I^V&(w^I))+M[10]+4294925233&4294967295,D=V+(R<<17&4294967295|R>>>15),R=I+(w^D&(V^w))+M[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(V^I&(D^V))+M[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=V+(D^w&(I^D))+M[13]+4254626195&4294967295,V=w+(R<<12&4294967295|R>>>20),R=D+(I^V&(w^I))+M[14]+2792965006&4294967295,D=V+(R<<17&4294967295|R>>>15),R=I+(w^D&(V^w))+M[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(D^V&(I^D))+M[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^D&(w^I))+M[6]+3225465664&4294967295,V=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(V^w))+M[11]+643717713&4294967295,D=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(D^V))+M[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^V&(I^D))+M[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^D&(w^I))+M[10]+38016083&4294967295,V=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(V^w))+M[15]+3634488961&4294967295,D=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(D^V))+M[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^V&(I^D))+M[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^D&(w^I))+M[14]+3275163606&4294967295,V=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(V^w))+M[3]+4107603335&4294967295,D=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(D^V))+M[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^V&(I^D))+M[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=V+(I^D&(w^I))+M[2]+4243563512&4294967295,V=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(V^w))+M[7]+1735328473&4294967295,D=V+(R<<14&4294967295|R>>>18),R=I+(V^w&(D^V))+M[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(I^D^V)+M[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^D)+M[8]+2272392833&4294967295,V=w+(R<<11&4294967295|R>>>21),R=D+(V^w^I)+M[11]+1839030562&4294967295,D=V+(R<<16&4294967295|R>>>16),R=I+(D^V^w)+M[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^V)+M[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^D)+M[4]+1272893353&4294967295,V=w+(R<<11&4294967295|R>>>21),R=D+(V^w^I)+M[7]+4139469664&4294967295,D=V+(R<<16&4294967295|R>>>16),R=I+(D^V^w)+M[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^V)+M[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^D)+M[0]+3936430074&4294967295,V=w+(R<<11&4294967295|R>>>21),R=D+(V^w^I)+M[3]+3572445317&4294967295,D=V+(R<<16&4294967295|R>>>16),R=I+(D^V^w)+M[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^V)+M[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=V+(w^I^D)+M[12]+3873151461&4294967295,V=w+(R<<11&4294967295|R>>>21),R=D+(V^w^I)+M[15]+530742520&4294967295,D=V+(R<<16&4294967295|R>>>16),R=I+(D^V^w)+M[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(D^(I|~V))+M[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~D))+M[7]+1126891415&4294967295,V=w+(R<<10&4294967295|R>>>22),R=D+(w^(V|~I))+M[14]+2878612391&4294967295,D=V+(R<<15&4294967295|R>>>17),R=I+(V^(D|~w))+M[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~V))+M[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~D))+M[3]+2399980690&4294967295,V=w+(R<<10&4294967295|R>>>22),R=D+(w^(V|~I))+M[10]+4293915773&4294967295,D=V+(R<<15&4294967295|R>>>17),R=I+(V^(D|~w))+M[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~V))+M[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~D))+M[15]+4264355552&4294967295,V=w+(R<<10&4294967295|R>>>22),R=D+(w^(V|~I))+M[6]+2734768916&4294967295,D=V+(R<<15&4294967295|R>>>17),R=I+(V^(D|~w))+M[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~V))+M[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=V+(I^(w|~D))+M[11]+3174756917&4294967295,V=w+(R<<10&4294967295|R>>>22),R=D+(w^(V|~I))+M[2]+718787259&4294967295,D=V+(R<<15&4294967295|R>>>17),R=I+(V^(D|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+V&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,M=this.C;let D=this.h,V=0;for(;V<w;){if(D==0)for(;V<=I;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<w;)if(M[D++]=N.charCodeAt(V++),D==this.blockSize){o(this,M),D=0;break}}else for(;V<w;)if(M[D++]=N[V++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)N[w++]=this.g[I]>>>M&255;return N};function u(N,w){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function f(N,w){this.h=w;const I=[];let M=!0;for(let D=N.length-1;D>=0;D--){const V=N[D]|0;M&&V==w||(I[D]=V,M=!1)}this.g=I}var m={};function p(N){return-128<=N&&N<128?u(N,function(w){return new f([w|0],w<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return G(y(-N));const w=[];let I=1;for(let M=0;N>=I;M++)w[M]=N/I|0,I*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return G(E(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let M=b;for(let V=0;V<N.length;V+=8){var D=Math.min(8,N.length-V);const R=parseInt(N.substring(V,V+D),w);D<8?(D=y(Math.pow(w,D)),M=M.j(D).add(y(R))):(M=M.j(I),M=M.add(y(R)))}return M}var b=p(0),S=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-G(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(X(this))return"-"+G(this).toString(N);const w=y(Math.pow(N,6));var I=this;let M="";for(;;){const D=ve(I,w).g;I=te(I,D.j(w));let V=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,H(I))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function X(N){return N.h==-1}r.l=function(N){return N=te(this,N),X(N)?-1:H(N)?0:1};function G(N){const w=N.g.length,I=[];for(let M=0;M<w;M++)I[M]=~N.g[M];return new f(I,~N.h).add(S)}r.abs=function(){return X(this)?G(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let M=0;for(let D=0;D<=w;D++){let V=M+(this.i(D)&65535)+(N.i(D)&65535),R=(V>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=R>>>16,V&=65535,R&=65535,I[D]=R<<16|V}return new f(I,I[I.length-1]&-2147483648?-1:0)};function te(N,w){return N.add(G(w))}r.j=function(N){if(H(this)||H(N))return b;if(X(this))return X(N)?G(this).j(G(N)):G(G(this).j(N));if(X(N))return G(this.j(G(N)));if(this.l(k)<0&&N.l(k)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var M=0;M<2*w;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const V=this.i(M)>>>16,R=this.i(M)&65535,ne=N.i(D)>>>16,me=N.i(D)&65535;I[2*M+2*D]+=R*me,ie(I,2*M+2*D),I[2*M+2*D+1]+=V*me,ie(I,2*M+2*D+1),I[2*M+2*D+1]+=R*ne,ie(I,2*M+2*D+1),I[2*M+2*D+2]+=V*ne,ie(I,2*M+2*D+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new f(I,0)};function ie(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function re(N,w){this.g=N,this.h=w}function ve(N,w){if(H(w))throw Error("division by zero");if(H(N))return new re(b,b);if(X(N))return w=ve(G(N),w),new re(G(w.g),G(w.h));if(X(w))return w=ve(N,G(w)),new re(G(w.g),w.h);if(N.g.length>30){if(X(N)||X(w))throw Error("slowDivide_ only works with positive integers.");for(var I=S,M=w;M.l(N)<=0;)I=Re(I),M=Re(M);var D=Ae(I,1),V=Ae(M,1);for(M=Ae(M,2),I=Ae(I,2);!H(M);){var R=V.add(M);R.l(N)<=0&&(D=D.add(I),V=R),M=Ae(M,1),I=Ae(I,1)}return w=te(N,D.j(w)),new re(D,w)}for(D=b;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=y(I),R=V.j(w);X(R)||R.l(N)>0;)I-=M,V=y(I),R=V.j(w);H(V)&&(V=S),D=D.add(V),N=te(N,R)}return new re(D,N)}r.B=function(N){return ve(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)&N.i(M);return new f(I,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)|N.i(M);return new f(I,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)^N.i(M);return new f(I,this.h^N.h)};function Re(N){const w=N.g.length+1,I=[];for(let M=0;M<w;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(I,N.h)}function Ae(N,w){const I=w>>5;w%=32;const M=N.g.length-I,D=[];for(let V=0;V<M;V++)D[V]=w>0?N.i(V+I)>>>w|N.i(V+I+1)<<32-w:N.i(V+I);return new f(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,QE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,rs=f}).apply(typeof $v<"u"?$v:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var YE,Ml,KE,rh,Om,XE,$E,ZE;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break e;v=v[P]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,Q){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return g.prototype[P].apply(A,ae)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function H(c,g){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const Q=P.length||0;c.length=v+Q;for(let ae=0;ae<Q;ae++)c[v+ae]=P[ae]}else c.push(P)}}class X{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(c){f.setTimeout(()=>{throw c},0)}function te(){var c=N;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ie{constructor(){this.h=this.g=null}add(g,v){const A=re.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new X(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,Ae=!1,N=new ie,w=()=>{const c=Promise.resolve(void 0);Re=()=>{c.then(I)}};function I(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){G(v)}var g=re;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Ae=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function ne(c,g){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}b(ne,D),ne.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),F=0;function se(c,g,v,A,P){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=P,this.key=++F,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Ke(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function L(c){const g={};for(const v in c)g[v]=c[v];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,g){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let Q=0;Q<W.length;Q++)v=W[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,g,v,A,P){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ae=xe(c,g,A,P);return ae>-1?(g=c[ae],v||(g.fa=!1)):(g=new se(g,this.src,Q,!!A,P),g.fa=v,c.push(g)),g};function Te(c,g){const v=g.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,g,void 0),Q;(Q=P>=0)&&Array.prototype.splice.call(A,P,1),Q&&(fe(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xe(c,g,v,A){for(let P=0;P<c.length;++P){const Q=c[P];if(!Q.da&&Q.listener==g&&Q.capture==!!v&&Q.ha==A)return P}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Mt={};function lt(c,g,v,A,P){if(Array.isArray(g)){for(let Q=0;Q<g.length;Q++)lt(c,g[Q],v,A,P);return null}return v=Io(v),c&&c[me]?c.J(g,v,m(A)?!!A.capture:!1,P):gs(c,g,v,!1,A,P)}function gs(c,g,v,A,P,Q){if(!g)throw Error("Invalid event type");const ae=m(P)?!!P.capture:!!P;let Ce=ys(c);if(Ce||(c[Be]=Ce=new ce(c)),v=Ce.add(g,v,A,ae,Q),v.proxy)return v;if(A=sa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)V||(P=ae),P===void 0&&(P=!1),c.addEventListener(g.toString(),A,P);else if(c.attachEvent)c.attachEvent(ii(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sa(){function c(v){return g.call(c.src,c.listener,v)}const g=Ro;return c}function aa(c,g,v,A,P){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)aa(c,g[Q],v,A,P);else A=m(A)?!!A.capture:!!A,v=Io(v),c&&c[me]?(c=c.i,Q=String(g).toString(),Q in c.g&&(g=c.g[Q],v=xe(g,v,A,P),v>-1&&(fe(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[Q],c.h--)))):c&&(c=ys(c))&&(g=c.g[g.toString()],c=-1,g&&(c=xe(g,v,A,P)),(v=c>-1?g[c]:null)&&oa(v))}function oa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[me])Te(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(ii(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=ys(g))?(Te(v,c),v.h==0&&(v.src=null,g[Be]=null)):fe(c)}}}function ii(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Ro(c,g){if(c.da)c=!0;else{g=new ne(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&oa(c),c=v.call(A,g)}return c}function ys(c){return c=c[Be],c instanceof ce?c:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(g){return c.handleEvent(g)}),c[Co])}function Tt(){M.call(this),this.i=new ce(this),this.M=this,this.G=null}b(Tt,M),Tt.prototype[me]=!0,Tt.prototype.removeEventListener=function(c,g,v,A){aa(this,c,g,v,A)};function Vt(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new D(g,c);else if(g instanceof D)g.target=g.target||c;else{var P=g;g=new D(A,c),oe(g,P)}P=!0;let Q,ae;if(v)for(ae=v.length-1;ae>=0;ae--)Q=g.g=v[ae],P=gr(Q,A,!0,g)&&P;if(Q=g.g=c,P=gr(Q,A,!0,g)&&P,P=gr(Q,A,!1,g)&&P,v)for(ae=0;ae<v.length;ae++)Q=g.g=v[ae],P=gr(Q,A,!1,g)&&P}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)fe(v[A]);delete c.g[g],c.h--}}this.G=null},Tt.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Tt.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function gr(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let Q=0;Q<g.length;++Q){const ae=g[Q];if(ae&&!ae.da&&ae.capture==v){const Ce=ae.listener,yt=ae.ha||ae.src;ae.fa&&Te(c.i,ae),P=Ce.call(yt,A)!==!1&&P}}return P&&!A.defaultPrevented}function af(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function _u(c){c.g=af(()=>{c.g=null,c.i&&(c.i=!1,_u(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class rn extends M{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(c){M.call(this),this.h=c,this.g={}}b(_s,M);var xo=[];function No(c){Me(c.g,function(g,v){this.g.hasOwnProperty(v)&&oa(g)},c),c.g={}}_s.prototype.N=function(){_s.Z.N.call(this),No(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=f.JSON.stringify,of=f.JSON.parse,vu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Eu(){}function Tu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){D.call(this,"d")}b(Ht,D);function In(){D.call(this,"c")}b(In,D);var gt={},bu=null;function la(){return bu=bu||new Tt}gt.Ia="serverreachability";function Au(c){D.call(this,gt.Ia,c)}b(Au,D);function ri(c){const g=la();Vt(g,new Au(g))}gt.STAT_EVENT="statevent";function vs(c,g){D.call(this,gt.STAT_EVENT,c),this.stat=g}b(vs,D);function bt(c){const g=la();Vt(g,new vs(g,c))}gt.Ja="timingevent";function si(c,g){D.call(this,gt.Ja,c),this.size=g}b(si,D);function ai(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function lf(c,g,v,A,P,Q){c.info(function(){if(c.g)if(Q){var ae="",Ce=Q.split("&");for(let Ge=0;Ge<Ce.length;Ge++){var yt=Ce[Ge].split("=");if(yt.length>1){const ut=yt[0];yt=yt[1];const On=ut.split("_");ae=On.length>=2&&On[1]=="type"?ae+(ut+"="+yt+"&"):ae+(ut+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+g+`
`+v+`
`+ae})}function Su(c,g,v,A,P,Q,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+g+`
`+v+`
`+Q+" "+ae})}function oi(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+uf(c,v)+(A?" "+A:"")})}function Es(c,g){c.info(function(){return"TIMEOUT: "+g})}Hn.prototype.info=function(){};function uf(c,g){if(!c.g)return g;if(!g)return null;try{const Q=JSON.parse(g);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return yr(Q)}catch{return g}}var Ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function bs(){}b(bs,Eu),bs.prototype.g=function(){return new XMLHttpRequest},Oo=new bs;function Pi(c){return encodeURIComponent(String(c))}function wu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Fn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new _s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var At={},Ut={};function li(c,g,v){c.M=1,c.A=As(wt(g)),c.u=v,c.R=!0,ua(c,null)}function ua(c,g){c.F=Date.now(),ui(c),c.B=wt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),da(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=ju(c.j,v?g:null,!c.u),c.P>0&&(c.O=new rn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(xo[0]=P.toString()),P=xo);for(let Q=0;Q<P.length;Q++){const ae=lt(v,P[Q],A||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.J?L(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ri(),lf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Kn(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Kn(this.g),yt=this.g.ya(),Ge=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ce!=4||yt==7||(yt==8||Ge<=0?ri(3):ri(2)),ci(this);var g=this.g.ca();this.X=g;var v=cf(this);if(this.o=g==200,Su(this.i,this.v,this.B,this.l,this.S,Ce,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var Q=A;break t}}Q=null}if(c=Q)oi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,c);else{this.o=!1,this.m=3,bt(12),_n(this),xn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=Cu(this,v),ut==Ut){Ce==4&&(this.m=4,bt(14),c=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==At){this.m=4,bt(15),oi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else oi(this.i,this.l,ut,null),hi(this,ut);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)oi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(ae),ae.P=!0,bt(11))}}else oi(this.i,this.l,v,null),hi(this,v);Ce==4&&_n(this),this.o&&!this.K&&(Ce==4?ku(this.j,this):(this.o=!1,ui(this)))}else ji(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),_n(this),xn(this)}}}catch{}finally{}};function cf(c){if(!Ru(c))return c.g.la();const g=Ft(c.g);if(g==="")return"";let v="";const A=g.length,P=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),xn(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,v+=c.h.i.decode(g[Q],{stream:!(P&&Q==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Ru(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Ut:(v=Number(g.substring(v,A)),isNaN(v)?At:(A+=1,A+v>g.length?Ut:(g=g.slice(A,A+v),c.C=A+v,g)))}Fn.prototype.cancel=function(){this.K=!0,_n(this)};function ui(c){c.T=Date.now()+c.H,ca(c,c.H)}function ca(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ai(y(c.aa,c),g)}function ci(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Es(this.i,this.B),this.M!=2&&(ri(),bt(17)),_n(this),this.m=2,xn(this)):ca(this,this.T-c)};function xn(c){c.j.I==0||c.K||ku(c.j,c)}function _n(c){ci(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,No(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function hi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||di(v.h,c))){if(!c.L&&di(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)_a(v),wr(v);else break e;Ns(v),bt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(y(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((c.L||v.g==c)&&_a(v),!R(g))for(P=v.Ba.g.parse(g),g=0;g<P.length;g++){let Ge=P[g];const ut=Ge[0];if(!(ut<=v.K))if(v.K=ut,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const On=Ge[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Ei=Ge[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Xn=Ge[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const Ds=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var Q=A.h;Q.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Lo(Q,Q.h),Q.h=null))}if(A.G){const va=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(A.wa=va,Xe(A.J,A.G,va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ae=c;if(A.na=zu(A,A.L?A.ba:null,A.W),ae.L){ko(A.h,ae);var Ce=ae,yt=A.O;yt&&(Ce.H=yt),Ce.D&&(ci(Ce),ui(Ce)),A.g=ae}else Vu(A);v.i.length>0&&_i(v)}else Ge[0]!="stop"&&Ge[0]!="close"||vi(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?vi(v,7):Go(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}ri(4)}catch{}}var St=class{constructor(c,g){this.g=c,this.map=g}};function Mo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function di(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Lo(c,g){c.g?c.g.add(g):c.h=g}function ko(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Mo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return k(c.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,Q=null;A>=0?(P=c[v].substring(0,A),Q=c[v].substring(A+1)):P=c[v],g(P,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof vn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,_r(this,c.u),this.h=c.h,Po(this,Ou(c.i)),this.m=c.m):c&&(g=String(c).match(Iu))?(this.l=!1,Pt(this,g[1]||"",!0),this.o=mi(g[2]||""),this.g=mi(g[3]||"",!0),_r(this,g[4]),this.h=mi(g[5]||"",!0),Po(this,g[6]||"",!0),this.m=mi(g[7]||"")):(this.l=!1,this.i=new Er(null,this.l))}vn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ss(g,fa,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ss(g,fa,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ss(v,v.charAt(0)=="/"?zo:xu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ss(v,Nu)),c.join("")},vn.prototype.resolve=function(c){const g=wt(this);let v=!!c.j;v?Pt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)_r(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=g.h.lastIndexOf("/");P!=-1&&(A=g.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const Q=[];for(let ae=0;ae<P.length;){const Ce=P[ae++];Ce=="."?A&&ae==P.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ae==P.length&&Q.push("")):(Q.push(Ce),A=!0)}A=Q.join("/")}else A=P}return v?g.h=A:v=c.i.toString()!=="",v?Po(g,Ou(c.i)):v=!!c.m,v&&(g.m=c.m),g};function wt(c){return new vn(c)}function Pt(c,g,v){c.j=v?mi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function _r(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Po(c,g,v){g instanceof Er?(c.i=g,ma(c.i,c.l)):(v||(g=Ss(g,vr)),c.i=new Er(g,c.l))}function Xe(c,g,v){c.i.set(g,v)}function As(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fa=/[#\/\?@]/g,xu=/[#\?:]/g,zo=/[#\?]/g,vr=/[#\?@]/g,Nu=/#/g;function Er(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&ha(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Er.prototype,r.add=function(c,g){cn(this),this.i=null,c=Tr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Du(c,g){cn(c),g=Tr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function jo(c,g){return cn(c),g=Tr(c,g),c.g.has(g)}r.forEach=function(c,g){cn(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(g,P,A,this)},this)},this)};function Bo(c,g){cn(c);let v=[];if(typeof g=="string")jo(c,g)&&(v=v.concat(c.g.get(Tr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return cn(this),this.i=null,c=Tr(this,c),jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Bo(this,c),c.length>0?String(c[0]):g):g};function da(c,g,v){Du(c,g),v.length>0&&(c.i=null,c.g.set(Tr(c,g),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const P=Pi(v);v=Bo(this,v);for(let Q=0;Q<v.length;Q++){let ae=P;v[Q]!==""&&(ae+="="+Pi(v[Q])),c.push(ae)}}return this.i=c.join("&")};function Ou(c){const g=new Er;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Tr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ma(c,g){g&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(Du(this,A),da(this,P,v))},c)),c.j=g}function Qn(c,g){const v=new Hn;if(f.Image){const A=new Image;A.onload=E(Nn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Nn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Nn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Nn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function qo(c,g){const v=new Hn,A=new AbortController,P=setTimeout(()=>{A.abort(),Nn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(P),Q.ok?Nn(v,"TestPingServer: ok",!0,g):Nn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Nn(v,"TestPingServer: error",!1,g)})}function Nn(c,g,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function br(){this.g=new vu}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(pi,Eu),pi.prototype.g=function(){return new ws(this.i,this.h)};function ws(c,g){Tt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ws,Tt),r=ws.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ar(this):Yn(this),this.readyState==3&&pa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},r.Na=function(c){this.g&&(this.response=c,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let g="";return Me(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Rs(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Dn(v),typeof c=="string"?v!=null&&Pi(v):Xe(c,g,v))}function We(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(We,Tt);var gi=/^https?$/i,Ho=["POST","PUT"];r=We.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){Cs(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ho,g,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Cs(this,Q)}};function Cs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Fo(c),zi(c)}function Fo(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Is(this):this.Xa())},r.Xa=function(){Is(this)};function Is(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=Q===0){let ae=String(c.D).match(Iu)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),A=!gi.test(ae?ae.toLowerCase():"")}v=A}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var P=Kn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Fo(c)}}finally{zi(c)}}}}function zi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),of(g)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const g={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var v=wu(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=g[P]||[];g[P]=Q,Q.push(v)}Ke(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Sr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Ba=new br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Sr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){bt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=zu(this,null,this.W),_i(this)};function Go(c){if(ga(c),c.I==3){var g=c.V++,v=wt(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",g),Xe(v,"TYPE","terminate"),xs(c,v),g=new Fn(c,c.j,g),g.M=2,g.A=As(wt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=ju(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ui(g)}Pu(c)}function wr(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function ga(c){wr(c),c.v&&(f.clearTimeout(c.v),c.v=null),_a(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function _i(c){if(!Vo(c.h)&&!c.m){c.m=!0;var g=c.Ea;Re||w(),Ae||(Re(),Ae=!0),N.add(g,c),c.D=0}}function ya(c,g){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ai(y(c.Ea,c,g),Uu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Fn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=L(Q),oe(Q,this.U)):Q=this.U),this.u!==null||this.R||(P.J=Q,Q=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Mu(this,P,g),v=wt(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),xs(this,v),Q&&(this.R?g="headers="+Pi(Dn(Q))+"&"+g:this.u&&Rs(v,this.u,Q)),Lo(this.h,P),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",g),Xe(v,"SID","null"),P.U=!0,li(P,v,null)):li(P,v,g),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||Vo(this.h)||Qo(this))};function Qo(c,g){var v;g?v=g.l:v=c.V++;const A=wt(c.J);Xe(A,"SID",c.M),Xe(A,"RID",v),Xe(A,"AID",c.K),xs(c,A),c.u&&c.o&&Rs(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Mu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Lo(c.h,v),li(v,A,g)}function xs(c,g){c.H&&Me(c.H,function(v,A){Xe(g,A,v)}),c.l&&Me({},function(v,A){Xe(g,A,v)})}function Mu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ce=-1;for(;;){const yt=["count="+v];Ce==-1?v>0?(Ce=P[0].g,yt.push("ofs="+Ce)):Ce=0:yt.push("ofs="+Ce);let Ge=!0;for(let ut=0;ut<v;ut++){var Q=P[ut].g;const On=P[ut].map;if(Q-=Ce,Q<0)Ce=Math.max(0,P[ut].g-100),Ge=!1;else try{Q="req"+Q+"_"||"";try{var ae=On instanceof Map?On:Object.entries(On);for(const[Ei,Xn]of ae){let $n=Xn;m(Xn)&&($n=yr(Xn)),yt.push(Q+Ei+"="+encodeURIComponent($n))}}catch(Ei){throw yt.push(Q+"type="+encodeURIComponent("_badmap")),Ei}}catch{A&&A(On)}}if(Ge){ae=yt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),g.G=c,ae}function Vu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Re||w(),Ae||(Re(),Ae=!0),N.add(g,c),c.A=0}}function Ns(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ai(y(c.Da,c),Uu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ai(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),wr(this),Lu(this))};function Yo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Lu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=wt(c.na);Xe(g,"RID","rpc"),Xe(g,"SID",c.M),Xe(g,"AID",c.K),Xe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(g,"TO",c.ia),Xe(g,"TYPE","xmlhttp"),xs(c,g),c.u&&c.o&&Rs(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=As(wt(g)),v.u=null,v.R=!0,ua(v,c)}r.Va=function(){this.C!=null&&(this.C=null,wr(this),Ns(this),bt(19))};function _a(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ku(c,g){var v=null;if(c.g==g){_a(c),Yo(c),c.g=null;var A=2}else if(di(c.h,g))v=g.G,ko(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var P=c.D;A=la(),Vt(A,new si(A,v)),_i(c)}else Vu(c);else if(P=g.m,P==3||P==0&&g.X>0||!(A==1&&ya(c,g)||A==2&&Ns(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),P){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function Uu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function vi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const P=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),As(A),P?Qn(A.toString(),v):qo(A.toString(),v)}else bt(2);c.I=0,c.l&&c.l.pa(g),Pu(c),ga(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Pu(c){if(c.I=0,c.ja=[],c.l){const g=Uo(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ja,g),H(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function zu(c,g,v){var A=v instanceof vn?wt(v):new vn(v);if(A.g!="")g&&(A.g=g+"."+A.g),_r(A,A.u);else{var P=f.location;A=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const Q=new vn(null);A&&Pt(Q,A),g&&(Q.g=g),P&&_r(Q,P),v&&(Q.h=v),A=Q}return v=c.G,g=c.wa,v&&g&&Xe(A,v,g),Xe(A,"VER",c.ka),xs(c,A),A}function ju(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new We(new pi({ab:v})):new We(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Rr(){}Rr.prototype.g=function(c,g){return new sn(c,g)};function sn(c,g){Tt.call(this),this.g=new Sr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!R(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Bi(this)}b(sn,Tt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Go(this.g)},sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=yr(c),c=v);g.i.push(new St(g.Ya++,c)),g.I==3&&_i(g)},sn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,sn.Z.N.call(this)};function qu(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(qu,Ht);function Hu(){In.call(this),this.status=1}b(Hu,In);function Bi(c){this.g=c}b(Bi,Bu),Bi.prototype.ra=function(){Vt(this.g,"a")},Bi.prototype.qa=function(c){Vt(this.g,new qu(c))},Bi.prototype.pa=function(c){Vt(this.g,new Hu)},Bi.prototype.oa=function(){Vt(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,ZE=function(){return new Rr},$E=function(){return la()},XE=gt,Om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,rh=Ts,Do.COMPLETE="complete",KE=Do,Tu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Ml=Tu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,YE=We}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const Zv="@firebase/firestore",Jv="4.9.2";class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let vo="12.3.0";const Ws=new ap("@firebase/firestore");function Xa(){return Ws.logLevel}function ue(r,...e){if(Ws.logLevel<=ke.DEBUG){const n=e.map(up);Ws.debug(`Firestore (${vo}): ${r}`,...n)}}function cr(r,...e){if(Ws.logLevel<=ke.ERROR){const n=e.map(up);Ws.error(`Firestore (${vo}): ${r}`,...n)}}function so(r,...e){if(Ws.logLevel<=ke.WARN){const n=e.map(up);Ws.warn(`Firestore (${vo}): ${r}`,...n)}}function up(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,JE(r,s,n)}function JE(r,e,n){let s=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw cr(s),new Error(s)}function Ye(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||JE(e,o,s)}function we(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class WE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class a2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class o2{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new or,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new or)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new WE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class l2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new l2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Wv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function h2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=h2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function Mm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return ym(o)===ym(u)?Ue(o,u):ym(o)?1:-1}return Ue(r.length,e.length)}const f2=55296,d2=57343;function ym(r){const e=r.charCodeAt(0);return e>=f2&&e<=d2}function ao(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const e0="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class rt extends Ri{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const m2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Ri{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return m2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e0}static keyField(){return new $t([e0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}function eT(r,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function p2(r,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function t0(r){if(!ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function n0(r){if(ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function tT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Uh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function on(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uh(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function su(r,e){if(!tT(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}const i0=-62135596800,r0=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*r0);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<i0)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r0}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-i0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Ot("string",ot._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ot(0,0))}static max(){return new be(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ql=-1;function g2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new os(o,ge.empty(),e)}function y2(r){return new os(r.readTime,r.key,Ql)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(be.min(),ge.empty(),Ql)}static max(){return new os(be.max(),ge.empty(),Ql)}}function _2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}const v2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==v2)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function T2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(r){return r.name==="IndexedDbTransactionError"}class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;const hp=-1;function zh(r){return r==null}function yh(r){return r===0&&1/r==-1/0}function b2(r){return typeof r=="number"&&Number.isInteger(r)&&!yh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const nT="";function A2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=s0(e)),e=S2(r.get(n),e);return s0(e)}function S2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case nT:n+="";break;default:n+=u}}return n}function s0(r){return r+nT+""}function a0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ds(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function iT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(e){return new o0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class o0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new kt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class rT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new rT("Invalid base64 string: "+u):u}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const w2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const n=w2.exec(r);if(Ye(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?Zt.fromBase64String(r):Zt.fromUint8Array(r)}const sT="server_timestamp",aT="__type__",oT="__previous_value__",lT="__local_write_time__";function fp(r){return(r?.mapValue?.fields||{})[aT]?.stringValue===sT}function jh(r){const e=r.mapValue.fields[oT];return fp(e)?jh(e):e}function Yl(r){const e=ls(r.mapValue.fields[lT].timestampValue);return new ot(e.seconds,e.nanos)}class R2{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const _h="(default)";class Kl{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}const uT="__type__",C2="__max__",$c={mapValue:{}},cT="__vector__",vh="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fp(r)?4:x2(r)?9007199254740991:I2(r)?10:11:_e(28295,{value:r})}function Li(r,e){if(r===e)return!0;const n=cs(r);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yl(r).isEqual(Yl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ls(o.timestampValue),m=ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Et(o.doubleValue),m=Et(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ao(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(a0(f)!==a0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Li(f[p],m[p])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function Xl(r,e){return(r.values||[]).find((n=>Li(n,e)))!==void 0}function oo(r,e){if(r===e)return 0;const n=cs(r),s=cs(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Et(u.integerValue||u.doubleValue),p=Et(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return l0(r.timestampValue,e.timestampValue);case 4:return l0(Yl(r),Yl(e));case 5:return Mm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=us(u),p=us(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ue(m[y],p[y]);if(E!==0)return E}return Ue(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ue(Et(u.latitude),Et(f.latitude));return m!==0?m:Ue(Et(u.longitude),Et(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return u0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[vh]?.arrayValue,E=p[vh]?.arrayValue,b=Ue(y?.values?.length||0,E?.values?.length||0);return b!==0?b:u0(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=Mm(p[b],E[b]);if(S!==0)return S;const k=oo(m[p[b]],y[E[b]]);if(k!==0)return k}return Ue(p.length,E.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function l0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=ls(r),s=ls(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function u0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function lo(r){return Vm(r)}function Vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return us(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Vm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function sh(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+sh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ds(s.fields,((u,f)=>{o+=u.length+sh(f)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function c0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Lm(r){return!!r&&"integerValue"in r}function dp(r){return!!r&&"arrayValue"in r}function h0(r){return!!r&&"nullValue"in r}function f0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ah(r){return!!r&&"mapValue"in r}function I2(r){return(r?.mapValue?.fields||{})[uT]?.stringValue===cT}function zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ds(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=zl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(r.arrayValue.values[n]);return e}return{...r}}function x2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===C2}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=zl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ds(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new yn(zl(this.value))}}function hT(r){const e=[];return ds(r.fields,((n,s)=>{const o=new $t([n]);if(ah(s)){const u=hT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Cn(e)}class tn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,be.min(),be.min(),be.min(),yn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,be.min(),be.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,be.min(),be.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function d0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function m0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Li(r.position[n],e.position[n]))return!1;return!0}class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function N2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class fT{}class Dt extends fT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new O2(e,n,s):n==="array-contains"?new L2(e,s):n==="in"?new k2(e,s):n==="not-in"?new U2(e,s):n==="array-contains-any"?new P2(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new M2(e,s):new V2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends fT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ni(e,n)}matches(e){return dT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dT(r){return r.op==="and"}function mT(r){return D2(r)&&dT(r)}function D2(r){for(const e of r.filters)if(e instanceof ni)return!1;return!0}function km(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(mT(r))return r.filters.map((e=>km(e))).join(",");{const e=r.filters.map((n=>km(n))).join(",");return`${r.op}(${e})`}}function pT(r,e){return r instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(r,e):r instanceof ni?(function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&pT(f,o.filters[m])),!0):!1})(r,e):void _e(19439)}function gT(r){return r instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`})(r):r instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(gT).join(" ,")+"}"})(r):"Filter"}class O2 extends Dt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class M2 extends Dt{constructor(e,n){super(e,"in",n),this.keys=yT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class V2 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=yT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function yT(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class L2 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dp(n)&&Xl(n.arrayValue,this.value)}}class k2 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class U2 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class P2 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Xl(this.value.arrayValue,s)))}}class z2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function p0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new z2(r,e,n,s,o,u,f)}function mp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>km(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>lo(s))).join(",")),e.Te=n}return e.Te}function pp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!N2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!pT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!m0(r.startAt,e.startAt)&&m0(r.endAt,e.endAt)}function Um(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class bo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j2(r,e,n,s,o,u,f,m){return new bo(r,e,n,s,o,u,f,m)}function Bh(r){return new bo(r)}function g0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _T(r){return r.collectionGroup!==null}function jl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt($t.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new $l(u,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new $l($t.keyField(),s))}return e.Ie}function Ii(r){const e=we(r);return e.Ee||(e.Ee=B2(e,jl(r))),e.Ee}function B2(r,e){if(r.limitType==="F")return p0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new $l(o.field,u)}));const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return p0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Pm(r,e){const n=r.filters.concat([e]);return new bo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function zm(r,e,n){return new bo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function qh(r,e){return pp(Ii(r),Ii(e))&&r.limitType===e.limitType}function vT(r){return`${mp(Ii(r))}|lt:${r.limitType}`}function $a(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>gT(o))).join(", ")}]`),zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>lo(o))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function Hh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=d0(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,jl(s),o)||s.endAt&&!(function(f,m,p){const y=d0(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,jl(s),o))})(r,e)}function q2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ET(r){return(e,n)=>{let s=!1;for(const o of jl(r)){const u=H2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function H2(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?oo(p,y):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return iT(this.inner)}size(){return this.innerSize}}const F2=new ft(ge.comparator);function hr(){return F2}const TT=new ft(ge.comparator);function Vl(...r){let e=TT;for(const n of r)e=e.insert(n.key,n);return e}function bT(r){let e=TT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ks(){return Bl()}function AT(){return Bl()}function Bl(){return new ia((r=>r.toString()),((r,e)=>r.isEqual(e)))}const G2=new ft(ge.comparator),Q2=new kt(ge.comparator);function Pe(...r){let e=Q2;for(const n of r)e=e.add(n);return e}const Y2=new kt(Ue);function K2(){return Y2}function gp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function ST(r){return{integerValue:""+r}}function wT(r,e){return b2(e)?ST(e):gp(r,e)}class Fh{constructor(){this._=void 0}}function X2(r,e,n){return r instanceof Th?(function(o,u){const f={fields:{[aT]:{stringValue:sT},[lT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fp(u)&&(u=jh(u)),u&&(f.fields[oT]=u),{mapValue:f}})(n,e):r instanceof uo?CT(r,e):r instanceof Zl?IT(r,e):(function(o,u){const f=RT(o,u),m=y0(f)+y0(o.Ae);return Lm(f)&&Lm(o.Ae)?ST(m):gp(o.serializer,m)})(r,e)}function $2(r,e,n){return r instanceof uo?CT(r,e):r instanceof Zl?IT(r,e):n}function RT(r,e){return r instanceof Jl?(function(s){return Lm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Th extends Fh{}class uo extends Fh{constructor(e){super(),this.elements=e}}function CT(r,e){const n=xT(e);for(const s of r.elements)n.some((o=>Li(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Zl extends Fh{constructor(e){super(),this.elements=e}}function IT(r,e){let n=xT(e);for(const s of r.elements)n=n.filter((o=>!Li(o,s)));return{arrayValue:{values:n}}}class Jl extends Fh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function y0(r){return Et(r.integerValue||r.doubleValue)}function xT(r){return dp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class NT{constructor(e,n){this.field=e,this.transform=n}}function Z2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof uo&&o instanceof uo||s instanceof Zl&&o instanceof Zl?ao(s.elements,o.elements,Li):s instanceof Jl&&o instanceof Jl?Li(s.Ae,o.Ae):s instanceof Th&&o instanceof Th})(r.transform,e.transform)}class J2{constructor(e,n){this.version=e,this.transformResults=n}}class ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Gh{}function DT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Qh(r.key,ln.none()):new au(r.key,r.data,ln.none());{const n=r.data,s=yn.empty();let o=new kt($t.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ms(r.key,s,new Cn(o.toArray()),ln.none())}}function W2(r,e,n){r instanceof au?(function(o,u,f){const m=o.value.clone(),p=v0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ms?(function(o,u,f){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=v0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(OT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function ql(r,e,n,s){return r instanceof au?(function(u,f,m,p){if(!oh(u.precondition,f))return m;const y=u.value.clone(),E=E0(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof ms?(function(u,f,m,p){if(!oh(u.precondition,f))return m;const y=E0(u.fieldTransforms,p,f),E=f.data;return E.setAll(OT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function eC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=RT(s.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(s.field,u))}return n||null}function _0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,((u,f)=>Z2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends Gh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends Gh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function OT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function v0(r,e,n){const s=new Map;Ye(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,$2(f,m,n[o]))}return s}function E0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,X2(u,f,e))}return s}class Qh extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tC extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&W2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=AT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=DT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,((n,s)=>_0(n,s)))&&ao(this.baseMutations,e.baseMutations,((n,s)=>_0(n,s)))}}class yp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return G2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new yp(e,n,s,o)}}class iC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,qe;function sC(r){switch(r){case Z.OK:return _e(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function MT(r){if(r===void 0)return cr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Nt.OK:return Z.OK;case Nt.CANCELLED:return Z.CANCELLED;case Nt.UNKNOWN:return Z.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Z.INTERNAL;case Nt.UNAVAILABLE:return Z.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Z.NOT_FOUND;case Nt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Nt.ABORTED:return Z.ABORTED;case Nt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Nt.DATA_LOSS:return Z.DATA_LOSS;default:return _e(39323,{code:r})}}(qe=Nt||(Nt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function aC(){return new TextEncoder}const oC=new rs([4294967295,4294967295],0);function T0(r){const e=aC().encode(r),n=new QE;return n.update(e),new Uint8Array(n.digest())}function b0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([n,s],0),new rs([o,u],0)]}class _p{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(rs.fromNumber(s)));return o.compare(oC)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=T0(e),[s,o]=b0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new _p(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=T0(e),[s,o]=b0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Yh(be.min(),o,new ft(Ue),hr(),Pe())}}class ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ou(s,n,Pe(),Pe(),Pe())}}class lh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class VT{constructor(e,n){this.targetId=e,this.Ce=n}}class LT{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class A0{constructor(){this.ve=0,this.Fe=S0(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}})),new ou(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=S0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lC{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.Je=Zc(),this.He=Zc(),this.Ye=new ft(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Um(u))if(s===0){const f=new ge(u.path);this.et(n,f,tn.newNoDocument(f,be.min()))}else Ye(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=us(s).toUint8Array()}catch(p){if(p instanceof rT)return so("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _p(f,o,u)}catch(p){return so(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Um(m.target)){const p=new ge(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,tn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Yh(e,n,this.Ye,this.je,s);return this.je=hr(),this.Je=Zc(),this.He=Zc(),this.Ye=new ft(Ue),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new A0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new ft(ge.comparator)}function S0(){return new ft(ge.comparator)}const uC={asc:"ASCENDING",desc:"DESCENDING"},cC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hC={and:"AND",or:"OR"};class fC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(r,e){return r.useProto3Json||zh(e)?e:{value:e}}function bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function dC(r,e){return bh(r,e.toTimestamp())}function xi(r){return Ye(!!r,49232),be.fromTimestamp((function(n){const s=ls(n);return new ot(s.seconds,s.nanos)})(r))}function vp(r,e){return Bm(r,e).canonicalString()}function Bm(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function UT(r){const e=rt.fromString(r);return Ye(qT(e),10190,{key:e.toString()}),e}function qm(r,e){return vp(r.databaseId,e.path)}function _m(r,e){const n=UT(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(zT(n))}function PT(r,e){return vp(r.databaseId,e)}function mC(r){const e=UT(r);return e.length===4?rt.emptyPath():zT(e)}function Hm(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zT(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function w0(r,e,n){return{name:qm(r,e),fields:n.value.mapValue.fields}}function pC(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ye(E===void 0||typeof E=="string",58123),Zt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Zt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?Z.UNKNOWN:MT(y.code);return new le(E,y.message||"")})(f);n=new LT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_m(r,s.document.name),u=xi(s.document.updateTime),f=s.document.createTime?xi(s.document.createTime):be.min(),m=new yn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new lh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_m(r,s.document),u=s.readTime?xi(s.readTime):be.min(),f=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new lh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_m(r,s.document),u=s.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new rC(o,u),m=s.targetId;n=new VT(m,f)}}return n}function gC(r,e){let n;if(e instanceof au)n={update:w0(r,e.key,e.value)};else if(e instanceof Qh)n={delete:qm(r,e.key)};else if(e instanceof ms)n={update:w0(r,e.key,e.data),updateMask:wC(e.fieldMask)};else{if(!(e instanceof tC))return _e(16599,{Vt:e.type});n={verify:qm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof uo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:dC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function yC(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?xi(o.updateTime):xi(u);return f.isEqual(be.min())&&(f=xi(u)),new J2(f,o.transformResults||[])})(n,e)))):[]}function _C(r,e){return{documents:[PT(r,e.path)]}}function vC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=PT(r,o);const u=(function(y){if(y.length!==0)return BT(ni.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(S){return{field:Za(S.field),direction:bC(S.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=jm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function EC(r){let e=mC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const S=jT(b);return S instanceof ni&&mT(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((S=>(function(H){return new $l(Ja(H.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,zh(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(b){const S=!!b.before,k=b.values||[];return new Eh(k,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const S=!b.before,k=b.values||[];return new Eh(k,S)})(n.endAt)),j2(e,o,f,u,m,"F",p,y)}function TC(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Dt.create(Ja(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>jT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function bC(r){return uC[r]}function AC(r){return cC[r]}function SC(r){return hC[r]}function Za(r){return{fieldPath:r.canonicalString()}}function Ja(r){return $t.fromServerFormat(r.fieldPath)}function BT(r){return r instanceof Dt?(function(n){if(n.op==="=="){if(f0(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(h0(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(f0(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(h0(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:AC(n.op),value:n.value}}})(r):r instanceof ni?(function(n){const s=n.getFilters().map((o=>BT(o)));return s.length===1?s[0]:{compositeFilter:{op:SC(n.op),filters:s}}})(r):_e(54877,{filter:r})}function wC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function qT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class es{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RC{constructor(e){this.yt=e}}function CC(r){const e=EC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zm(e,e.limit,"L"):e}class IC{constructor(){this.Cn=new xC}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(os.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class xC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(rt.comparator)).toArray()}}const R0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HT=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(HT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}const C0="LruGarbageCollector",NC=1048576;function I0([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class DC{constructor(e){this.Ir=e,this.buffer=new kt(I0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();I0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(C0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?ue(C0,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)}))}}class MC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Ph.ce);const s=new DC(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(R0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),Xa()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function VC(r,e){return new MC(r,e)}class LC{constructor(){this.changes=new ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&ql(s.mutation,o,Cn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Ks();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Vl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ks();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=hr();const f=Bl(),m=(function(){return Bl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ms)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),ql(E.mutation,y,E.mutation.getFieldMask(),ot.now())):f.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new kC(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Bl();let o=new ft(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Cn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=AT();E.forEach((S=>{if(!u.has(S)){const k=DT(n.get(S),s.get(S));k!==null&&b.set(S,k),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_T(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Ks());let m=Ql,p=u;return f.next((y=>ee.forEach(y,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{p=p.insert(E,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Pe()))).next((E=>({batchId:m,changes:bT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=Vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const y=(function(b,S){return new bo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((b,S)=>{f=f.insert(b,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,tn.newInvalidDocument(E)))}));let m=Vl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&ql(E.mutation,y,Cn.empty(),ot.now()),Hh(n,y)&&(m=m.insert(p,y))})),m}))}}class PC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:CC(o.bundledQuery),readTime:xi(o.readTime)}})(n)),ee.resolve()}}class zC{constructor(){this.overlays=new ft(ge.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ks();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Ks(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ks(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ks(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new iC(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class jC{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Ep{constructor(){this.Qr=new kt(jt.$r),this.Ur=new kt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new rt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new rt([])),s=new jt(n,e),o=new jt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class BC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(jt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new nC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?hp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ue);return n.forEach((o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new kt(Ue);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class qC{constructor(e){this.ri=e,this.docs=(function(){return new ft(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=hr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=hr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||_2(y2(E),s)<=0||(o.has(E.key)||Hh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){_e(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new HC(this)}getSize(e){return ee.resolve(this.size)}}class HC extends LC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class FC{constructor(e){this.persistence=e,this.si=new ia((n=>mp(n)),pp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Ep,this.targetCount=0,this.ai=co.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class FT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new jC,this.referenceDelegate=e(this),this.Pi=new FC(this),this.indexManager=new IC,this.remoteDocumentCache=(function(o){return new qC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new RC(n),this.Ii=new PC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new BC(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new GC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class GC extends E2{constructor(e){super(),this.currentSequenceNumber=e}}class Tp{constructor(e){this.persistence=e,this.Ri=new Ep,this.Vi=null}static mi(e){return new Tp(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.pi=new ia((s=>A2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=VC(this,n)}static mi(e,n){return new Ah(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class bp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bp(e,n.fromCache,s,o)}}class QC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zw()?8:T2(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new QC;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Xa()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Xa()<=ke.DEBUG&&ue("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Xa()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):ee.resolve())}ys(e,n){if(g0(n))return ee.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zm(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,zm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return g0(n)||o.isEqual(be.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(Xa()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.vs(e,f,n,g2(o,Ql)).next((m=>m)))}))}Ds(e,n){let s=new kt(ET(e));return n.forEach(((o,u)=>{Hh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Xa()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",$a(n)),this.ps.getDocumentsMatchingQuery(e,n,os.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Ap="LocalStore",KC=3e8;class XC{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Ue),this.xs=new ia((u=>mp(u)),pp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $C(r,e,n,s){return new XC(r,e,n,s)}async function GT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Pe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function ZC(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const b=y.batch,S=b.keys();let k=ee.resolve();return S.forEach((H=>{k=k.next((()=>E.getEntry(p,H))).next((X=>{const G=y.docVersions.get(H);Ye(G!==null,48541),X.version.compareTo(G)<0&&(b.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function QT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function JC(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,b)=>{const S=o.get(b);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let k=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Zt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(b,k),(function(X,G,te){return X.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=KC?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(S,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=hr(),y=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(WC(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function WC(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=hr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Ap,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function eI(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=hp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function tI(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new es(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Fm(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!To(f))throw f;ue(Ap,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function x0(r,e,n){const s=we(r);let o=be.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const b=we(p),S=b.xs.get(E);return S!==void 0?ee.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,E)})(s,f,Ii(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Pe()))).next((m=>(nI(s,q2(e),m),{documents:m,Qs:u})))))}function nI(r,e,n){let s=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class N0{constructor(){this.activeTargetIds=K2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iI{constructor(){this.Mo=new N0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new N0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rI{Oo(e){}shutdown(){}}const D0="ConnectivityMonitor";class O0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(D0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(D0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jc=null;function Gm(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}const vm="RestConnection",sI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Gm(),m=this.zo(e,n.toUriEncodedString());ue(vm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=yo(y);return this.Jo(e,m,p,s,E).then((b=>(ue(vm,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw so(vm,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=sI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class oI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class lI extends aI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Gm();return new Promise(((m,p)=>{const y=new YE;y.setWithCredentials(!0),y.listenOnce(KE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case rh.NO_ERROR:const b=y.getResponseJson();ue(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case rh.TIMEOUT:ue(Wt,`RPC '${e}' ${f} timed out`),p(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const S=y.getStatus();if(ue(Wt,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const H=k?.error;if(H&&H.status&&H.message){const X=(function(te){const ie=te.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ie)>=0?ie:Z.UNKNOWN})(H.status);p(new le(X,H.message))}else p(new le(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new le(Z.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Wt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue(Wt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Gm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ZE(),m=$E(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);this.I_(b);let S=!1,k=!1;const H=new oI({Yo:G=>{k?ue(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(S||(ue(Wt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),ue(Wt,`RPC '${e}' stream ${o} sending:`,G),b.send(G))},Zo:()=>b.close()}),X=(G,te,ie)=>{G.listen(te,(re=>{try{ie(re)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return X(b,Ml.EventType.OPEN,(()=>{k||(ue(Wt,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),X(b,Ml.EventType.CLOSE,(()=>{k||(k=!0,ue(Wt,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(b))})),X(b,Ml.EventType.ERROR,(G=>{k||(k=!0,so(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),H.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),X(b,Ml.EventType.MESSAGE,(G=>{if(!k){const te=G.data[0];Ye(!!te,16349);const ie=te,re=ie?.error||ie[0]?.error;if(re){ue(Wt,`RPC '${e}' stream ${o} received error:`,re);const ve=re.status;let Re=(function(w){const I=Nt[w];if(I!==void 0)return MT(I)})(ve),Ae=re.message;Re===void 0&&(Re=Z.INTERNAL,Ae="Unknown error status: "+ve+" with message "+re.message),k=!0,H.a_(new le(Re,Ae)),b.close()}else ue(Wt,`RPC '${e}' stream ${o} received:`,te),H.u_(te)}})),X(m,XE.STAT_EVENT,(G=>{G.stat===Om.PROXY?ue(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Om.NOPROXY&&ue(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Em(){return typeof document<"u"?document:null}function Kh(r){return new fC(r,!0)}class YT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const M0="PersistentStream";class KT{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(M0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(M0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uI extends KT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?xi(f.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Hm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Um(p)?{documents:_C(u,p)}:{query:vC(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=kT(u,f.resumeToken);const y=jm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=bh(u,f.snapshotVersion.toTimestamp());const y=jm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=TC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.q_(n)}}class cI extends KT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yC(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Hm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>gC(this.serializer,s)))};this.q_(n)}}class hI{}class fI extends hI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Bm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Bm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class mI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ra(this)&&(ue(ea,"Restarting streams for network reachability change."),await(async function(p){const y=we(p);y.Ea.add(4),await lu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Xh(y)})(this))}))})),this.Ra=new dI(s,o)}}async function Xh(r){if(ra(r))for(const e of r.da)await e(!0)}async function lu(r){for(const e of r.da)await e(!1)}function XT(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cp(n)?Rp(n):Ao(n).O_()&&wp(n,e))}function Sp(r,e){const n=we(r),s=Ao(n);n.Ia.delete(e),s.O_()&&$T(n,e),n.Ia.size===0&&(s.O_()?s.L_():ra(n)&&n.Ra.set("Unknown"))}function wp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(r).Y_(e)}function $T(r,e){r.Va.Ue(e),Ao(r).Z_(e)}function Rp(r){r.Va=new lC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.Ra.ua()}function Cp(r){return ra(r)&&!Ao(r).x_()&&r.Ia.size>0}function ra(r){return we(r).Ea.size===0}function ZT(r){r.Va=void 0}async function pI(r){r.Ra.set("Online")}async function gI(r){r.Ia.forEach(((e,n)=>{wp(r,e)}))}async function yI(r,e){ZT(r),Cp(r)?(r.Ra.ha(e),Rp(r)):r.Ra.set("Unknown")}async function _I(r,e,n){if(r.Ra.set("Online"),e instanceof LT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ue(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(r,s)}else if(e instanceof lh?r.Va.Ze(e):e instanceof VT?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await QT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Zt.EMPTY_BYTE_STRING,E.snapshotVersion)),$T(u,p);const b=new es(E.target,p,y,E.sequenceNumber);wp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue(ea,"Failed to raise snapshot:",s),await Sh(r,s)}}async function Sh(r,e,n){if(!To(e))throw e;r.Ea.add(1),await lu(r),r.Ra.set("Offline"),n||(n=()=>QT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Xh(r)}))}function JT(r,e){return e().catch((n=>Sh(r,n,e)))}async function $h(r){const e=we(r),n=hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hp;for(;vI(e);)try{const o=await eI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,EI(e,o)}catch(o){await Sh(e,o)}WT(e)&&eb(e)}function vI(r){return ra(r)&&r.Ta.length<10}function EI(r,e){r.Ta.push(e);const n=hs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function WT(r){return ra(r)&&!hs(r).x_()&&r.Ta.length>0}function eb(r){hs(r).start()}async function TI(r){hs(r).ra()}async function bI(r){const e=hs(r);for(const n of r.Ta)e.ea(n.mutations)}async function AI(r,e,n){const s=r.Ta.shift(),o=yp.from(s,e,n);await JT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await $h(r)}async function SI(r,e){e&&hs(r).X_&&await(async function(s,o){if((function(f){return sC(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();hs(s).B_(),await JT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await $h(s)}})(r,e),WT(r)&&eb(r)}async function V0(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ue(ea,"RemoteStore received new credentials");const s=ra(n);n.Ea.add(3),await lu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xh(n)}async function wI(r,e){const n=we(r);e?(n.Ea.delete(2),await Xh(n)):e||(n.Ea.add(2),await lu(n),n.Ra.set("Unknown"))}function Ao(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new uI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:pI.bind(null,r),t_:gI.bind(null,r),r_:yI.bind(null,r),H_:_I.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Cp(r)?Rp(r):r.Ra.set("Unknown")):(await r.ma.stop(),ZT(r))}))),r.ma}function hs(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new cI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:TI.bind(null,r),r_:SI.bind(null,r),ta:bI.bind(null,r),na:AI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await $h(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ip{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Ip(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(r,e){if(cr("AsyncQueue",`${e}: ${r}`),To(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Vl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class L0{constructor(){this.ga=new ft(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ho{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ho(e,n,eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class RI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CI{constructor(){this.queries=k0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=k0(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function k0(){return new ia((r=>vT(r)),qh)}async function Np(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new RI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=xp(f,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Op(n)}async function Dp(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function II(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Op(n)}function xI(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Op(r){r.Ca.forEach((e=>{e.next()}))}var Qm,U0;(U0=Qm||(Qm={})).Ma="default",U0.Cache="cache";class Mp{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qm.Cache}}class tb{constructor(e){this.key=e}}class nb{constructor(e){this.key=e}}class NI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=ET(e),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new L0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const S=o.get(E),k=Hh(this.query,b)?b:null,H=!!S&&this.mutatedKeys.has(S.key),X=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let G=!1;S&&k?S.data.isEqual(k.data)?H!==X&&(s.track({type:3,doc:k}),G=!0):this.su(S,k)||(s.track({type:2,doc:k}),G=!0,(p&&this.eu(k,p)>0||y&&this.eu(k,y)<0)&&(m=!0)):!S&&k?(s.track({type:0,doc:k}),G=!0):S&&!k&&(s.track({type:1,doc:S}),G=!0,(p||y)&&(m=!0)),G&&(k?(f=f.add(k),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(k,H){const X=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:G})}};return X(k)-X(H)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new ho(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new nb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new tb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vp="SyncEngine";class DI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class OI{constructor(e){this.key=e,this.hu=!1}}class MI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ia((m=>vT(m)),qh),this.Iu=new Map,this.Eu=new Set,this.du=new ft(ge.comparator),this.Au=new Map,this.Ru=new Ep,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VI(r,e,n=!0){const s=lb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ib(s,e,n,!0),o}async function LI(r,e){const n=lb(r);await ib(n,e,!0,!1)}async function ib(r,e,n,s){const o=await tI(r.localStore,Ii(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await kI(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&XT(r.remoteStore,o),m}async function kI(r,e,n,s,o){r.pu=(b,S,k)=>(async function(X,G,te,ie){let re=G.view.ru(te);re.Cs&&(re=await x0(X.localStore,G.query,!1).then((({documents:N})=>G.view.ru(N,re))));const ve=ie&&ie.targetChanges.get(G.targetId),Re=ie&&ie.targetMismatches.get(G.targetId)!=null,Ae=G.view.applyChanges(re,X.isPrimaryClient,ve,Re);return z0(X,G.targetId,Ae.au),Ae.snapshot})(r,b,S,k);const u=await x0(r.localStore,e,!0),f=new NI(e,u.Qs),m=f.ru(u.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);z0(r,n,y.au);const E=new DI(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function UI(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!qh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Fm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Sp(s.remoteStore,o.targetId),Ym(s,o.targetId)})).catch(Eo)):(Ym(s,o.targetId),await Fm(s.localStore,o.targetId,!0))}async function PI(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sp(n.remoteStore,s.targetId))}async function zI(r,e,n){const s=QI(r);try{const o=await(function(f,m){const p=we(f),y=ot.now(),E=m.reduce(((k,H)=>k.add(H.key)),Pe());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let H=hr(),X=Pe();return p.Ns.getEntries(k,E).next((G=>{H=G,H.forEach(((te,ie)=>{ie.isValidDocument()||(X=X.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,H))).next((G=>{b=G;const te=[];for(const ie of m){const re=eC(ie,b.get(ie.key).overlayedDocument);re!=null&&te.push(new ms(ie.key,re,hT(re.value.mapValue),ln.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,te,m)})).next((G=>{S=G;const te=G.applyToLocalDocumentSet(b,X);return p.documentOverlayCache.saveOverlays(k,G.batchId,te)}))})).then((()=>({batchId:S.batchId,changes:bT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ft(Ue)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await uu(s,o.changes),await $h(s.remoteStore)}catch(o){const u=xp(o,"Failed to persist write");n.reject(u)}}async function rb(r,e){const n=we(r);try{const s=await JC(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ye(f.hu,14607):o.removedDocuments.size>0&&(Ye(f.hu,42227),f.hu=!1))})),await uu(n,s,e)}catch(s){await Eo(s)}}function P0(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=we(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,b)=>{for(const S of b.Sa)S.va(m)&&(y=!0)})),y&&Op(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jI(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ft(ge.comparator);f=f.insert(u,tn.newNoDocument(u,be.min()));const m=Pe().add(u),p=new Yh(be.min(),new Map,new ft(Ue),f,m);await rb(s,p),s.du=s.du.remove(u),s.Au.delete(e),Lp(s)}else await Fm(s.localStore,e,!1).then((()=>Ym(s,e,n))).catch(Eo)}async function BI(r,e){const n=we(r),s=e.batch.batchId;try{const o=await ZC(n.localStore,e);ab(n,s,null),sb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,o)}catch(o){await Eo(o)}}async function qI(r,e,n){const s=we(r);try{const o=await(function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((b=>(Ye(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);ab(s,e,n),sb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uu(s,o)}catch(o){await Eo(o)}}function sb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function ab(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ym(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||ob(r,s)}))}function ob(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Sp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Lp(r))}function z0(r,e,n){for(const s of n)s instanceof tb?(r.Ru.addReference(s.key,e),HI(r,s)):s instanceof nb?(ue(Vp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||ob(r,s.key)):_e(19791,{wu:s})}function HI(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(Vp,"New document in limbo: "+n),r.Eu.add(s),Lp(r))}function Lp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new OI(n)),r.du=r.du.insert(n,s),XT(r.remoteStore,new es(Ii(Bh(n.path)),s,"TargetPurposeLimboResolution",Ph.ce))}}async function uu(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=bp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ee.forEach(y,(S=>ee.forEach(S.Es,(k=>E.persistence.referenceDelegate.addReference(b,S.targetId,k))).next((()=>ee.forEach(S.ds,(k=>E.persistence.referenceDelegate.removeReference(b,S.targetId,k)))))))))}catch(b){if(!To(b))throw b;ue(Ap,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const k=E.Ms.get(S),H=k.snapshotVersion,X=k.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(S,X)}}})(s.localStore,u))}async function FI(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ue(Vp,"User change. New user:",e.toKey());const s=await GT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(n,s.Ls)}}function GI(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function lb(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jI.bind(null,e),e.Pu.H_=II.bind(null,e.eventManager),e.Pu.yu=xI.bind(null,e.eventManager),e}function QI(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qI.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $C(this.persistence,new YC,e.initialUser,this.serializer)}Cu(e){return new FT(Tp.mi,this.serializer)}Du(e){return new iI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class YI extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new OC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new FT((s=>Ah.mi(s,n)),this.serializer)}}class Km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>P0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FI.bind(null,this.syncEngine),await wI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CI})()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),s=(function(u){return new lI(u)})(e.databaseInfo);return(function(u,f,m,p){return new fI(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new mI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>P0(this.syncEngine,n,0)),(function(){return O0.v()?new O0:new rI})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const b=new MI(o,u,f,m,p,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ue(ea,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Km.provider={build:()=>new Km};class kp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fs="FirestoreClient";class KI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Tm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(fs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await GT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function j0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await XI(r);ue(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>V0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>V0(e.remoteStore,o))),r._onlineComponents=e}async function XI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(fs,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await Tm(r,new wh)}}else ue(fs,"Using default OfflineComponentProvider"),await Tm(r,new YI(void 0));return r._offlineComponents}async function ub(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(fs,"Using user provided OnlineComponentProvider"),await j0(r,r._uninitializedComponentsProvider._online)):(ue(fs,"Using default OnlineComponentProvider"),await j0(r,new Km))),r._onlineComponents}function $I(r){return ub(r).then((e=>e.syncEngine))}async function Rh(r){const e=await ub(r),n=e.eventManager;return n.onListen=VI.bind(null,e.syncEngine),n.onUnlisten=UI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PI.bind(null,e.syncEngine),n}function ZI(r,e,n={}){const s=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new kp({next:S=>{E.Nu(),f.enqueueAndForget((()=>Dp(u,b)));const k=S.docs.has(m);!k&&S.fromCache?y.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&p&&p.source==="server"?y.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new Mp(Bh(m.path),E,{includeMetadataChanges:!0,qa:!0});return Np(u,b)})(await Rh(r),r.asyncQueue,e,n,s))),s.promise}function JI(r,e,n={}){const s=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new kp({next:S=>{E.Nu(),f.enqueueAndForget((()=>Dp(u,b))),S.fromCache&&p.source==="server"?y.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new Mp(m,E,{includeMetadataChanges:!0,qa:!0});return Np(u,b)})(await Rh(r),r.asyncQueue,e,n,s))),s.promise}function cb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const B0=new Map;const hb="firestore.googleapis.com",q0=!0;class H0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hb,this.ssl=q0}else this.host=e.host,this.ssl=e.ssl??q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NC)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new s2;switch(s.type){case"firstParty":return new u2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=B0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),B0.delete(n),s.terminate())})(this),Promise.resolve()}}function WI(r,e,n,s={}){r=on(r,Zh);const o=yo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(PE(`https://${m}`),zE("Firestore",!0)),u.host!==hb&&u.host!==m&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!as(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=en.MOCK_USER;else{y=Nw(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(b)}r._authCredentials=new a2(new WE(y,E))}}class ps{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ps(this.firestore,e,this._query)}}class pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(su(n,pt._jsonSchema))return new pt(e,s||null,new ge(rt.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Ot("string",pt._jsonSchemaVersion),referencePath:Ot("string")};class ss extends ps{constructor(e,n,s){super(e,n,Bh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ge(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function fo(r,e,...n){if(r=Bt(r),eT("collection","path",e),r instanceof Zh){const s=rt.fromString(e,...n);return n0(s),new ss(r,null,s)}{if(!(r instanceof pt||r instanceof ss))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return n0(s),new ss(r.firestore,null,s)}}function Je(r,e,...n){if(r=Bt(r),arguments.length===1&&(e=cp.newId()),eT("doc","path",e),r instanceof Zh){const s=rt.fromString(e,...n);return t0(s),new pt(r,null,new ge(s))}{if(!(r instanceof pt||r instanceof ss))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return t0(s),new pt(r.firestore,r instanceof ss?r.converter:null,new ge(s))}}const F0="AsyncQueue";class G0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YT(this,"async_queue_retry"),this._c=()=>{const s=Em();s&&ue(F0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ue(F0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",Q0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ip.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:Q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Q0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function Y0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ki extends Zh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new G0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G0(e),this._firestoreClient=void 0,await e}}}function ex(r,e){const n=typeof r=="object"?r:HE(),s=typeof r=="string"?r:_h,o=lp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Iw("firestore");u&&WI(o,...u)}return o}function cu(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||tx(r),r._firestoreClient}function tx(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new R2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,cb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new KI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Zt.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Ot("string",Bn._jsonSchemaVersion),bytes:Ot("string")};class hu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fu{constructor(e){this._methodName=e}}class Ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(su(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ot("string",Ni._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class Di{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Di(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Ot("string",Di._jsonSchemaVersion),vectorValues:Ot("object")};const nx=/^__.*__$/;class ix{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class fb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function db(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class Jh{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(db(this.Ac)&&nx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kh(e)}Cc(e,n,s,o=!1){return new Jh({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function du(r){const e=r._freezeSettings(),n=Kh(r._databaseId);return new rx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Up(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);jp("Data must be an object, but it was:",f,s);const m=gb(s,f);let p,y;if(u.merge)p=new Cn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=Xm(e,b,n);if(!f.contains(S))throw new le(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);_b(E,S)||E.push(S)}p=new Cn(E),y=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=f.fieldTransforms;return new ix(new yn(m),p,y)}class Wh extends fu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function sx(r,e,n){return new Jh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Pp extends fu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=sx(this,e,!0),s=this.vc.map((u=>So(u,n))),o=new uo(s);return new NT(e.path,o)}isEqual(e){return e instanceof Pp&&as(this.vc,e.vc)}}class zp extends fu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Jl(e.serializer,wT(e.serializer,this.Fc));return new NT(e.path,n)}isEqual(e){return e instanceof zp&&this.Fc===e.Fc}}function mb(r,e,n,s){const o=r.Cc(1,e,n);jp("Data must be an object, but it was:",o,s);const u=[],f=yn.empty();ds(s,((p,y)=>{const E=Bp(e,p,n);y=Bt(y);const b=o.yc(E);if(y instanceof Wh)u.push(E);else{const S=So(y,b);S!=null&&(u.push(E),f.set(E,S))}}));const m=new Cn(u);return new fb(f,m,o.fieldTransforms)}function pb(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[Xm(e,s,n)],p=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Xm(e,u[S])),p.push(u[S+1]);const y=[],E=yn.empty();for(let S=m.length-1;S>=0;--S)if(!_b(y,m[S])){const k=m[S];let H=p[S];H=Bt(H);const X=f.yc(k);if(H instanceof Wh)y.push(k);else{const G=So(H,X);G!=null&&(y.push(k),E.set(k,G))}}const b=new Cn(y);return new fb(E,b,f.fieldTransforms)}function ax(r,e,n,s=!1){return So(n,r.Cc(s?4:3,e))}function So(r,e){if(yb(r=Bt(r)))return jp("Unsupported field value:",e,r),gb(r,e);if(r instanceof fu)return(function(s,o){if(!db(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=So(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ot.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof ot){const u=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:kT(o.serializer,s._byteString)};if(s instanceof pt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Di)return(function(f,m){return{mapValue:{fields:{[uT]:{stringValue:cT},[vh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return gp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Uh(s)}`)})(r,e)}function gb(r,e){const n={};return iT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(r,((s,o)=>{const u=So(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function yb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ot||r instanceof Ni||r instanceof Bn||r instanceof pt||r instanceof fu||r instanceof Di)}function jp(r,e,n){if(!yb(n)||!tT(n)){const s=Uh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Xm(r,e,n){if((e=Bt(e))instanceof hu)return e._internalPath;if(typeof e=="string")return Bp(r,e);throw Ch("Field path arguments must be of type string or ",r,!1,void 0,n)}const ox=new RegExp("[~\\*/\\[\\]]");function Bp(r,e,n){if(e.search(ox)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new hu(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ch(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(Z.INVALID_ARGUMENT,m+r+p)}function _b(r,e){return r.some((n=>n.isEqual(e)))}class vb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ef("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lx extends vb{data(){return super.data()}}function ef(r,e){return typeof e=="string"?Bp(r,e):e instanceof hu?e._internalPath:e._delegate._internalPath}function Eb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qp{}class Tb extends qp{}function tf(r,e,...n){let s=[];e instanceof qp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Hp)).length,m=u.filter((p=>p instanceof nf)).length;if(f>1||f>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class nf extends Tb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new nf(e,n,s)}_apply(e){const n=this._parse(e);return bb(e._query,n),new ps(e.firestore,e.converter,Pm(e._query,n))}_parse(e){const n=du(e.firestore);return(function(u,f,m,p,y,E,b){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){X0(b,E);const H=[];for(const X of b)H.push(K0(p,u,X));S={arrayValue:{values:H}}}else S=K0(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||X0(b,E),S=ax(m,f,b,E==="in"||E==="not-in");return Dt.create(y,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ux(r,e,n){const s=e,o=ef("where",r);return nf._create(o,s,n)}class Hp extends qp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)bb(f,p),f=Pm(f,p)})(e._query,n),new ps(e.firestore,e.converter,Pm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fp extends Tb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Fp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(u,f)})(e._query,this._field,this._direction);return new ps(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new bo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Gp(r,e="asc"){const n=e,s=ef("orderBy",r);return Fp._create(s,n)}function K0(r,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_T(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ge.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return c0(r,new ge(s))}if(n instanceof pt)return c0(r,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(n)}.`)}function X0(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bb(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cx{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ds(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[vh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new Di(n)}convertGeoPoint(e){return new Ni(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=ls(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ye(qT(s),9688,{name:e});const o=new Kl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Qp(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends vb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ef("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:Ot("string",Xs._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class uh extends Xs{data(e={}){return super.data(e)}}class $s{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new uh(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:hx(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$s._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}function fx(r){r=on(r,pt);const e=on(r.firestore,ki);return ZI(cu(e),r._key).then((n=>Sb(e,r,n)))}$s._jsonSchemaVersion="firestore/querySnapshot/1.0",$s._jsonSchema={type:Ot("string",$s._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Yp extends cx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function Ab(r){r=on(r,ps);const e=on(r.firestore,ki),n=cu(e),s=new Yp(e);return Eb(r._query),JI(n,r._query).then((o=>new $s(e,s,r,o)))}function wi(r,e,n){r=on(r,pt);const s=on(r.firestore,ki),o=Qp(r.converter,e,n);return mu(s,[Up(du(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ln.none())])}function ir(r,e,n,...s){r=on(r,pt);const o=on(r.firestore,ki),u=du(o);let f;return f=typeof(e=Bt(e))=="string"||e instanceof hu?pb(u,"updateDoc",r._key,e,n,s):mb(u,"updateDoc",r._key,e),mu(o,[f.toMutation(r._key,ln.exists(!0))])}function dx(r){return mu(on(r.firestore,ki),[new Qh(r._key,ln.none())])}function mx(r,e){const n=on(r.firestore,ki),s=Je(r),o=Qp(r.converter,e);return mu(n,[Up(du(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ln.exists(!1))]).then((()=>s))}function Oi(r,...e){r=Bt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Y0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Y0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof pt)f=on(r.firestore,ki),m=Bh(r._key.path),u={next:p=>{e[s]&&e[s](Sb(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=on(r,ps);f=on(p.firestore,ki),m=p._query;const y=new Yp(f);u={next:E=>{e[s]&&e[s](new $s(f,y,p,E))},error:e[s+1],complete:e[s+2]},Eb(r._query)}return(function(y,E,b,S){const k=new kp(S),H=new Mp(E,k,b);return y.asyncQueue.enqueueAndForget((async()=>Np(await Rh(y),H))),()=>{k.Nu(),y.asyncQueue.enqueueAndForget((async()=>Dp(await Rh(y),H)))}})(cu(f),m,o,u)}function mu(r,e){return(function(s,o){const u=new or;return s.asyncQueue.enqueueAndForget((async()=>zI(await $I(s),o,u))),u.promise})(cu(r),e)}function Sb(r,e,n){const s=n.docs.get(e._key),o=new Yp(r);return new Xs(r,o,e._key,s,new kl(n.hasPendingWrites,n.fromCache),e.converter)}class px{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=du(e)}set(e,n,s){this._verifyNotCommitted();const o=bm(e,this._firestore),u=Qp(o.converter,n,s),f=Up(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,ln.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=bm(e,this._firestore);let f;return f=typeof(n=Bt(n))=="string"||n instanceof hu?pb(this._dataReader,"WriteBatch.update",u._key,n,s,o):mb(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,ln.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=bm(e,this._firestore);return this._mutations=this._mutations.concat(new Qh(n._key,ln.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bm(r,e){if((r=Bt(r)).firestore!==e)throw new le(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function gx(...r){return new Pp("arrayUnion",r)}function Ul(r){return new zp("increment",r)}function yx(r){return cu(r=on(r,ki)),new px(r,(e=>mu(r,e)))}(function(e,n=!0){(function(o){vo=o})(_o),ro(new Js("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ki(new o2(s.getProvider("auth-internal")),new c2(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),is(Zv,Jv,e),is(Zv,Jv,"esm2020")})();function wb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _x=wb,Rb=new iu("auth","Firebase",wb());const Ih=new ap("@firebase/auth");function vx(r,...e){Ih.logLevel<=ke.WARN&&Ih.warn(`Auth (${_o}): ${r}`,...e)}function ch(r,...e){Ih.logLevel<=ke.ERROR&&Ih.error(`Auth (${_o}): ${r}`,...e)}function fr(r,...e){throw Kp(r,...e)}function Mi(r,...e){return Kp(r,...e)}function Cb(r,e,n){const s={..._x(),[e]:n};return new iu("auth","Firebase",s).create(e,{appName:r.name})}function Zs(r){return Cb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Rb.create(r,...e)}function Ee(r,e,...n){if(!r)throw Kp(e,...n)}function rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function dr(r,e){r||rr(e)}function $m(){return typeof self<"u"&&self.location?.href||""}function Ex(){return $0()==="http:"||$0()==="https:"}function $0(){return typeof self<"u"&&self.location?.protocol||null}function Tx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ex()||kw()||"connection"in navigator)?navigator.onLine:!0}function bx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=Mw()||Uw()}get(){return Tx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xp(r,e){dr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Ib{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ax={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Sx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wx=new pu(3e4,6e4);function $p(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function wo(r,e,n,s,o={}){return xb(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ru({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return Lw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&yo(r.emulatorConfig.host)&&(y.credentials="include"),Ib.fetch()(await Nb(r,r.config.apiHost,n,m),y)})}async function xb(r,e,n){r._canInitEmulator=!1;const s={...Ax,...e};try{const o=new Cx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Cb(r,E,y);fr(r,E)}}catch(o){if(o instanceof pr)throw o;fr(r,"network-request-failed",{message:String(o)})}}async function Rx(r,e,n,s,o={}){const u=await wo(r,e,n,s,o);return"mfaPendingCredential"in u&&fr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Nb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Xp(r.config,o):`${r.config.apiScheme}://${o}`;return Sx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class Cx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mi(this.auth,"network-request-failed")),wx.get())})}}function Wc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Mi(r,e,s);return o.customData._tokenResponse=n,o}async function Ix(r,e){return wo(r,"POST","/v1/accounts:delete",e)}async function xh(r,e){return wo(r,"POST","/v1/accounts:lookup",e)}function Hl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xx(r,e=!1){const n=Bt(r),s=await n.getIdToken(e),o=Zp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Hl(Am(o.auth_time)),issuedAtTime:Hl(Am(o.iat)),expirationTime:Hl(Am(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Am(r){return Number(r)*1e3}function Zp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=VE(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Z0(r){const e=Zp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&Nx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Nx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Dx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nh(r){const e=r.auth,n=await r.getIdToken(),s=await Wl(r,xh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Db(o.providerUserInfo):[],f=Mx(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function Ox(r){const e=Bt(r);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Db(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Vx(r,e){const n=await xb(r,{},async()=>{const s=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await Nb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&yo(r.emulatorConfig.host)&&(p.credentials="include"),Ib.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lx(r,e){return wo(r,"POST","/v2/accounts:revokeToken",$p(r,e))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Z0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Vx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new to;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Xr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Dx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xx(this,e)}reload(){return Ox(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await Wl(this,Ix(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:k,providerData:H,stsTokenManager:X}=n;Ee(b&&X,e,"internal-error");const G=to.fromJSON(this.name,X);Ee(typeof b=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof k=="boolean",e,"internal-error"),Xr(u,e.name),Xr(f,e.name),Xr(m,e.name),Xr(p,e.name),Xr(y,e.name),Xr(E,e.name);const te=new ei({uid:b,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:y,lastLoginAt:E});return H&&Array.isArray(H)&&(te.providerData=H.map(ie=>({...ie}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new to;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Db(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new to;m.updateFromIdToken(s);const p=new ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const J0=new Map;function sr(r){dr(r instanceof Function,"Expected a class definition");let e=J0.get(r);return e?(dr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,J0.set(r,e),e)}class Ob{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ob.type="NONE";const W0=Ob;function hh(r,e,n){return`firebase:${r}:${e}:${n}`}class no{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xh(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new no(sr(W0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||sr(W0);const f=hh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const S=await xh(e,{idToken:E}).catch(()=>{});if(!S)break;b=await ei._fromGetAccountInfoResponse(e,S,E)}else b=ei._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new no(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new no(u,e,s))}}function eE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pb(e))return"Blackberry";if(zb(e))return"Webos";if(Vb(e))return"Safari";if((e.includes("chrome/")||Lb(e))&&!e.includes("edge/"))return"Chrome";if(Ub(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Mb(r=nn()){return/firefox\//i.test(r)}function Vb(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lb(r=nn()){return/crios\//i.test(r)}function kb(r=nn()){return/iemobile/i.test(r)}function Ub(r=nn()){return/android/i.test(r)}function Pb(r=nn()){return/blackberry/i.test(r)}function zb(r=nn()){return/webos/i.test(r)}function Jp(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kx(r=nn()){return Jp(r)&&!!window.navigator?.standalone}function Ux(){return Pw()&&document.documentMode===10}function jb(r=nn()){return Jp(r)||Ub(r)||zb(r)||Pb(r)||/windows phone/i.test(r)||kb(r)}function Bb(r,e=[]){let n;switch(r){case"Browser":n=eE(nn());break;case"Worker":n=`${eE(nn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${s}`}class Px{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function zx(r,e={}){return wo(r,"GET","/v2/passwordPolicy",$p(r,e))}const jx=6;class Bx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class qx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new Px(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xh(this,{idToken:e}),s=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ci(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(Zs(this));const n=e?Bt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zx(this),n=new Bx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Lx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wp(r){return Bt(r)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qw(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hx(r){eg=r}function Fx(r){return eg.loadJS(r)}function Gx(){return eg.gapiScript}function Qx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Yx(r,e){const n=lp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(as(u,e??{}))return o;fr(o,"already-initialized")}return n.initialize({options:e})}function Kx(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Xx(r,e,n){const s=Wp(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=qb(e),{host:f,port:m}=$x(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(as(y,s.config.emulator)&&as(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,yo(f)?(PE(`${u}//${f}${p}`),zE("Auth",!0)):Zx()}function qb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function $x(r){const e=qb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:nE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:nE(f)}}}function nE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Zx(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Hb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function io(r,e){return Rx(r,"POST","/v1/accounts:signInWithIdp",$p(r,e))}const Jx="http://localhost";class ta extends Hb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return io(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,io(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,io(e,n)}buildRequest(){const e={requestUri:Jx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}class Fb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Fb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $r extends gu{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";class Zr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";class Jr extends gu{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";class Wr extends gu{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ei._fromIdTokenResponse(e,s,o),f=iE(s);return new mo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=iE(s);return new mo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function iE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Dh extends pr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Dh(e,n,s,o)}}function Gb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(r,u,e,s):u})}async function Wx(r,e,n=!1){const s=await Wl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return mo._forOperation(r,"link",s)}async function eN(r,e,n=!1){const{auth:s}=r;if(Ci(s.app))return Promise.reject(Zs(s));const o="reauthenticate";try{const u=await Wl(r,Gb(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=Zp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),mo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&fr(s,"user-mismatch"),u}}async function tN(r,e,n=!1){if(Ci(r.app))return Promise.reject(Zs(r));const s="signIn",o=await Gb(r,s,e),u=await mo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function nN(r,e,n,s){return Bt(r).onIdTokenChanged(e,n,s)}function iN(r,e,n){return Bt(r).beforeAuthStateChanged(e,n)}const Oh="__sak";class Qb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rN=1e3,sN=10;class Yb extends Qb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Ux()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},rN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yb.type="LOCAL";const aN=Yb;class Kb extends Qb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Kb.type="SESSION";const Xb=Kb;function oN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await oN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];function tg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class lN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=tg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Vi(){return window}function uN(r){Vi().location.href=r}function $b(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function cN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hN(){return navigator?.serviceWorker?.controller||null}function fN(){return $b()?self:null}const Zb="firebaseLocalStorageDb",dN=1,Mh="firebaseLocalStorage",Jb="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(r,e){return r.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function mN(){const r=indexedDB.deleteDatabase(Zb);return new yu(r).toPromise()}function Jm(){const r=indexedDB.open(Zb,dN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mh,{keyPath:Jb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await mN(),e(await Jm()))})})}async function rE(r,e,n){const s=sf(r,!0).put({[Jb]:e,value:n});return new yu(s).toPromise()}async function pN(r,e){const n=sf(r,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function sE(r,e){const n=sf(r,!0).delete(e);return new yu(n).toPromise()}const gN=800,yN=3;class Wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>yN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(fN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cN(),!this.activeServiceWorker)return;this.sender=new lN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await rE(e,Oh,"1"),await sE(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>rE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>pN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sf(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wb.type="LOCAL";const _N=Wb;new pu(3e4,6e4);function vN(r,e){return e?sr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ng extends Hb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EN(r){return tN(r.auth,new ng(r),r.bypassAuthState)}function TN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),eN(n,new ng(r),r.bypassAuthState)}async function bN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),Wx(n,new ng(r),r.bypassAuthState)}class e1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EN;case"linkViaPopup":case"linkViaRedirect":return bN;case"reauthViaPopup":case"reauthViaRedirect":return TN;default:fr(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AN=new pu(2e3,1e4);class Wa extends e1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AN.get())};e()}}Wa.currentPopupAction=null;const SN="pendingRedirect",fh=new Map;class wN extends e1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await RN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RN(r,e){const n=xN(e),s=IN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function CN(r,e){fh.set(r._key(),e)}function IN(r){return sr(r._redirectPersistence)}function xN(r){return hh(SN,r.config.apiKey,r.name)}async function NN(r,e,n=!1){if(Ci(r.app))return Promise.reject(Zs(r));const s=Wp(r),o=vN(s,e),f=await new wN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const DN=600*1e3;class ON{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!t1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Mi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DN&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(e))}saveEventToCache(e){this.cachedEventUids.add(aE(e)),this.lastProcessedEventTime=Date.now()}}function aE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function t1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function MN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t1(r);default:return!1}}async function VN(r,e={}){return wo(r,"GET","/v1/projects",e)}const LN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kN=/^https?/;async function UN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await VN(r);for(const n of e)try{if(PN(n))return}catch{}fr(r,"unauthorized-domain")}function PN(r){const e=$m(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!kN.test(n))return!1;if(LN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const zN=new pu(3e4,6e4);function oE(){const r=Vi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function jN(r){return new Promise((e,n)=>{function s(){oE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oE(),n(Mi(r,"network-request-failed"))},timeout:zN.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)s();else{const o=Qx("iframefcb");return Vi()[o]=()=>{gapi.load?s():n(Mi(r,"network-request-failed"))},Fx(`${Gx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw dh=null,e})}let dh=null;function BN(r){return dh=dh||jN(r),dh}const qN=new pu(5e3,15e3),HN="__/auth/iframe",FN="emulator/auth/iframe",GN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YN(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Xp(e,FN):`https://${r.config.authDomain}/${HN}`,s={apiKey:e.apiKey,appName:r.name,v:_o},o=QN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ru(s).slice(1)}`}async function KN(r){const e=await BN(r),n=Vi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:YN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Mi(r,"network-request-failed"),m=Vi().setTimeout(()=>{u(f)},qN.get());function p(){Vi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const XN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$N=500,ZN=600,JN="_blank",WN="http://localhost";class lE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eD(r,e,n,s=$N,o=ZN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...XN,width:s.toString(),height:o.toString(),top:u,left:f},y=nn().toLowerCase();n&&(m=Lb(y)?JN:n),Mb(y)&&(e=e||WN,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[k,H])=>`${S}${k}=${H},`,"");if(kx(y)&&m!=="_self")return tD(e||"",m),new lE(null);const b=window.open(e||"",m,E);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new lE(b)}function tD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const nD="__/auth/handler",iD="emulator/auth/handler",rD=encodeURIComponent("fac");async function uE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:_o,eventId:o};if(e instanceof Fb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Gw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof gu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${rD}=${encodeURIComponent(p)}`:"";return`${sD(r)}?${ru(m).slice(1)}${y}`}function sD({config:r}){return r.emulator?Xp(r,iD):`https://${r.authDomain}/${nD}`}const Sm="webStorageSupport";class aD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xb,this._completeRedirectFn=NN,this._overrideRedirectResult=CN}async _openPopup(e,n,s,o){dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await uE(e,n,s,$m(),o);return eD(e,u,tg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await uE(e,n,s,$m(),o);return uN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await KN(e),s=new ON(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},o=>{const u=o?.[0]?.[Sm];u!==void 0&&n(!!u),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jb()||Vb()||Jp()}}const oD=aD;var cE="@firebase/auth",hE="1.11.1";class lD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cD(r){ro(new Js("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bb(r)},y=new qx(s,o,u,p);return Kx(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ro(new Js("auth-internal",e=>{const n=Wp(e.getProvider("auth").getImmediate());return(s=>new lD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(cE,hE,uD(r)),is(cE,hE,"esm2020")}const hD=300,fD=UE("authIdTokenMaxAge")||hD;let fE=null;const dD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>fD)return;const o=n?.token;fE!==o&&(fE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function mD(r=HE()){const e=lp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Yx(r,{popupRedirectResolver:oD,persistence:[_N,aN,Xb]}),s=UE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=dD(u.toString());iN(n,f,()=>f(n.currentUser)),nN(n,m=>f(m))}}const o=LE("auth");return o&&Xx(n,`http://${o}`),n}function pD(){return document.getElementsByTagName("head")?.[0]??document}Hx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",pD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cD("Browser");const gD={apiKey:"AIzaSyBGFQeju_qcGpeV5TsUjXf4ceHRqh0nrMw",authDomain:"platform-prima.firebaseapp.com",projectId:"platform-prima",storageBucket:"platform-prima.firebasestorage.app",messagingSenderId:"113273371322",appId:"1:113273371322:web:5fdb5ec5a66f1cf0c1a083",measurementId:"G-SGX2S32S35"},n1=qE(gD),je=ex(n1);mD(n1);const eh={wordle:[{id:1,word:"TIGRE"},{id:2,word:"PIANO"},{id:3,word:"FIORE"},{id:4,word:"AMORE"},{id:5,word:"SOGNO"},{id:5,word:"PASTA"},{id:6,word:"COSTA"},{id:7,word:"VETRO"},{id:8,word:"ZINCO"},{id:9,word:"LEGNO"},{id:10,word:"SELLA"}],anagrams:[{id:1,original:"A NAVE ROM",solution:"A ROMA VEN"},{id:2,original:"IL TOPO",solution:"POLITO"},{id:3,original:"CARNE",solution:"CENAR"}],zip:[{id:1,wordA:"CASA",wordB:"MELA",solution:"DOLCE"},{id:2,wordA:"PALLA",wordB:"PIEDE",solution:"CALCIO"}],higherLower:[{id:1,label:"Popolazioni",subjectA:"Italia",valueA:59e6,subjectB:"Francia",valueB:67e6,unit:"Abitanti"},{id:2,label:"Altezza Edifici",subjectA:"Torre Eiffel",valueA:300,subjectB:"Empire State",valueB:380,unit:"Metri"}]};const yD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_D=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),dE=r=>{const e=_D(r);return e.charAt(0).toUpperCase()+e.slice(1)},i1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),vD=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ED={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TD=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>B.createElement("svg",{ref:p,...ED,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:i1("lucide",o),...!u&&!vD(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,E])=>B.createElement(y,E)),...Array.isArray(u)?u:[u]]));const qt=(r,e)=>{const n=B.forwardRef(({className:s,...o},u)=>B.createElement(TD,{ref:u,iconNode:e,className:i1(`lucide-${yD(dE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=dE(r),n};const bD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AD=qt("check",bD);const SD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wD=qt("circle-check-big",SD);const RD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CD=qt("circle-check",RD);const ID=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],xD=qt("circle-stop",ID);const ND=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],DD=qt("circle-x",ND);const OD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],r1=qt("clock",OD);const MD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],VD=qt("eye-off",MD);const LD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],s1=qt("eye",LD);const kD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],UD=qt("lock",kD);const PD=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],zD=qt("play",PD);const jD=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],BD=qt("radio",jD);const qD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],a1=qt("send",qD);const HD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mE=qt("trash-2",HD);const FD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],o1=qt("triangle-alert",FD);const GD=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],QD=qt("trophy",GD);const YD=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],KD=qt("type",YD);const XD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wm=qt("users",XD);const $D=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZD=qt("x",$D),l1="/assets/Logo%20Platform-BxEjGiv0.svg";function JD(){const[r,e]=B.useState(!1),[n,s]=B.useState(""),[o,u]=B.useState("wordle"),[f,m]=B.useState(null),[p,y]=B.useState([]),[E,b]=B.useState({game:"LOBBY",activeId:null,showLeaderboard:!1}),[S,k]=B.useState({}),[H,X]=B.useState(0),[G,te]=B.useState("pending"),[ie,re]=B.useState(!1);B.useEffect(()=>{const ne=Oi(Je(je,"state","current"),fe=>{fe.exists()&&b(fe.data())}),me=Oi(Je(je,"state","history"),fe=>{fe.exists()?k(fe.data()):wi(Je(je,"state","history"),{})}),F=tf(fo(je,"teams"),Gp("joinedAt","asc")),se=Oi(F,fe=>{y(fe.docs.map(Me=>({id:Me.id,...Me.data()})))});return()=>{ne(),me(),se()}},[]);const ve=ne=>{ne.preventDefault(),n==="8394"?e(!0):(alert("PIN Errato!"),s(""))},Re=async ne=>{try{await ir(Je(je,"teams",ne),{status:"active"})}catch{alert("Errore approvazione")}},Ae=async ne=>{if(confirm("Rifiutare squadra?"))try{await dx(Je(je,"teams",ne))}catch{alert("Errore cancellazione")}},N=async()=>{await ir(Je(je,"state","current"),{showLeaderboard:!E.showLeaderboard})},w=async(ne,me)=>{m(me.id);const F=Date.now();try{await wi(Je(je,"state","current"),{game:ne.toUpperCase(),activeId:me.id,showLeaderboard:!1}),await wi(Je(je,"state","history"),{[ne]:gx(me.id)},{merge:!0}),ne==="wordle"?await wi(Je(je,"games","wordle"),{secretWord:me.word.toUpperCase(),label:me.label||"",isActive:!0,startTime:F,duration:4}):ne==="anagram"?await wi(Je(je,"games","anagram"),{phrase:me.original,solution:me.solution.toUpperCase(),isActive:!0,startTime:F,isSolved:!1,winner:null}):ne==="zip"?await wi(Je(je,"games","zip"),{wordA:me.wordA.toUpperCase(),wordB:me.wordB.toUpperCase(),solution:me.solution.toUpperCase(),isActive:!0,startTime:F,duration:5}):ne==="hl"&&await wi(Je(je,"games","hl_state"),{subjectA:me.subjectA,valueA:me.valueA,subjectB:me.subjectB,valueB:me.valueB,unit:me.unit,isActive:!0,startTime:F}),ne==="LOBBY"&&await wi(Je(je,"state","current"),{game:"LOBBY",activeId:null,showLeaderboard:!1})}catch(se){alert("Errore: "+se.message)}m(null)},I=async()=>{if(H===0){X(1);return}if(H===1){X(2);return}m("RESET");try{const ne=await Ab(fo(je,"teams")),me=yx(je);ne.forEach(F=>me.delete(F.ref)),await me.commit(),await wi(Je(je,"state","current"),{game:"LOBBY",activeId:null,showLeaderboard:!1}),await wi(Je(je,"state","history"),{}),await ir(Je(je,"games","anagram"),{isSolved:!1,winner:null}),alert(" SERATA RESETTATA E STORICO PULITO!"),X(0)}catch(ne){alert("Errore reset: "+ne.message)}m(null)},M=p.filter(ne=>ne.status==="pending"),D=p.filter(ne=>ne.status==="active"),V=(ne,me)=>{const F=E.game===ne.toUpperCase()&&E.activeId===me,se=S[ne]?.includes(me);return F?"border-green-500 bg-green-900/20 shadow-[0_0_30px_rgba(34,197,94,0.3)] scale-[1.02] ring-2 ring-green-500":se?"border-slate-700 bg-slate-800/50 opacity-60 grayscale":"border-slate-700 bg-slate-800 hover:border-blue-500"};if(!r)return C.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:C.jsxs("div",{className:"bg-slate-800 p-8 rounded-2xl border border-slate-700 shadow-2xl w-full max-w-md text-center",children:[C.jsx("div",{className:"flex justify-center mb-6",children:C.jsx("div",{className:"bg-red-600 p-4 rounded-full shadow-lg shadow-red-500/50",children:C.jsx(UD,{size:40,className:"text-white"})})}),C.jsx("h1",{className:"text-2xl font-black text-white mb-6",children:"AREA RISERVATA"}),C.jsxs("form",{onSubmit:ve,className:"flex flex-col gap-4",children:[C.jsx("input",{type:"password",inputMode:"numeric",pattern:"[0-9]*",className:"bg-slate-900 text-white text-center text-3xl font-black p-4 rounded-xl border border-slate-600 focus:border-blue-500 outline-none tracking-[0.5em]",value:n,onChange:ne=>s(ne.target.value),maxLength:4,autoFocus:!0}),C.jsx("button",{className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-xl shadow-lg",children:"SBLOCCA"})]})]})});const R=()=>C.jsxs("div",{className:"flex flex-col h-full",children:[C.jsxs("div",{className:"p-4 bg-slate-900 border-b border-slate-700",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsxs("h2",{className:"font-bold flex items-center gap-2",children:[C.jsx(Wm,{size:18})," SQUADRE"]}),C.jsx("button",{onClick:()=>re(!1),className:"lg:hidden bg-slate-800 p-2 rounded-full",children:C.jsx(DD,{size:24})})]}),C.jsxs("div",{className:"flex bg-slate-800 rounded-lg p-1 border border-slate-700",children:[C.jsxs("button",{onClick:()=>te("pending"),className:`flex-1 py-2 rounded-md text-xs font-bold flex items-center justify-center gap-2 ${G==="pending"?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:["Richieste ",M.length>0&&C.jsx("span",{className:"bg-red-500 text-white text-[10px] px-2 py-0.5 rounded-full animate-pulse",children:M.length})]}),C.jsxs("button",{onClick:()=>te("active"),className:`flex-1 py-2 rounded-md text-xs font-bold ${G==="active"?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:["In Gioco (",D.length,")"]})]})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 bg-slate-800",children:[G==="pending"&&M.length===0&&C.jsx("div",{className:"text-center text-slate-500 p-10 text-sm opacity-50",children:"Nessuna nuova richiesta"}),G==="pending"&&M.map(ne=>C.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-500/30 rounded-xl flex flex-col gap-3 animate-in slide-in-from-right",children:[C.jsx("div",{className:"font-black text-white text-lg",children:ne.name}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("button",{onClick:()=>Re(ne.id),className:"flex-1 bg-green-600 hover:bg-green-500 py-3 rounded-lg text-xs font-bold flex items-center justify-center gap-2 active:scale-95 shadow-lg",children:[C.jsx(AD,{size:18})," APPROVA"]}),C.jsxs("button",{onClick:()=>Ae(ne.id),className:"flex-1 bg-red-600 hover:bg-red-500 py-3 rounded-lg text-xs font-bold flex items-center justify-center gap-2 active:scale-95 shadow-lg",children:[C.jsx(ZD,{size:18})," RIFIUTA"]})]})]},ne.id)),G==="active"&&D.map(ne=>C.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-xl border border-slate-700 flex justify-between items-center text-sm group",children:[C.jsx("div",{className:"font-bold truncate max-w-[150px] text-white",children:ne.name}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"bg-yellow-500/20 text-yellow-400 px-3 py-1 rounded font-mono font-bold",children:ne.score}),C.jsx("button",{onClick:()=>Ae(ne.id),className:"text-slate-500 hover:text-red-500 p-2 rounded hover:bg-red-500/10",children:C.jsx(mE,{size:18})})]})]},ne.id))]}),C.jsx("div",{className:"p-4 bg-slate-900 border-t border-slate-700",children:C.jsxs("div",{className:"bg-red-900/10 border border-red-900/50 rounded-xl p-4",children:[C.jsxs("h3",{className:"text-red-500 font-bold mb-3 flex items-center gap-2 text-xs uppercase tracking-widest",children:[C.jsx(o1,{size:14})," DANGER ZONE"]}),H===0&&C.jsxs("button",{onClick:I,className:"w-full bg-red-900/80 hover:bg-red-800 text-red-100 py-3 rounded-lg font-bold flex items-center justify-center gap-2 text-sm active:scale-95",children:[C.jsx(mE,{size:16})," RESETTA SERATA"]}),H===1&&C.jsx("button",{onClick:I,className:"w-full bg-orange-600 text-white py-3 rounded-lg font-bold animate-pulse text-sm",children:"CONFERMI?"}),H===2&&C.jsx("button",{onClick:I,className:"w-full bg-red-600 text-white py-3 rounded-lg font-black scale-105 text-sm",children:"CANCELLA TUTTO!"}),H>0&&C.jsx("button",{onClick:()=>X(0),className:"w-full mt-2 text-slate-500 text-xs hover:text-white",children:"Annulla"})]})})]});return C.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex lg:p-6 p-0 overflow-hidden relative",children:[C.jsxs("div",{className:"flex-1 flex flex-col h-screen lg:h-auto lg:mr-6 overflow-hidden",children:[C.jsxs("div",{className:"bg-slate-800 p-4 lg:p-6 lg:rounded-2xl border-b lg:border border-slate-700 shadow-xl z-10 flex flex-col gap-4 shrink-0",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("img",{src:l1,alt:"Logo",className:"h-8 lg:h-10 w-auto"}),C.jsx("div",{className:"hidden lg:block text-xs font-bold text-slate-500 tracking-widest",children:"ADMIN"})]}),C.jsxs("div",{className:`px-3 py-1.5 rounded-full text-[10px] lg:text-xs font-bold flex items-center gap-2 border ${E.game==="LOBBY"?"bg-yellow-500/10 border-yellow-500 text-yellow-500":"bg-red-500/10 border-red-500 text-red-500 animate-pulse"}`,children:[C.jsx("div",{className:`w-2 h-2 rounded-full ${E.game==="LOBBY"?"bg-yellow-500":"bg-red-500"}`}),E.game==="LOBBY"?"LOBBY":"LIVE"]})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:N,className:`flex-1 py-3 rounded-xl font-bold flex items-center justify-center gap-2 text-xs transition-all active:scale-95 ${E.showLeaderboard?"bg-green-600 text-white shadow-lg":"bg-slate-700 text-slate-300"}`,children:E.showLeaderboard?C.jsxs(C.Fragment,{children:[C.jsx(s1,{size:16})," ON"]}):C.jsxs(C.Fragment,{children:[C.jsx(VD,{size:16})," OFF"]})}),C.jsxs("button",{onClick:()=>w("LOBBY",{id:"reset"}),className:"flex-1 bg-red-600 hover:bg-red-500 py-3 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 text-xs active:scale-95",children:[C.jsx(xD,{size:16})," STOP"]})]})]}),C.jsx("div",{className:"bg-slate-900 p-2 border-b border-slate-800 shrink-0",children:C.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:["wordle","anagram","zip","hl"].map(ne=>C.jsx("button",{onClick:()=>u(ne),className:`px-6 py-2.5 rounded-full font-bold uppercase tracking-widest whitespace-nowrap text-xs transition-all ${o===ne?"bg-blue-600 text-white shadow-lg":"bg-slate-800 text-slate-400 border border-slate-700"}`,children:ne},ne))})}),C.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-24 lg:pb-4",children:C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:["wordle","anagram","zip","hl"].includes(o)&&(o==="wordle"?eh.wordle:o==="anagram"?eh.anagrams:o==="zip"?eh.zip:eh.higherLower).map(ne=>{const me=V(o,ne.id),F=E.game===o.toUpperCase()&&E.activeId===ne.id,se=S[o]?.includes(ne.id);return C.jsxs("div",{className:`p-5 rounded-2xl border-2 flex flex-col gap-3 relative transition-all duration-300 ${me}`,children:[C.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[F&&C.jsxs("span",{className:"bg-green-600 text-white text-[10px] font-bold px-2 py-1 rounded animate-pulse flex items-center gap-1",children:[C.jsx(BD,{size:10})," IN ONDA"]}),se&&!F&&C.jsxs("span",{className:"bg-slate-600 text-slate-300 text-[10px] font-bold px-2 py-1 rounded flex items-center gap-1",children:[C.jsx(CD,{size:10})," FATTO"]}),C.jsxs("span",{className:"text-[10px] font-bold text-slate-500 bg-black/20 px-2 py-1 rounded",children:["#",ne.id]})]}),C.jsxs("div",{className:"mt-4",children:[o==="wordle"&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"text-3xl font-black text-white tracking-[0.2em] text-center",children:ne.word}),C.jsx("div",{className:"text-slate-400 text-xs text-center italic mt-1",children:ne.label})]}),o==="anagram"&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"text-lg font-bold text-white text-center",children:ne.original}),C.jsxs("div",{className:"text-slate-400 text-xs text-center mt-1 bg-black/20 p-1 rounded",children:["Sol: ",ne.solution]})]}),o==="zip"&&C.jsxs("div",{className:"text-center font-bold mb-2 text-sm",children:[ne.wordA," ... ",ne.solution," ... ",ne.wordB]}),o==="hl"&&C.jsxs("div",{className:"text-center font-bold mb-2 text-sm",children:[ne.subjectA," vs ",ne.subjectB]})]}),C.jsx("button",{onClick:()=>w(o,ne),className:`mt-auto w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors text-sm ${F?"bg-green-600 text-white":"bg-slate-700 hover:bg-blue-600 text-white"}`,children:f===ne.id?"...":F?"AGGIORNA":C.jsxs(C.Fragment,{children:[C.jsx(zD,{size:16})," MANDA IN ONDA"]})})]},ne.id)})})})]}),C.jsx("div",{className:"hidden lg:flex w-96 border-l border-slate-700 bg-slate-800 shadow-2xl z-20",children:C.jsx(R,{})}),ie&&C.jsx("div",{className:"lg:hidden fixed inset-0 z-50 bg-slate-900/90 backdrop-blur-sm animate-in fade-in",children:C.jsx("div",{className:"absolute inset-x-0 bottom-0 h-[85vh] bg-slate-800 rounded-t-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300 flex flex-col",children:C.jsx(R,{})})}),C.jsxs("button",{onClick:()=>re(!0),className:"lg:hidden fixed bottom-6 right-6 z-40 bg-blue-600 text-white p-4 rounded-full shadow-2xl shadow-blue-600/40 active:scale-90 transition-transform flex items-center justify-center",children:[C.jsx(Wm,{size:28}),M.length>0&&C.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full border-2 border-slate-900 animate-bounce",children:M.length})]})]})}function u1({startTime:r,durationMinutes:e,onTimeUp:n}){const[s,o]=B.useState(e*60);B.useEffect(()=>{if(!r)return;const p=setInterval(()=>{const y=Date.now(),E=Math.floor((y-r)/1e3),b=e*60-E;b<=0?(o(0),clearInterval(p),n&&n()):o(b)},1e3);return()=>clearInterval(p)},[r,e]);const u=Math.floor(s/60),f=s%60,m=s<30?"text-red-500 animate-pulse":"text-white";return C.jsxs("div",{className:`flex items-center gap-2 font-mono text-2xl font-bold bg-black/50 px-4 py-2 rounded-lg border border-white/20 ${m}`,children:[C.jsx(r1,{size:24}),u,":",f.toString().padStart(2,"0")]})}function WD(){const[r,e]=B.useState([]);return B.useEffect(()=>{const n=tf(fo(je,"teams"),Gp("score","desc")),s=Oi(n,o=>{e(o.docs.map(u=>({id:u.id,...u.data()})))});return()=>s()},[]),C.jsxs("div",{className:"fixed inset-0 bg-slate-900/95 backdrop-blur-sm z-[200] flex flex-col items-center p-10 overflow-y-auto animate-in fade-in",children:[C.jsxs("h1",{className:"text-5xl font-black text-white uppercase tracking-widest mb-10 flex items-center gap-4 border-b-4 border-yellow-500 pb-4",children:[C.jsx(QD,{className:"text-yellow-400",size:60})," Classifica"]}),C.jsx("div",{className:"w-full max-w-4xl space-y-4",children:r.map((n,s)=>C.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl flex justify-between items-center border border-slate-700 shadow-lg transform transition-all hover:scale-[1.01]",children:[C.jsxs("div",{className:"flex items-center gap-6",children:[C.jsx("div",{className:`w-14 h-14 flex items-center justify-center rounded-full font-black text-2xl shadow-md ${s===0?"bg-yellow-400 text-black border-4 border-yellow-200":s===1?"bg-gray-300 text-black border-4 border-gray-100":s===2?"bg-orange-400 text-black border-4 border-orange-200":"bg-slate-700 text-white"}`,children:s+1}),C.jsx("div",{className:"text-3xl font-bold text-white truncate max-w-md",children:n.name})]}),C.jsx("div",{className:"text-4xl font-black text-blue-400",children:n.score})]},n.id))})]})}function eO(){const[r,e]=B.useState({game:"LOBBY",showLeaderboard:!1}),[n,s]=B.useState(null),[o,u]=B.useState([]);B.useEffect(()=>{const m=Oi(Je(je,"state","current"),E=>{E.exists()&&e(E.data())}),p=tf(fo(je,"teams"),Gp("score","desc")),y=Oi(p,E=>u(E.docs.map(b=>({id:b.id,...b.data()}))));return()=>{m(),y()}},[]),B.useEffect(()=>{if(r.game==="LOBBY")return;let m="";if(r.game==="WORDLE"&&(m="wordle"),r.game==="ANAGRAM"&&(m="anagram"),r.game==="ZIP"&&(m="zip"),r.game==="HL"&&(m="hl_state"),m)return Oi(Je(je,"games",m),p=>{p.exists()&&s(p.data())})},[r.game]);const f=()=>C.jsxs("div",{className:"mt-10 w-full max-w-6xl mx-auto",children:[C.jsx("h3",{className:"text-center text-slate-500 mb-4 uppercase tracking-widest text-sm font-bold",children:"Stato Consegne"}),C.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:o.map(m=>{let p=!1;return r.game==="WORDLE"&&m.last_wordle_result&&m.last_wordle_result.includes("Indovinato")&&(p=!0),r.game==="ANAGRAM"&&n?.isSolved&&n?.winner===m.name&&(p=!0),C.jsxs("div",{className:`p-3 rounded-lg border flex items-center justify-between transition-all ${p?"bg-green-600 border-green-400 shadow-lg scale-105":"bg-slate-800 border-slate-700 opacity-70"}`,children:[C.jsx("span",{className:"font-bold truncate text-sm",children:m.name}),p?C.jsx(wD,{size:16}):C.jsx(r1,{size:16,className:"animate-pulse"})]},m.id)})})]});return C.jsxs("div",{className:"h-screen w-full bg-slate-900 text-white overflow-hidden relative flex flex-col",children:[r.showLeaderboard&&C.jsx("div",{className:"absolute inset-0 z-[100]",children:C.jsx(WD,{})}),C.jsxs("div",{className:"bg-slate-800/80 backdrop-blur-md p-4 border-b border-slate-700 flex justify-between items-center z-50 shadow-lg",children:[C.jsxs("div",{className:"text-xl font-black uppercase tracking-widest text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:["La Primaera Enigmistica ",C.jsx("span",{className:"text-white text-xs opacity-50",children:"x Arnold's"})]}),r.game!=="LOBBY"&&n?.startTime&&C.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2",children:n.duration?C.jsx(u1,{startTime:n.startTime,durationMinutes:n.duration}):C.jsx("div",{className:"bg-red-600 px-4 py-1 rounded font-bold animate-pulse",children:"LIVE"})}),C.jsx("div",{className:"text-sm font-bold text-slate-400 uppercase",children:r.game})]}),C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 relative",children:[r.game==="LOBBY"&&C.jsxs("div",{className:"text-center animate-in zoom-in duration-500",children:[C.jsx("h1",{className:"text-7xl font-black mb-4 tracking-tighter",children:"La Primaera Enigmistica"}),C.jsx("h2",{className:"text-4xl font-light text-slate-400 mb-10 tracking-[0.5em] uppercase",children:"x Arnold's"}),C.jsx("div",{className:"text-2xl animate-pulse text-yellow-500 font-bold border border-yellow-500/30 p-4 rounded-xl inline-block",children:"IN ATTESA DELLA REGIA..."})]}),r.game==="WORDLE"&&C.jsxs("div",{className:"w-full text-center",children:[C.jsx("h1",{className:"text-6xl font-black text-green-500 mb-4 tracking-[0.2em] uppercase",children:"WORDLE LIVE"}),C.jsx("p",{className:"text-2xl text-slate-400 mb-10",children:"Risolvete la parola sui vostri dispositivi!"}),C.jsx(f,{})]}),r.game==="ANAGRAM"&&n&&C.jsxs("div",{className:"w-full text-center",children:[C.jsx("h2",{className:"text-3xl text-purple-400 font-bold mb-8 uppercase tracking-widest",children:"Anagramma"}),C.jsx("div",{className:"text-8xl font-black bg-slate-800 border-2 border-purple-500 px-12 py-8 rounded-3xl inline-block shadow-[0_0_60px_rgba(168,85,247,0.2)] mb-8",children:n.phrase}),n.isSolved?C.jsxs("div",{className:"animate-bounce mt-8",children:[C.jsx("div",{className:"text-green-500 text-2xl font-bold mb-2",children:"RISOLTO DA"}),C.jsx("div",{className:"text-5xl font-black bg-white text-black px-6 py-2 rounded-xl",children:n.winner})]}):C.jsx("div",{className:"text-slate-500 mt-8 animate-pulse text-xl",children:"In attesa del vincitore..."})]}),r.game==="ZIP"&&n&&C.jsxs("div",{className:"w-full text-center",children:[C.jsx("h2",{className:"text-3xl text-orange-400 font-bold mb-10 uppercase tracking-widest",children:"Una tira l'altra"}),C.jsxs("div",{className:"flex justify-center items-center gap-6 text-6xl font-black",children:[C.jsx("div",{className:"bg-slate-800 border border-white/10 px-8 py-6 rounded-2xl",children:n.wordA}),C.jsx("div",{className:"text-orange-500 animate-pulse",children:"..."}),C.jsx("div",{className:"bg-orange-600 px-8 py-6 rounded-2xl shadow-[0_0_50px_orange]",children:"?????"}),C.jsx("div",{className:"text-orange-500 animate-pulse",children:"..."}),C.jsx("div",{className:"bg-slate-800 border border-white/10 px-8 py-6 rounded-2xl",children:n.wordB})]}),C.jsx(f,{})]}),r.game==="HL"&&C.jsxs("div",{className:"w-full text-center",children:[C.jsx("h2",{className:"text-6xl font-black text-blue-500 mb-8",children:"HIGHER OR LOWER"}),C.jsx("div",{className:"bg-blue-900/30 p-10 rounded-xl border border-blue-500 inline-block",children:C.jsx("p",{className:"text-2xl font-bold",children:"Guardate le opzioni e decidete!"})})]})]})]})}function tO({teamId:r}){const[e,n]=B.useState(""),[s,o]=B.useState([]),[u,f]=B.useState(""),[m,p]=B.useState("loading");B.useEffect(()=>{(async()=>{const k=await fx(Je(je,"games","wordle"));k.exists()&&k.data().isActive?(n(k.data().secretWord.toUpperCase()),p("playing")):p("closed")})()},[]);const y=async S=>{if(S.preventDefault(),m!=="playing")return;if(u.length!==5)return alert("Devi scrivere esattamente 5 lettere!");const k=u.toUpperCase(),H=[...s,k];o(H),f(""),k===e?(p("won"),await E(H.length)):H.length>=6&&p("lost")},E=async S=>{let k=0;switch(S){case 1:k=100;break;case 2:k=80;break;case 3:k=60;break;case 4:k=40;break;case 5:k=20;break;default:k=0}try{await ir(Je(je,"teams",r),{score:Ul(k),last_wordle_result:`Indovinato in ${S} tentativi (+${k}pt)`})}catch(H){console.error(H)}},b=(S,k,H)=>e[k]===S?"bg-green-600 border-green-600":e.includes(S)?"bg-yellow-600 border-yellow-600":"bg-slate-600 border-slate-600";return m==="loading"?C.jsx("div",{className:"animate-pulse",children:"Caricamento gioco..."}):m==="closed"?C.jsx("div",{children:"Nessun Wordle attivo al momento."}):C.jsxs("div",{className:"w-full max-w-sm mx-auto pb-4",children:[C.jsx("h2",{className:"text-center text-xl font-bold mb-4 uppercase tracking-widest text-green-400",children:"WORDLE"}),C.jsx("div",{className:"mb-4",children:[...Array(6)].map((S,k)=>{const H=k<s.length,X=H?s[k]:k===s.length&&m==="playing"?u.toUpperCase():"";return C.jsx("div",{className:"grid grid-cols-5 gap-2 mb-2",children:[...Array(5)].map((G,te)=>{const ie=X[te]||"";let re="bg-slate-800 border-slate-700";return H?re=b(ie,te):k===s.length&&m==="playing"&&(re="bg-slate-700 border-slate-500"),C.jsx("div",{className:`aspect-square border-2 flex items-center justify-center text-2xl font-bold text-white uppercase rounded ${re}`,children:ie},te)})},k)})}),m==="won"&&C.jsx("div",{className:"bg-green-600 text-white p-4 rounded-xl text-center shadow-lg font-bold animate-bounce mb-4",children:"VITTORIA! "}),m==="lost"&&C.jsxs("div",{className:"bg-red-600 text-white p-4 rounded-xl text-center shadow-lg font-bold mb-4",children:["SOLUZIONE: ",e]}),m==="playing"&&C.jsxs("form",{onSubmit:y,className:"flex gap-2 mt-4",children:[C.jsx("input",{autoFocus:!0,type:"text",maxLength:5,value:u,onChange:S=>f(S.target.value),placeholder:"SCRIVI QUI...",className:"flex-1 bg-white text-black text-center font-bold text-xl p-4 rounded-xl uppercase tracking-widest focus:outline-none focus:ring-4 focus:ring-green-500"}),C.jsx("button",{className:"bg-green-600 hover:bg-green-500 text-white p-4 rounded-xl font-bold shadow-lg flex items-center justify-center",children:C.jsx(a1,{size:24})})]})]})}function nO(){const[r,e]=B.useState(""),[n,s]=B.useState(localStorage.getItem("teamId")||null),[o,u]=B.useState("login"),[f,m]=B.useState(0),[p,y]=B.useState("LOBBY"),[E,b]=B.useState(null),[S,k]=B.useState(!1),[H,X]=B.useState(""),[G,te]=B.useState(""),[ie,re]=B.useState(""),[ve,Re]=B.useState([]),Ae=()=>{let V=localStorage.getItem("device_uuid");return V||(V=Math.random().toString(36).substring(2)+Date.now().toString(36),localStorage.setItem("device_uuid",V)),V};B.useEffect(()=>{if(n){const V=Oi(Je(je,"teams",n),ne=>{if(ne.exists()){const me=ne.data(),F=Ae();if(me.deviceId&&me.deviceId!==F){X("Account in uso su un altro telefono!"),localStorage.removeItem("teamId"),s(null),u("login");return}m(me.score),e(me.name),me.status==="pending"?u("pending"):u("active")}else localStorage.removeItem("teamId"),s(null),u("login")},ne=>{console.error("Errore DB:",ne),X("Errore di connessione")}),R=Oi(Je(je,"state","current"),ne=>{ne.exists()&&y(ne.data().game||"LOBBY")});return()=>{V(),R()}}},[n]),B.useEffect(()=>{if(te(""),re(""),Re([]),b(null),p==="LOBBY")return;let V="";if(p==="WORDLE"&&(V="wordle"),p==="ANAGRAM"&&(V="anagram"),p==="ZIP"&&(V="zip"),V)return Oi(Je(je,"games",V),R=>{R.exists()&&b(R.data())})},[p]);const N=async V=>{V.preventDefault(),X("");const R=r.trim().toUpperCase();if(!R)return;k(!0);const ne=Ae();try{const me=tf(fo(je,"teams"),ux("name","==",R)),F=await Ab(me);if(F.empty){const se=await mx(fo(je,"teams"),{name:R,score:0,joinedAt:new Date,status:"pending",deviceId:ne});localStorage.setItem("teamId",se.id),s(se.id)}else{const se=F.docs[0];if(se.data().deviceId===ne)localStorage.setItem("teamId",se.id),s(se.id);else{X(" Nome squadra gi in uso!"),k(!1);return}}}catch(me){X("Errore: "+me.message),k(!1)}},w=async()=>{!E||!E.isActive||E.isSolved||(G.trim().toUpperCase()===E.solution?(await ir(Je(je,"games","anagram"),{isSolved:!0,winner:r}),await ir(Je(je,"teams",n),{score:Ul(50)})):(alert("SBAGLIATO! Riprova."),te("")))},I=async()=>{if(f<5)return alert("Punti insufficienti!");const V=E.solution;let R=[];for(let ne=0;ne<V.length;ne++)ve.includes(ne)||R.push(ne);R.length!==0&&(Re([...ve,R[Math.floor(Math.random()*R.length)]]),await ir(Je(je,"teams",n),{score:Ul(-5)}))},M=async()=>{if(f<20)return alert("Punti insufficienti!");confirm("Comprare soluzione (-20pt)?")&&(re(E.solution),await ir(Je(je,"teams",n),{score:Ul(-20)}))},D=async()=>{ie.trim().toUpperCase()===E.solution?(await ir(Je(je,"teams",n),{score:Ul(50)}),alert("ZIP RISOLTA!"),re("")):alert("Risposta Errata!")};return o==="login"||!n?C.jsx("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white",children:C.jsxs("div",{className:"w-full max-w-md bg-slate-800 p-8 rounded-2xl shadow-2xl border border-slate-700 text-center",children:[C.jsx("div",{className:"flex justify-center mb-6",children:C.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 p-5 rounded-full shadow-lg",children:C.jsx(Wm,{size:40})})}),C.jsx("div",{className:"flex justify-center mb-6",children:C.jsx("img",{src:l1,alt:"Logo",className:"h-16 w-auto"})}),C.jsxs("form",{onSubmit:N,className:"space-y-4 mt-8",children:[C.jsx("input",{type:"text",placeholder:"NOME SQUADRA",value:r,onChange:V=>e(V.target.value),className:"w-full bg-slate-700 text-white border border-slate-600 rounded-xl px-4 py-4 text-center text-xl font-bold outline-none uppercase",disabled:S,maxLength:15}),H&&C.jsxs("div",{className:"bg-red-500/20 border border-red-500 text-red-200 p-3 rounded-lg text-sm font-bold animate-pulse flex items-center justify-center gap-2",children:[C.jsx(o1,{size:16})," ",H]}),C.jsx("button",{disabled:S,className:`w-full text-white font-black text-xl py-4 rounded-xl shadow-lg transition-all ${S?"bg-slate-600":"bg-blue-600 hover:bg-blue-500 active:scale-95"}`,children:S?"ACCESSO...":"ENTRA IN GIOCO"})]}),C.jsx("p",{className:"mt-6 text-slate-500 text-xs",children:"Un solo dispositivo consentito per squadra."})]})}):o==="pending"?C.jsx("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-white",children:C.jsxs("div",{className:"w-full max-w-md text-center space-y-6 animate-in zoom-in",children:[C.jsx("div",{className:"text-6xl animate-bounce",children:""}),C.jsx("h1",{className:"text-3xl font-black",children:"RICHIESTA INVIATA"}),C.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700",children:[C.jsx("p",{className:"text-slate-400 mb-2",children:"Hai registrato la squadra:"}),C.jsx("p",{className:"text-2xl font-black text-yellow-400 uppercase",children:r})]}),C.jsx("div",{className:"bg-blue-900/30 p-4 rounded-xl text-sm text-blue-200 border border-blue-500/30",children:"Attendi che l'Admin ti accetti per iniziare a giocare."})]})}):C.jsxs("div",{className:"min-h-screen bg-slate-900 text-white pb-20",children:[C.jsxs("div",{className:"bg-slate-800 p-4 flex justify-between items-center sticky top-0 z-50 shadow-md border-b border-slate-700",children:[C.jsx("div",{className:"font-bold truncate max-w-[150px] uppercase text-sm tracking-wider",children:r}),C.jsx("div",{className:"bg-yellow-500 text-black font-black px-4 py-1 rounded-full text-lg shadow-lg shadow-yellow-500/20",children:f})]}),E&&E.startTime&&E.duration&&C.jsx("div",{className:"bg-blue-900/50 p-2 flex justify-center backdrop-blur-sm border-b border-blue-500/30",children:C.jsx(u1,{startTime:E.startTime,durationMinutes:E.duration,onTimeUp:()=>alert("TEMPO SCADUTO!")})}),C.jsxs("div",{className:"p-4 flex flex-col items-center min-h-[60vh] justify-center w-full max-w-lg mx-auto",children:[p==="LOBBY"&&C.jsxs("div",{className:"text-center animate-pulse space-y-4 opacity-80",children:[C.jsx("div",{className:"text-6xl",children:""}),C.jsx("h2",{className:"text-2xl font-bold text-slate-400",children:"ATTENDI IL PROSSIMO GIOCO"}),C.jsx("p",{className:"text-sm text-slate-500",children:"Guarda lo schermo principale"})]}),p==="WORDLE"&&C.jsx("div",{className:"w-full animate-in zoom-in duration-300",children:C.jsx(tO,{teamId:n})}),p==="HL"&&C.jsxs("div",{className:"text-center p-8 bg-blue-900/40 rounded-2xl border border-blue-500 animate-in slide-in-from-bottom",children:[C.jsx("h2",{className:"text-3xl font-black mb-4 text-blue-400",children:"HIGHER OR LOWER"}),C.jsx("p",{className:"text-xl font-bold text-white",children:"Occhi allo schermo!"})]}),p==="ANAGRAM"&&E&&C.jsxs("div",{className:"w-full animate-in slide-in-from-bottom",children:[C.jsx("h2",{className:"text-center text-purple-400 font-bold mb-4 uppercase tracking-widest text-sm",children:"Risolvi l'Anagramma"}),E.isSolved?C.jsxs("div",{className:"bg-green-600 p-6 rounded-xl text-center shadow-lg border border-green-400",children:[C.jsx("h3",{className:"text-3xl font-black mb-2",children:"RISOLTO!"}),C.jsxs("p",{className:"text-lg font-bold opacity-90",children:["Vincitore: ",E.winner]}),E.winner===r&&C.jsx("p",{className:"mt-2 bg-white text-green-700 px-2 py-1 rounded font-bold text-sm inline-block",children:"+50 Punti per te!"})]}):C.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-purple-500/30 shadow-2xl",children:[C.jsx("div",{className:"text-2xl font-black text-center mb-8 text-white uppercase tracking-widest bg-black/20 p-4 rounded-xl border border-white/10",children:E.phrase}),C.jsx("input",{value:G,onChange:V=>te(V.target.value),type:"text",placeholder:"SCRIVI SOLUZIONE",className:"w-full bg-slate-900 p-4 rounded-xl text-center font-bold text-white uppercase mb-4 focus:ring-2 focus:ring-purple-500 outline-none border border-slate-700"}),C.jsxs("button",{onClick:w,className:"w-full bg-purple-600 hover:bg-purple-500 text-white py-4 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg transition-transform active:scale-95",children:[C.jsx(a1,{size:20})," INVIA TENTATIVO"]})]})]}),p==="ZIP"&&E&&C.jsxs("div",{className:"w-full animate-in slide-in-from-bottom",children:[C.jsx("h2",{className:"text-center text-orange-400 font-bold mb-4 uppercase tracking-widest text-sm",children:"La Zip"}),C.jsxs("div",{className:"flex justify-between items-center font-bold text-sm mb-6 px-4 bg-slate-800 py-4 rounded-xl border border-slate-700",children:[C.jsx("div",{className:"bg-black/30 px-3 py-2 rounded text-slate-300",children:E.wordA}),C.jsx("div",{className:"text-orange-500 animate-pulse",children:""}),C.jsx("div",{className:"bg-black/30 px-3 py-2 rounded text-slate-300",children:E.wordB})]}),C.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-orange-500/30 space-y-6 shadow-2xl",children:[C.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:E.solution.split("").map((V,R)=>C.jsx("div",{className:`w-10 h-12 flex items-center justify-center font-bold rounded-lg text-xl border transition-all ${ve.includes(R)?"bg-orange-600 border-orange-500 text-white shadow-lg scale-110":"bg-slate-900 border-slate-600 text-white"}`,children:ve.includes(R)?V:(ie[R]||"").toUpperCase()},R))}),C.jsx("input",{value:ie,onChange:V=>re(V.target.value),type:"text",placeholder:"SCRIVI SOLUZIONE",className:"w-full bg-slate-900 p-4 rounded-xl text-center font-bold text-white uppercase focus:ring-2 focus:ring-orange-500 outline-none border border-slate-700"}),C.jsx("button",{onClick:D,className:"w-full bg-orange-600 hover:bg-orange-500 text-white py-4 rounded-xl font-bold shadow-lg transition-transform active:scale-95",children:"CONFERMA RISPOSTA"}),C.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-slate-700",children:[C.jsxs("button",{onClick:I,className:"bg-slate-700 py-3 rounded-lg text-xs font-bold flex items-center justify-center gap-2 hover:bg-slate-600 border border-slate-600",children:[C.jsx(KD,{size:16,className:"text-orange-400"})," LETTERA (-5)"]}),C.jsxs("button",{onClick:M,className:"bg-slate-700 py-3 rounded-lg text-xs font-bold flex items-center justify-center gap-2 hover:bg-slate-600 border border-slate-600",children:[C.jsx(s1,{size:16,className:"text-orange-400"})," SOLUZIONE (-20)"]})]})]})]})]})]})}function iO(){return C.jsx(cw,{children:C.jsxs(BS,{children:[C.jsx(th,{path:"/admin",element:C.jsx(JD,{})}),C.jsx(th,{path:"/host",element:C.jsx(eO,{})}),C.jsx(th,{path:"/",element:C.jsx(nO,{})})]})})}XA.createRoot(document.getElementById("root")).render(C.jsx(B.StrictMode,{children:C.jsx(iO,{})}));
